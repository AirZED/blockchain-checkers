var OR=Object.defineProperty;var PR=(n,t,e)=>t in n?OR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Ht=(n,t,e)=>PR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();function ss(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function oc(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),e}var ig={exports:{}},el={},sg={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function DR(){if(rb)return jt;rb=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function B(g){return g===null||typeof g!="object"?null:(g=T&&g[T]||g["@@iterator"],typeof g=="function"?g:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function N(g,c,d){this.props=g,this.context=c,this.refs=P,this.updater=d||M}N.prototype.isReactComponent={},N.prototype.setState=function(g,c){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,c,"setState")},N.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function $(){}$.prototype=N.prototype;function j(g,c,d){this.props=g,this.context=c,this.refs=P,this.updater=d||M}var F=j.prototype=new $;F.constructor=j,O(F,N.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,J=Object.prototype.hasOwnProperty,X={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function re(g,c,d){var R,D={},H=null,ee=null;if(c!=null)for(R in c.ref!==void 0&&(ee=c.ref),c.key!==void 0&&(H=""+c.key),c)J.call(c,R)&&!te.hasOwnProperty(R)&&(D[R]=c[R]);var oe=arguments.length-2;if(oe===1)D.children=d;else if(1<oe){for(var fe=Array(oe),Ue=0;Ue<oe;Ue++)fe[Ue]=arguments[Ue+2];D.children=fe}if(g&&g.defaultProps)for(R in oe=g.defaultProps,oe)D[R]===void 0&&(D[R]=oe[R]);return{$$typeof:n,type:g,key:H,ref:ee,props:D,_owner:X.current}}function W(g,c){return{$$typeof:n,type:g.type,key:c,ref:g.ref,props:g.props,_owner:g._owner}}function q(g){return typeof g=="object"&&g!==null&&g.$$typeof===n}function K(g){var c={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(d){return c[d]})}var V=/\/+/g;function S(g,c){return typeof g=="object"&&g!==null&&g.key!=null?K(""+g.key):c.toString(36)}function a(g,c,d,R,D){var H=typeof g;(H==="undefined"||H==="boolean")&&(g=null);var ee=!1;if(g===null)ee=!0;else switch(H){case"string":case"number":ee=!0;break;case"object":switch(g.$$typeof){case n:case t:ee=!0}}if(ee)return ee=g,D=D(ee),g=R===""?"."+S(ee,0):R,Y(D)?(d="",g!=null&&(d=g.replace(V,"$&/")+"/"),a(D,c,d,"",function(Ue){return Ue})):D!=null&&(q(D)&&(D=W(D,d+(!D.key||ee&&ee.key===D.key?"":(""+D.key).replace(V,"$&/")+"/")+g)),c.push(D)),1;if(ee=0,R=R===""?".":R+":",Y(g))for(var oe=0;oe<g.length;oe++){H=g[oe];var fe=R+S(H,oe);ee+=a(H,c,d,fe,D)}else if(fe=B(g),typeof fe=="function")for(g=fe.call(g),oe=0;!(H=g.next()).done;)H=H.value,fe=R+S(H,oe++),ee+=a(H,c,d,fe,D);else if(H==="object")throw c=String(g),Error("Objects are not valid as a React child (found: "+(c==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":c)+"). If you meant to render a collection of children, use an array instead.");return ee}function h(g,c,d){if(g==null)return g;var R=[],D=0;return a(g,R,"","",function(H){return c.call(d,H,D++)}),R}function m(g){if(g._status===-1){var c=g._result;c=c(),c.then(function(d){(g._status===0||g._status===-1)&&(g._status=1,g._result=d)},function(d){(g._status===0||g._status===-1)&&(g._status=2,g._result=d)}),g._status===-1&&(g._status=0,g._result=c)}if(g._status===1)return g._result.default;throw g._result}var E={current:null},A={transition:null},I={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:A,ReactCurrentOwner:X};function k(){throw Error("act(...) is not supported in production builds of React.")}return jt.Children={map:h,forEach:function(g,c,d){h(g,function(){c.apply(this,arguments)},d)},count:function(g){var c=0;return h(g,function(){c++}),c},toArray:function(g){return h(g,function(c){return c})||[]},only:function(g){if(!q(g))throw Error("React.Children.only expected to receive a single React element child.");return g}},jt.Component=N,jt.Fragment=e,jt.Profiler=s,jt.PureComponent=j,jt.StrictMode=r,jt.Suspense=p,jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,jt.act=k,jt.cloneElement=function(g,c,d){if(g==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+g+".");var R=O({},g.props),D=g.key,H=g.ref,ee=g._owner;if(c!=null){if(c.ref!==void 0&&(H=c.ref,ee=X.current),c.key!==void 0&&(D=""+c.key),g.type&&g.type.defaultProps)var oe=g.type.defaultProps;for(fe in c)J.call(c,fe)&&!te.hasOwnProperty(fe)&&(R[fe]=c[fe]===void 0&&oe!==void 0?oe[fe]:c[fe])}var fe=arguments.length-2;if(fe===1)R.children=d;else if(1<fe){oe=Array(fe);for(var Ue=0;Ue<fe;Ue++)oe[Ue]=arguments[Ue+2];R.children=oe}return{$$typeof:n,type:g.type,key:D,ref:H,props:R,_owner:ee}},jt.createContext=function(g){return g={$$typeof:u,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},g.Provider={$$typeof:i,_context:g},g.Consumer=g},jt.createElement=re,jt.createFactory=function(g){var c=re.bind(null,g);return c.type=g,c},jt.createRef=function(){return{current:null}},jt.forwardRef=function(g){return{$$typeof:f,render:g}},jt.isValidElement=q,jt.lazy=function(g){return{$$typeof:b,_payload:{_status:-1,_result:g},_init:m}},jt.memo=function(g,c){return{$$typeof:w,type:g,compare:c===void 0?null:c}},jt.startTransition=function(g){var c=A.transition;A.transition={};try{g()}finally{A.transition=c}},jt.unstable_act=k,jt.useCallback=function(g,c){return E.current.useCallback(g,c)},jt.useContext=function(g){return E.current.useContext(g)},jt.useDebugValue=function(){},jt.useDeferredValue=function(g){return E.current.useDeferredValue(g)},jt.useEffect=function(g,c){return E.current.useEffect(g,c)},jt.useId=function(){return E.current.useId()},jt.useImperativeHandle=function(g,c,d){return E.current.useImperativeHandle(g,c,d)},jt.useInsertionEffect=function(g,c){return E.current.useInsertionEffect(g,c)},jt.useLayoutEffect=function(g,c){return E.current.useLayoutEffect(g,c)},jt.useMemo=function(g,c){return E.current.useMemo(g,c)},jt.useReducer=function(g,c,d){return E.current.useReducer(g,c,d)},jt.useRef=function(g){return E.current.useRef(g)},jt.useState=function(g){return E.current.useState(g)},jt.useSyncExternalStore=function(g,c,d){return E.current.useSyncExternalStore(g,c,d)},jt.useTransition=function(){return E.current.useTransition()},jt.version="18.3.1",jt}var ib;function w1(){return ib||(ib=1,sg.exports=DR()),sg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function UR(){if(sb)return el;sb=1;var n=w1(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,w){var b,T={},B=null,M=null;w!==void 0&&(B=""+w),p.key!==void 0&&(B=""+p.key),p.ref!==void 0&&(M=p.ref);for(b in p)r.call(p,b)&&!i.hasOwnProperty(b)&&(T[b]=p[b]);if(f&&f.defaultProps)for(b in p=f.defaultProps,p)T[b]===void 0&&(T[b]=p[b]);return{$$typeof:t,type:f,key:B,ref:M,props:T,_owner:s.current}}return el.Fragment=e,el.jsx=u,el.jsxs=u,el}var ob;function zR(){return ob||(ob=1,ig.exports=UR()),ig.exports}var kt=zR(),ce=w1();const Ne=ss(ce);var gh={},og={exports:{}},ei={},ag={exports:{}},ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function FR(){return ab||(ab=1,function(n){function t(A,I){var k=A.length;A.push(I);e:for(;0<k;){var g=k-1>>>1,c=A[g];if(0<s(c,I))A[g]=I,A[k]=c,k=g;else break e}}function e(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var I=A[0],k=A.pop();if(k!==I){A[0]=k;e:for(var g=0,c=A.length,d=c>>>1;g<d;){var R=2*(g+1)-1,D=A[R],H=R+1,ee=A[H];if(0>s(D,k))H<c&&0>s(ee,D)?(A[g]=ee,A[H]=k,g=H):(A[g]=D,A[R]=k,g=R);else if(H<c&&0>s(ee,k))A[g]=ee,A[H]=k,g=H;else break e}}return I}function s(A,I){var k=A.sortIndex-I.sortIndex;return k!==0?k:A.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],w=[],b=1,T=null,B=3,M=!1,O=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(A){for(var I=e(w);I!==null;){if(I.callback===null)r(w);else if(I.startTime<=A)r(w),I.sortIndex=I.expirationTime,t(p,I);else break;I=e(w)}}function Y(A){if(P=!1,F(A),!O)if(e(p)!==null)O=!0,m(J);else{var I=e(w);I!==null&&E(Y,I.startTime-A)}}function J(A,I){O=!1,P&&(P=!1,$(re),re=-1),M=!0;var k=B;try{for(F(I),T=e(p);T!==null&&(!(T.expirationTime>I)||A&&!K());){var g=T.callback;if(typeof g=="function"){T.callback=null,B=T.priorityLevel;var c=g(T.expirationTime<=I);I=n.unstable_now(),typeof c=="function"?T.callback=c:T===e(p)&&r(p),F(I)}else r(p);T=e(p)}if(T!==null)var d=!0;else{var R=e(w);R!==null&&E(Y,R.startTime-I),d=!1}return d}finally{T=null,B=k,M=!1}}var X=!1,te=null,re=-1,W=5,q=-1;function K(){return!(n.unstable_now()-q<W)}function V(){if(te!==null){var A=n.unstable_now();q=A;var I=!0;try{I=te(!0,A)}finally{I?S():(X=!1,te=null)}}else X=!1}var S;if(typeof j=="function")S=function(){j(V)};else if(typeof MessageChannel<"u"){var a=new MessageChannel,h=a.port2;a.port1.onmessage=V,S=function(){h.postMessage(null)}}else S=function(){N(V,0)};function m(A){te=A,X||(X=!0,S())}function E(A,I){re=N(function(){A(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_continueExecution=function(){O||M||(O=!0,m(J))},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return B},n.unstable_getFirstCallbackNode=function(){return e(p)},n.unstable_next=function(A){switch(B){case 1:case 2:case 3:var I=3;break;default:I=B}var k=B;B=I;try{return A()}finally{B=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=B;B=A;try{return I()}finally{B=k}},n.unstable_scheduleCallback=function(A,I,k){var g=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?g+k:g):k=g,A){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=k+c,A={id:b++,callback:I,priorityLevel:A,startTime:k,expirationTime:c,sortIndex:-1},k>g?(A.sortIndex=k,t(w,A),e(p)===null&&A===e(w)&&(P?($(re),re=-1):P=!0,E(Y,k-g))):(A.sortIndex=c,t(p,A),O||M||(O=!0,m(J))),A},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(A){var I=B;return function(){var k=B;B=I;try{return A.apply(this,arguments)}finally{B=k}}}}(ug)),ug}var ub;function $R(){return ub||(ub=1,ag.exports=FR()),ag.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function jR(){if(cb)return ei;cb=1;var n=w1(),t=$R();function e(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,y=1;y<arguments.length;y++)l+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){u(o,l),u(o+"Capture",l)}function u(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},T={};function B(o){return p.call(T,o)?!0:p.call(b,o)?!1:w.test(o)?T[o]=!0:(b[o]=!0,!1)}function M(o,l,y,x){if(y!==null&&y.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:y!==null?!y.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function O(o,l,y,x){if(l===null||typeof l>"u"||M(o,l,y,x))return!0;if(x)return!1;if(y!==null)switch(y.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(o,l,y,x,L,z,Z){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=L,this.mustUseProperty=y,this.propertyName=o,this.type=l,this.sanitizeURL=z,this.removeEmptyString=Z}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new P(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];N[l]=new P(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new P(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new P(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new P(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new P(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new P(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new P(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new P(o,5,!1,o.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace($,j);N[l]=new P(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace($,j);N[l]=new P(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace($,j);N[l]=new P(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new P(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new P(o,1,!1,o.toLowerCase(),null,!0,!0)});function F(o,l,y,x){var L=N.hasOwnProperty(l)?N[l]:null;(L!==null?L.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(O(l,y,L,x)&&(y=null),x||L===null?B(l)&&(y===null?o.removeAttribute(l):o.setAttribute(l,""+y)):L.mustUseProperty?o[L.propertyName]=y===null?L.type===3?!1:"":y:(l=L.attributeName,x=L.attributeNamespace,y===null?o.removeAttribute(l):(L=L.type,y=L===3||L===4&&y===!0?"":""+y,x?o.setAttributeNS(x,l,y):o.setAttribute(l,y))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),X=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),K=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),a=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),A=Symbol.iterator;function I(o){return o===null||typeof o!="object"?null:(o=A&&o[A]||o["@@iterator"],typeof o=="function"?o:null)}var k=Object.assign,g;function c(o){if(g===void 0)try{throw Error()}catch(y){var l=y.stack.trim().match(/\n( *(at )?)/);g=l&&l[1]||""}return`
`+g+o}var d=!1;function R(o,l){if(!o||d)return"";d=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ve){var x=ve}Reflect.construct(o,[],l)}else{try{l.call()}catch(ve){x=ve}o.call(l.prototype)}else{try{throw Error()}catch(ve){x=ve}o()}}catch(ve){if(ve&&x&&typeof ve.stack=="string"){for(var L=ve.stack.split(`
`),z=x.stack.split(`
`),Z=L.length-1,ie=z.length-1;1<=Z&&0<=ie&&L[Z]!==z[ie];)ie--;for(;1<=Z&&0<=ie;Z--,ie--)if(L[Z]!==z[ie]){if(Z!==1||ie!==1)do if(Z--,ie--,0>ie||L[Z]!==z[ie]){var ue=`
`+L[Z].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=Z&&0<=ie);break}}}finally{d=!1,Error.prepareStackTrace=y}return(o=o?o.displayName||o.name:"")?c(o):""}function D(o){switch(o.tag){case 5:return c(o.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 2:case 15:return o=R(o.type,!1),o;case 11:return o=R(o.type.render,!1),o;case 1:return o=R(o.type,!0),o;default:return""}}function H(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case te:return"Fragment";case X:return"Portal";case W:return"Profiler";case re:return"StrictMode";case S:return"Suspense";case a:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case K:return(o.displayName||"Context")+".Consumer";case q:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case h:return l=o.displayName||null,l!==null?l:H(o.type)||"Memo";case m:l=o._payload,o=o._init;try{return H(o(l))}catch{}}return null}function ee(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(l);case 8:return l===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function oe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ue(o){var l=fe(o)?"checked":"value",y=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),x=""+o[l];if(!o.hasOwnProperty(l)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var L=y.get,z=y.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return L.call(this)},set:function(Z){x=""+Z,z.call(this,Z)}}),Object.defineProperty(o,l,{enumerable:y.enumerable}),{getValue:function(){return x},setValue:function(Z){x=""+Z},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Se(o){o._valueTracker||(o._valueTracker=Ue(o))}function xe(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var y=l.getValue(),x="";return o&&(x=fe(o)?o.checked?"true":"false":o.value),o=x,o!==y?(l.setValue(o),!0):!1}function Bt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Re(o,l){var y=l.checked;return k({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??o._wrapperState.initialChecked})}function Be(o,l){var y=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;y=oe(l.value!=null?l.value:y),o._wrapperState={initialChecked:x,initialValue:y,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Gn(o,l){l=l.checked,l!=null&&F(o,"checked",l,!1)}function We(o,l){Gn(o,l);var y=oe(l.value),x=l.type;if(y!=null)x==="number"?(y===0&&o.value===""||o.value!=y)&&(o.value=""+y):o.value!==""+y&&(o.value=""+y);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Fn(o,l.type,y):l.hasOwnProperty("defaultValue")&&Fn(o,l.type,oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Qe(o,l,y){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,y||l===o.value||(o.value=l),o.defaultValue=l}y=o.name,y!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,y!==""&&(o.name=y)}function Fn(o,l,y){(l!=="number"||Bt(o.ownerDocument)!==o)&&(y==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+y&&(o.defaultValue=""+y))}var ze=Array.isArray;function Oe(o,l,y,x){if(o=o.options,l){l={};for(var L=0;L<y.length;L++)l["$"+y[L]]=!0;for(y=0;y<o.length;y++)L=l.hasOwnProperty("$"+o[y].value),o[y].selected!==L&&(o[y].selected=L),L&&x&&(o[y].defaultSelected=!0)}else{for(y=""+oe(y),l=null,L=0;L<o.length;L++){if(o[L].value===y){o[L].selected=!0,x&&(o[L].defaultSelected=!0);return}l!==null||o[L].disabled||(l=o[L])}l!==null&&(l.selected=!0)}}function Lt(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(e(91));return k({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function $e(o,l){var y=l.value;if(y==null){if(y=l.children,l=l.defaultValue,y!=null){if(l!=null)throw Error(e(92));if(ze(y)){if(1<y.length)throw Error(e(93));y=y[0]}l=y}l==null&&(l=""),y=l}o._wrapperState={initialValue:oe(y)}}function qe(o,l){var y=oe(l.value),x=oe(l.defaultValue);y!=null&&(y=""+y,y!==o.value&&(o.value=y),l.defaultValue==null&&o.defaultValue!==y&&(o.defaultValue=y)),x!=null&&(o.defaultValue=""+x)}function Kt(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Ke(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Ke(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var v,_=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,y,x,L){MSApp.execUnsafeLocalFunction(function(){return o(l,y,x,L)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(v=v||document.createElement("div"),v.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=v.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function U(o,l){if(l){var y=o.firstChild;if(y&&y===o.lastChild&&y.nodeType===3){y.nodeValue=l;return}}o.textContent=l}var G={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q=["Webkit","ms","Moz","O"];Object.keys(G).forEach(function(o){Q.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),G[l]=G[o]})});function ne(o,l,y){return l==null||typeof l=="boolean"||l===""?"":y||typeof l!="number"||l===0||G.hasOwnProperty(o)&&G[o]?(""+l).trim():l+"px"}function Le(o,l){o=o.style;for(var y in l)if(l.hasOwnProperty(y)){var x=y.indexOf("--")===0,L=ne(y,l[y],x);y==="float"&&(y="cssFloat"),x?o.setProperty(y,L):o[y]=L}}var Ee=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(o,l){if(l){if(Ee[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(e(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(e(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(e(61))}if(l.style!=null&&typeof l.style!="object")throw Error(e(62))}}function St(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function st(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ri=null,et=null,tt=null;function Hi(o){if(o=zc(o)){if(typeof Ri!="function")throw Error(e(280));var l=o.stateNode;l&&(l=Tf(l),Ri(o.stateNode,o.type,l))}}function lt(o){et?tt?tt.push(o):tt=[o]:et=o}function ft(){if(et){var o=et,l=tt;if(tt=et=null,Hi(o),l)for(o=0;o<l.length;o++)Hi(l[o])}}function Wi(o,l){return o(l)}function ht(){}var ot=!1;function qi(o,l,y){if(ot)return o(l,y);ot=!0;try{return Wi(o,l,y)}finally{ot=!1,(et!==null||tt!==null)&&(ht(),ft())}}function nt(o,l){var y=o.stateNode;if(y===null)return null;var x=Tf(y);if(x===null)return null;y=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(y&&typeof y!="function")throw Error(e(231,l,typeof y));return y}var at=!1;if(f)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){at=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{at=!1}function gt(o,l,y,x,L,z,Z,ie,ue){var ve=Array.prototype.slice.call(arguments,3);try{l.apply(y,ve)}catch(Ae){this.onError(Ae)}}var rt=!1,ci=null,it=!1,ut=null,os={onError:function(o){rt=!0,ci=o}};function yt(o,l,y,x,L,z,Z,ie,ue){rt=!1,ci=null,gt.apply(os,arguments)}function mt(o,l,y,x,L,z,Z,ie,ue){if(yt.apply(this,arguments),rt){if(rt){var ve=ci;rt=!1,ci=null}else throw Error(e(198));it||(it=!0,ut=ve)}}function wr(o){var l=o,y=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(y=l.return),o=l.return;while(o)}return l.tag===3?y:null}function dt(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function pt(o){if(wr(o)!==o)throw Error(e(188))}function li(o){var l=o.alternate;if(!l){if(l=wr(o),l===null)throw Error(e(188));return l!==o?null:o}for(var y=o,x=l;;){var L=y.return;if(L===null)break;var z=L.alternate;if(z===null){if(x=L.return,x!==null){y=x;continue}break}if(L.child===z.child){for(z=L.child;z;){if(z===y)return pt(L),o;if(z===x)return pt(L),l;z=z.sibling}throw Error(e(188))}if(y.return!==x.return)y=L,x=z;else{for(var Z=!1,ie=L.child;ie;){if(ie===y){Z=!0,y=L,x=z;break}if(ie===x){Z=!0,x=L,y=z;break}ie=ie.sibling}if(!Z){for(ie=z.child;ie;){if(ie===y){Z=!0,y=z,x=L;break}if(ie===x){Z=!0,x=z,y=L;break}ie=ie.sibling}if(!Z)throw Error(e(189))}}if(y.alternate!==x)throw Error(e(190))}if(y.tag!==3)throw Error(e(188));return y.stateNode.current===y?o:l}function Hr(o){return o=li(o),o!==null?Wr(o):null}function Wr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Wr(o);if(l!==null)return l;o=o.sibling}return null}var qr=t.unstable_scheduleCallback,Kr=t.unstable_cancelCallback,fi=t.unstable_shouldYield,hi=t.unstable_requestPaint,Yt=t.unstable_now,di=t.unstable_getCurrentPriorityLevel,Lr=t.unstable_ImmediatePriority,Vr=t.unstable_UserBlockingPriority,vr=t.unstable_NormalPriority,pi=t.unstable_LowPriority,Gr=t.unstable_IdlePriority,_r=null,Cn=null;function gi(o){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(_r,o,void 0,(o.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:eM,yi=Math.log,XI=Math.LN2;function eM(o){return o>>>=0,o===0?32:31-(yi(o)/XI|0)|0}var hf=64,df=4194304;function bc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function pf(o,l){var y=o.pendingLanes;if(y===0)return 0;var x=0,L=o.suspendedLanes,z=o.pingedLanes,Z=y&268435455;if(Z!==0){var ie=Z&~L;ie!==0?x=bc(ie):(z&=Z,z!==0&&(x=bc(z)))}else Z=y&~L,Z!==0?x=bc(Z):z!==0&&(x=bc(z));if(x===0)return 0;if(l!==0&&l!==x&&!(l&L)&&(L=x&-x,z=l&-l,L>=z||L===16&&(z&4194240)!==0))return l;if(x&4&&(x|=y&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=x;0<l;)y=31-Sn(l),L=1<<y,x|=o[y],l&=~L;return x}function tM(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nM(o,l){for(var y=o.suspendedLanes,x=o.pingedLanes,L=o.expirationTimes,z=o.pendingLanes;0<z;){var Z=31-Sn(z),ie=1<<Z,ue=L[Z];ue===-1?(!(ie&y)||ie&x)&&(L[Z]=tM(ie,l)):ue<=l&&(o.expiredLanes|=ie),z&=~ie}}function k0(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Lw(){var o=hf;return hf<<=1,!(hf&4194240)&&(hf=64),o}function A0(o){for(var l=[],y=0;31>y;y++)l.push(o);return l}function Ec(o,l,y){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Sn(l),o[l]=y}function rM(o,l){var y=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<y;){var L=31-Sn(y),z=1<<L;l[L]=0,x[L]=-1,o[L]=-1,y&=~z}}function I0(o,l){var y=o.entangledLanes|=l;for(o=o.entanglements;y;){var x=31-Sn(y),L=1<<x;L&l|o[x]&l&&(o[x]|=l),y&=~L}}var on=0;function Ow(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Pw,M0,Dw,Uw,zw,R0=!1,gf=[],co=null,lo=null,fo=null,Sc=new Map,xc=new Map,ho=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fw(o,l){switch(o){case"focusin":case"focusout":co=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Sc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(l.pointerId)}}function kc(o,l,y,x,L,z){return o===null||o.nativeEvent!==z?(o={blockedOn:l,domEventName:y,eventSystemFlags:x,nativeEvent:z,targetContainers:[L]},l!==null&&(l=zc(l),l!==null&&M0(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,L!==null&&l.indexOf(L)===-1&&l.push(L),o)}function sM(o,l,y,x,L){switch(l){case"focusin":return co=kc(co,o,l,y,x,L),!0;case"dragenter":return lo=kc(lo,o,l,y,x,L),!0;case"mouseover":return fo=kc(fo,o,l,y,x,L),!0;case"pointerover":var z=L.pointerId;return Sc.set(z,kc(Sc.get(z)||null,o,l,y,x,L)),!0;case"gotpointercapture":return z=L.pointerId,xc.set(z,kc(xc.get(z)||null,o,l,y,x,L)),!0}return!1}function $w(o){var l=oa(o.target);if(l!==null){var y=wr(l);if(y!==null){if(l=y.tag,l===13){if(l=dt(y),l!==null){o.blockedOn=l,zw(o.priority,function(){Dw(y)});return}}else if(l===3&&y.stateNode.current.memoizedState.isDehydrated){o.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}o.blockedOn=null}function yf(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var y=N0(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(y===null){y=o.nativeEvent;var x=new y.constructor(y.type,y);_e=x,y.target.dispatchEvent(x),_e=null}else return l=zc(y),l!==null&&M0(l),o.blockedOn=y,!1;l.shift()}return!0}function jw(o,l,y){yf(o)&&y.delete(l)}function oM(){R0=!1,co!==null&&yf(co)&&(co=null),lo!==null&&yf(lo)&&(lo=null),fo!==null&&yf(fo)&&(fo=null),Sc.forEach(jw),xc.forEach(jw)}function Ac(o,l){o.blockedOn===l&&(o.blockedOn=null,R0||(R0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oM)))}function Ic(o){function l(L){return Ac(L,o)}if(0<gf.length){Ac(gf[0],o);for(var y=1;y<gf.length;y++){var x=gf[y];x.blockedOn===o&&(x.blockedOn=null)}}for(co!==null&&Ac(co,o),lo!==null&&Ac(lo,o),fo!==null&&Ac(fo,o),Sc.forEach(l),xc.forEach(l),y=0;y<ho.length;y++)x=ho[y],x.blockedOn===o&&(x.blockedOn=null);for(;0<ho.length&&(y=ho[0],y.blockedOn===null);)$w(y),y.blockedOn===null&&ho.shift()}var ru=Y.ReactCurrentBatchConfig,mf=!0;function aM(o,l,y,x){var L=on,z=ru.transition;ru.transition=null;try{on=1,T0(o,l,y,x)}finally{on=L,ru.transition=z}}function uM(o,l,y,x){var L=on,z=ru.transition;ru.transition=null;try{on=4,T0(o,l,y,x)}finally{on=L,ru.transition=z}}function T0(o,l,y,x){if(mf){var L=N0(o,l,y,x);if(L===null)G0(o,l,x,wf,y),Fw(o,x);else if(sM(L,o,l,y,x))x.stopPropagation();else if(Fw(o,x),l&4&&-1<iM.indexOf(o)){for(;L!==null;){var z=zc(L);if(z!==null&&Pw(z),z=N0(o,l,y,x),z===null&&G0(o,l,x,wf,y),z===L)break;L=z}L!==null&&x.stopPropagation()}else G0(o,l,x,null,y)}}var wf=null;function N0(o,l,y,x){if(wf=null,o=st(x),o=oa(o),o!==null)if(l=wr(o),l===null)o=null;else if(y=l.tag,y===13){if(o=dt(l),o!==null)return o;o=null}else if(y===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return wf=o,null}function Hw(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(di()){case Lr:return 1;case Vr:return 4;case vr:case pi:return 16;case Gr:return 536870912;default:return 16}default:return 16}}var po=null,B0=null,vf=null;function Ww(){if(vf)return vf;var o,l=B0,y=l.length,x,L="value"in po?po.value:po.textContent,z=L.length;for(o=0;o<y&&l[o]===L[o];o++);var Z=y-o;for(x=1;x<=Z&&l[y-x]===L[z-x];x++);return vf=L.slice(o,1<x?1-x:void 0)}function _f(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function bf(){return!0}function qw(){return!1}function mi(o){function l(y,x,L,z,Z){this._reactName=y,this._targetInst=L,this.type=x,this.nativeEvent=z,this.target=Z,this.currentTarget=null;for(var ie in o)o.hasOwnProperty(ie)&&(y=o[ie],this[ie]=y?y(z):z[ie]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?bf:qw,this.isPropagationStopped=qw,this}return k(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=bf)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=bf)},persist:function(){},isPersistent:bf}),l}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=mi(iu),Mc=k({},iu,{view:0,detail:0}),cM=mi(Mc),L0,O0,Rc,Ef=k({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Rc&&(Rc&&o.type==="mousemove"?(L0=o.screenX-Rc.screenX,O0=o.screenY-Rc.screenY):O0=L0=0,Rc=o),L0)},movementY:function(o){return"movementY"in o?o.movementY:O0}}),Kw=mi(Ef),lM=k({},Ef,{dataTransfer:0}),fM=mi(lM),hM=k({},Mc,{relatedTarget:0}),P0=mi(hM),dM=k({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),pM=mi(dM),gM=k({},iu,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),yM=mi(gM),mM=k({},iu,{data:0}),Vw=mi(mM),wM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_M={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bM(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_M[o])?!!l[o]:!1}function D0(){return bM}var EM=k({},Mc,{key:function(o){if(o.key){var l=wM[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=_f(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vM[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D0,charCode:function(o){return o.type==="keypress"?_f(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_f(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),SM=mi(EM),xM=k({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=mi(xM),kM=k({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D0}),AM=mi(kM),IM=k({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),MM=mi(IM),RM=k({},Ef,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),TM=mi(RM),NM=[9,13,27,32],U0=f&&"CompositionEvent"in window,Tc=null;f&&"documentMode"in document&&(Tc=document.documentMode);var BM=f&&"TextEvent"in window&&!Tc,Zw=f&&(!U0||Tc&&8<Tc&&11>=Tc),Yw=" ",Qw=!1;function Jw(o,l){switch(o){case"keyup":return NM.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var su=!1;function CM(o,l){switch(o){case"compositionend":return Xw(l);case"keypress":return l.which!==32?null:(Qw=!0,Yw);case"textInput":return o=l.data,o===Yw&&Qw?null:o;default:return null}}function LM(o,l){if(su)return o==="compositionend"||!U0&&Jw(o,l)?(o=Ww(),vf=B0=po=null,su=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Zw&&l.locale!=="ko"?null:l.data;default:return null}}var OM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!OM[o.type]:l==="textarea"}function tv(o,l,y,x){lt(x),l=If(l,"onChange"),0<l.length&&(y=new C0("onChange","change",null,y,x),o.push({event:y,listeners:l}))}var Nc=null,Bc=null;function PM(o){vv(o,0)}function Sf(o){var l=lu(o);if(xe(l))return o}function DM(o,l){if(o==="change")return l}var nv=!1;if(f){var z0;if(f){var F0="oninput"in document;if(!F0){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),F0=typeof rv.oninput=="function"}z0=F0}else z0=!1;nv=z0&&(!document.documentMode||9<document.documentMode)}function iv(){Nc&&(Nc.detachEvent("onpropertychange",sv),Bc=Nc=null)}function sv(o){if(o.propertyName==="value"&&Sf(Bc)){var l=[];tv(l,Bc,o,st(o)),qi(PM,l)}}function UM(o,l,y){o==="focusin"?(iv(),Nc=l,Bc=y,Nc.attachEvent("onpropertychange",sv)):o==="focusout"&&iv()}function zM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sf(Bc)}function FM(o,l){if(o==="click")return Sf(l)}function $M(o,l){if(o==="input"||o==="change")return Sf(l)}function jM(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ki=typeof Object.is=="function"?Object.is:jM;function Cc(o,l){if(Ki(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var y=Object.keys(o),x=Object.keys(l);if(y.length!==x.length)return!1;for(x=0;x<y.length;x++){var L=y[x];if(!p.call(l,L)||!Ki(o[L],l[L]))return!1}return!0}function ov(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function av(o,l){var y=ov(o);o=0;for(var x;y;){if(y.nodeType===3){if(x=o+y.textContent.length,o<=l&&x>=l)return{node:y,offset:l-o};o=x}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=ov(y)}}function uv(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?uv(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function cv(){for(var o=window,l=Bt();l instanceof o.HTMLIFrameElement;){try{var y=typeof l.contentWindow.location.href=="string"}catch{y=!1}if(y)o=l.contentWindow;else break;l=Bt(o.document)}return l}function $0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function HM(o){var l=cv(),y=o.focusedElem,x=o.selectionRange;if(l!==y&&y&&y.ownerDocument&&uv(y.ownerDocument.documentElement,y)){if(x!==null&&$0(y)){if(l=x.start,o=x.end,o===void 0&&(o=l),"selectionStart"in y)y.selectionStart=l,y.selectionEnd=Math.min(o,y.value.length);else if(o=(l=y.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var L=y.textContent.length,z=Math.min(x.start,L);x=x.end===void 0?z:Math.min(x.end,L),!o.extend&&z>x&&(L=x,x=z,z=L),L=av(y,z);var Z=av(y,x);L&&Z&&(o.rangeCount!==1||o.anchorNode!==L.node||o.anchorOffset!==L.offset||o.focusNode!==Z.node||o.focusOffset!==Z.offset)&&(l=l.createRange(),l.setStart(L.node,L.offset),o.removeAllRanges(),z>x?(o.addRange(l),o.extend(Z.node,Z.offset)):(l.setEnd(Z.node,Z.offset),o.addRange(l)))}}for(l=[],o=y;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<l.length;y++)o=l[y],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var WM=f&&"documentMode"in document&&11>=document.documentMode,ou=null,j0=null,Lc=null,H0=!1;function lv(o,l,y){var x=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;H0||ou==null||ou!==Bt(x)||(x=ou,"selectionStart"in x&&$0(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Lc&&Cc(Lc,x)||(Lc=x,x=If(j0,"onSelect"),0<x.length&&(l=new C0("onSelect","select",null,l,y),o.push({event:l,listeners:x}),l.target=ou)))}function xf(o,l){var y={};return y[o.toLowerCase()]=l.toLowerCase(),y["Webkit"+o]="webkit"+l,y["Moz"+o]="moz"+l,y}var au={animationend:xf("Animation","AnimationEnd"),animationiteration:xf("Animation","AnimationIteration"),animationstart:xf("Animation","AnimationStart"),transitionend:xf("Transition","TransitionEnd")},W0={},fv={};f&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function kf(o){if(W0[o])return W0[o];if(!au[o])return o;var l=au[o],y;for(y in l)if(l.hasOwnProperty(y)&&y in fv)return W0[o]=l[y];return o}var hv=kf("animationend"),dv=kf("animationiteration"),pv=kf("animationstart"),gv=kf("transitionend"),yv=new Map,mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(o,l){yv.set(o,l),i(l,[o])}for(var q0=0;q0<mv.length;q0++){var K0=mv[q0],qM=K0.toLowerCase(),KM=K0[0].toUpperCase()+K0.slice(1);go(qM,"on"+KM)}go(hv,"onAnimationEnd"),go(dv,"onAnimationIteration"),go(pv,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(gv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function wv(o,l,y){var x=o.type||"unknown-event";o.currentTarget=y,mt(x,l,void 0,o),o.currentTarget=null}function vv(o,l){l=(l&4)!==0;for(var y=0;y<o.length;y++){var x=o[y],L=x.event;x=x.listeners;e:{var z=void 0;if(l)for(var Z=x.length-1;0<=Z;Z--){var ie=x[Z],ue=ie.instance,ve=ie.currentTarget;if(ie=ie.listener,ue!==z&&L.isPropagationStopped())break e;wv(L,ie,ve),z=ue}else for(Z=0;Z<x.length;Z++){if(ie=x[Z],ue=ie.instance,ve=ie.currentTarget,ie=ie.listener,ue!==z&&L.isPropagationStopped())break e;wv(L,ie,ve),z=ue}}}if(it)throw o=ut,it=!1,ut=null,o}function pn(o,l){var y=l[ep];y===void 0&&(y=l[ep]=new Set);var x=o+"__bubble";y.has(x)||(_v(l,o,2,!1),y.add(x))}function V0(o,l,y){var x=0;l&&(x|=4),_v(y,o,x,l)}var Af="_reactListening"+Math.random().toString(36).slice(2);function Pc(o){if(!o[Af]){o[Af]=!0,r.forEach(function(y){y!=="selectionchange"&&(VM.has(y)||V0(y,!1,o),V0(y,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Af]||(l[Af]=!0,V0("selectionchange",!1,l))}}function _v(o,l,y,x){switch(Hw(l)){case 1:var L=aM;break;case 4:L=uM;break;default:L=T0}y=L.bind(null,l,y,o),L=void 0,!at||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(L=!0),x?L!==void 0?o.addEventListener(l,y,{capture:!0,passive:L}):o.addEventListener(l,y,!0):L!==void 0?o.addEventListener(l,y,{passive:L}):o.addEventListener(l,y,!1)}function G0(o,l,y,x,L){var z=x;if(!(l&1)&&!(l&2)&&x!==null)e:for(;;){if(x===null)return;var Z=x.tag;if(Z===3||Z===4){var ie=x.stateNode.containerInfo;if(ie===L||ie.nodeType===8&&ie.parentNode===L)break;if(Z===4)for(Z=x.return;Z!==null;){var ue=Z.tag;if((ue===3||ue===4)&&(ue=Z.stateNode.containerInfo,ue===L||ue.nodeType===8&&ue.parentNode===L))return;Z=Z.return}for(;ie!==null;){if(Z=oa(ie),Z===null)return;if(ue=Z.tag,ue===5||ue===6){x=z=Z;continue e}ie=ie.parentNode}}x=x.return}qi(function(){var ve=z,Ae=st(y),Te=[];e:{var ke=yv.get(o);if(ke!==void 0){var Je=C0,wt=o;switch(o){case"keypress":if(_f(y)===0)break e;case"keydown":case"keyup":Je=SM;break;case"focusin":wt="focus",Je=P0;break;case"focusout":wt="blur",Je=P0;break;case"beforeblur":case"afterblur":Je=P0;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=fM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=AM;break;case hv:case dv:case pv:Je=pM;break;case gv:Je=MM;break;case"scroll":Je=cM;break;case"wheel":Je=TM;break;case"copy":case"cut":case"paste":Je=yM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=Gw}var vt=(l&4)!==0,Dn=!vt&&o==="scroll",he=vt?ke!==null?ke+"Capture":null:ke;vt=[];for(var le=ve,ge;le!==null;){ge=le;var Ce=ge.stateNode;if(ge.tag===5&&Ce!==null&&(ge=Ce,he!==null&&(Ce=nt(le,he),Ce!=null&&vt.push(Dc(le,Ce,ge)))),Dn)break;le=le.return}0<vt.length&&(ke=new Je(ke,wt,null,y,Ae),Te.push({event:ke,listeners:vt}))}}if(!(l&7)){e:{if(ke=o==="mouseover"||o==="pointerover",Je=o==="mouseout"||o==="pointerout",ke&&y!==_e&&(wt=y.relatedTarget||y.fromElement)&&(oa(wt)||wt[Ns]))break e;if((Je||ke)&&(ke=Ae.window===Ae?Ae:(ke=Ae.ownerDocument)?ke.defaultView||ke.parentWindow:window,Je?(wt=y.relatedTarget||y.toElement,Je=ve,wt=wt?oa(wt):null,wt!==null&&(Dn=wr(wt),wt!==Dn||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(Je=null,wt=ve),Je!==wt)){if(vt=Kw,Ce="onMouseLeave",he="onMouseEnter",le="mouse",(o==="pointerout"||o==="pointerover")&&(vt=Gw,Ce="onPointerLeave",he="onPointerEnter",le="pointer"),Dn=Je==null?ke:lu(Je),ge=wt==null?ke:lu(wt),ke=new vt(Ce,le+"leave",Je,y,Ae),ke.target=Dn,ke.relatedTarget=ge,Ce=null,oa(Ae)===ve&&(vt=new vt(he,le+"enter",wt,y,Ae),vt.target=ge,vt.relatedTarget=Dn,Ce=vt),Dn=Ce,Je&&wt)t:{for(vt=Je,he=wt,le=0,ge=vt;ge;ge=uu(ge))le++;for(ge=0,Ce=he;Ce;Ce=uu(Ce))ge++;for(;0<le-ge;)vt=uu(vt),le--;for(;0<ge-le;)he=uu(he),ge--;for(;le--;){if(vt===he||he!==null&&vt===he.alternate)break t;vt=uu(vt),he=uu(he)}vt=null}else vt=null;Je!==null&&bv(Te,ke,Je,vt,!1),wt!==null&&Dn!==null&&bv(Te,Dn,wt,vt,!0)}}e:{if(ke=ve?lu(ve):window,Je=ke.nodeName&&ke.nodeName.toLowerCase(),Je==="select"||Je==="input"&&ke.type==="file")var _t=DM;else if(ev(ke))if(nv)_t=$M;else{_t=zM;var It=UM}else(Je=ke.nodeName)&&Je.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(_t=FM);if(_t&&(_t=_t(o,ve))){tv(Te,_t,y,Ae);break e}It&&It(o,ke,ve),o==="focusout"&&(It=ke._wrapperState)&&It.controlled&&ke.type==="number"&&Fn(ke,"number",ke.value)}switch(It=ve?lu(ve):window,o){case"focusin":(ev(It)||It.contentEditable==="true")&&(ou=It,j0=ve,Lc=null);break;case"focusout":Lc=j0=ou=null;break;case"mousedown":H0=!0;break;case"contextmenu":case"mouseup":case"dragend":H0=!1,lv(Te,y,Ae);break;case"selectionchange":if(WM)break;case"keydown":case"keyup":lv(Te,y,Ae)}var Mt;if(U0)e:{switch(o){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else su?Jw(o,y)&&(Ct="onCompositionEnd"):o==="keydown"&&y.keyCode===229&&(Ct="onCompositionStart");Ct&&(Zw&&y.locale!=="ko"&&(su||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&su&&(Mt=Ww()):(po=Ae,B0="value"in po?po.value:po.textContent,su=!0)),It=If(ve,Ct),0<It.length&&(Ct=new Vw(Ct,o,null,y,Ae),Te.push({event:Ct,listeners:It}),Mt?Ct.data=Mt:(Mt=Xw(y),Mt!==null&&(Ct.data=Mt)))),(Mt=BM?CM(o,y):LM(o,y))&&(ve=If(ve,"onBeforeInput"),0<ve.length&&(Ae=new Vw("onBeforeInput","beforeinput",null,y,Ae),Te.push({event:Ae,listeners:ve}),Ae.data=Mt))}vv(Te,l)})}function Dc(o,l,y){return{instance:o,listener:l,currentTarget:y}}function If(o,l){for(var y=l+"Capture",x=[];o!==null;){var L=o,z=L.stateNode;L.tag===5&&z!==null&&(L=z,z=nt(o,y),z!=null&&x.unshift(Dc(o,z,L)),z=nt(o,l),z!=null&&x.push(Dc(o,z,L))),o=o.return}return x}function uu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function bv(o,l,y,x,L){for(var z=l._reactName,Z=[];y!==null&&y!==x;){var ie=y,ue=ie.alternate,ve=ie.stateNode;if(ue!==null&&ue===x)break;ie.tag===5&&ve!==null&&(ie=ve,L?(ue=nt(y,z),ue!=null&&Z.unshift(Dc(y,ue,ie))):L||(ue=nt(y,z),ue!=null&&Z.push(Dc(y,ue,ie)))),y=y.return}Z.length!==0&&o.push({event:l,listeners:Z})}var GM=/\r\n?/g,ZM=/\u0000|\uFFFD/g;function Ev(o){return(typeof o=="string"?o:""+o).replace(GM,`
`).replace(ZM,"")}function Mf(o,l,y){if(l=Ev(l),Ev(o)!==l&&y)throw Error(e(425))}function Rf(){}var Z0=null,Y0=null;function Q0(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var J0=typeof setTimeout=="function"?setTimeout:void 0,YM=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,QM=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(o){return Sv.resolve(null).then(o).catch(JM)}:J0;function JM(o){setTimeout(function(){throw o})}function X0(o,l){var y=l,x=0;do{var L=y.nextSibling;if(o.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(x===0){o.removeChild(L),Ic(l);return}x--}else y!=="$"&&y!=="$?"&&y!=="$!"||x++;y=L}while(y);Ic(l)}function yo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function xv(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var y=o.data;if(y==="$"||y==="$!"||y==="$?"){if(l===0)return o;l--}else y==="/$"&&l++}o=o.previousSibling}return null}var cu=Math.random().toString(36).slice(2),as="__reactFiber$"+cu,Uc="__reactProps$"+cu,Ns="__reactContainer$"+cu,ep="__reactEvents$"+cu,XM="__reactListeners$"+cu,eR="__reactHandles$"+cu;function oa(o){var l=o[as];if(l)return l;for(var y=o.parentNode;y;){if(l=y[Ns]||y[as]){if(y=l.alternate,l.child!==null||y!==null&&y.child!==null)for(o=xv(o);o!==null;){if(y=o[as])return y;o=xv(o)}return l}o=y,y=o.parentNode}return null}function zc(o){return o=o[as]||o[Ns],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function lu(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(e(33))}function Tf(o){return o[Uc]||null}var tp=[],fu=-1;function mo(o){return{current:o}}function gn(o){0>fu||(o.current=tp[fu],tp[fu]=null,fu--)}function ln(o,l){fu++,tp[fu]=o.current,o.current=l}var wo={},br=mo(wo),Zr=mo(!1),aa=wo;function hu(o,l){var y=o.type.contextTypes;if(!y)return wo;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var L={},z;for(z in y)L[z]=l[z];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=L),L}function Yr(o){return o=o.childContextTypes,o!=null}function Nf(){gn(Zr),gn(br)}function kv(o,l,y){if(br.current!==wo)throw Error(e(168));ln(br,l),ln(Zr,y)}function Av(o,l,y){var x=o.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return y;x=x.getChildContext();for(var L in x)if(!(L in l))throw Error(e(108,ee(o)||"Unknown",L));return k({},y,x)}function Bf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wo,aa=br.current,ln(br,o),ln(Zr,Zr.current),!0}function Iv(o,l,y){var x=o.stateNode;if(!x)throw Error(e(169));y?(o=Av(o,l,aa),x.__reactInternalMemoizedMergedChildContext=o,gn(Zr),gn(br),ln(br,o)):gn(Zr),ln(Zr,y)}var Bs=null,Cf=!1,np=!1;function Mv(o){Bs===null?Bs=[o]:Bs.push(o)}function tR(o){Cf=!0,Mv(o)}function vo(){if(!np&&Bs!==null){np=!0;var o=0,l=on;try{var y=Bs;for(on=1;o<y.length;o++){var x=y[o];do x=x(!0);while(x!==null)}Bs=null,Cf=!1}catch(L){throw Bs!==null&&(Bs=Bs.slice(o+1)),qr(Lr,vo),L}finally{on=l,np=!1}}return null}var du=[],pu=0,Lf=null,Of=0,Ti=[],Ni=0,ua=null,Cs=1,Ls="";function ca(o,l){du[pu++]=Of,du[pu++]=Lf,Lf=o,Of=l}function Rv(o,l,y){Ti[Ni++]=Cs,Ti[Ni++]=Ls,Ti[Ni++]=ua,ua=o;var x=Cs;o=Ls;var L=32-Sn(x)-1;x&=~(1<<L),y+=1;var z=32-Sn(l)+L;if(30<z){var Z=L-L%5;z=(x&(1<<Z)-1).toString(32),x>>=Z,L-=Z,Cs=1<<32-Sn(l)+L|y<<L|x,Ls=z+o}else Cs=1<<z|y<<L|x,Ls=o}function rp(o){o.return!==null&&(ca(o,1),Rv(o,1,0))}function ip(o){for(;o===Lf;)Lf=du[--pu],du[pu]=null,Of=du[--pu],du[pu]=null;for(;o===ua;)ua=Ti[--Ni],Ti[Ni]=null,Ls=Ti[--Ni],Ti[Ni]=null,Cs=Ti[--Ni],Ti[Ni]=null}var wi=null,vi=null,yn=!1,Vi=null;function Tv(o,l){var y=Oi(5,null,null,0);y.elementType="DELETED",y.stateNode=l,y.return=o,l=o.deletions,l===null?(o.deletions=[y],o.flags|=16):l.push(y)}function Nv(o,l){switch(o.tag){case 5:var y=o.type;return l=l.nodeType!==1||y.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,wi=o,vi=yo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,wi=o,vi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(y=ua!==null?{id:Cs,overflow:Ls}:null,o.memoizedState={dehydrated:l,treeContext:y,retryLane:1073741824},y=Oi(18,null,null,0),y.stateNode=l,y.return=o,o.child=y,wi=o,vi=null,!0):!1;default:return!1}}function sp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function op(o){if(yn){var l=vi;if(l){var y=l;if(!Nv(o,l)){if(sp(o))throw Error(e(418));l=yo(y.nextSibling);var x=wi;l&&Nv(o,l)?Tv(x,y):(o.flags=o.flags&-4097|2,yn=!1,wi=o)}}else{if(sp(o))throw Error(e(418));o.flags=o.flags&-4097|2,yn=!1,wi=o}}}function Bv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;wi=o}function Pf(o){if(o!==wi)return!1;if(!yn)return Bv(o),yn=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Q0(o.type,o.memoizedProps)),l&&(l=vi)){if(sp(o))throw Cv(),Error(e(418));for(;l;)Tv(o,l),l=yo(l.nextSibling)}if(Bv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(e(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var y=o.data;if(y==="/$"){if(l===0){vi=yo(o.nextSibling);break e}l--}else y!=="$"&&y!=="$!"&&y!=="$?"||l++}o=o.nextSibling}vi=null}}else vi=wi?yo(o.stateNode.nextSibling):null;return!0}function Cv(){for(var o=vi;o;)o=yo(o.nextSibling)}function gu(){vi=wi=null,yn=!1}function ap(o){Vi===null?Vi=[o]:Vi.push(o)}var nR=Y.ReactCurrentBatchConfig;function Fc(o,l,y){if(o=y.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(e(309));var x=y.stateNode}if(!x)throw Error(e(147,o));var L=x,z=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===z?l.ref:(l=function(Z){var ie=L.refs;Z===null?delete ie[z]:ie[z]=Z},l._stringRef=z,l)}if(typeof o!="string")throw Error(e(284));if(!y._owner)throw Error(e(290,o))}return o}function Df(o,l){throw o=Object.prototype.toString.call(l),Error(e(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Lv(o){var l=o._init;return l(o._payload)}function Ov(o){function l(he,le){if(o){var ge=he.deletions;ge===null?(he.deletions=[le],he.flags|=16):ge.push(le)}}function y(he,le){if(!o)return null;for(;le!==null;)l(he,le),le=le.sibling;return null}function x(he,le){for(he=new Map;le!==null;)le.key!==null?he.set(le.key,le):he.set(le.index,le),le=le.sibling;return he}function L(he,le){return he=Io(he,le),he.index=0,he.sibling=null,he}function z(he,le,ge){return he.index=ge,o?(ge=he.alternate,ge!==null?(ge=ge.index,ge<le?(he.flags|=2,le):ge):(he.flags|=2,le)):(he.flags|=1048576,le)}function Z(he){return o&&he.alternate===null&&(he.flags|=2),he}function ie(he,le,ge,Ce){return le===null||le.tag!==6?(le=Jp(ge,he.mode,Ce),le.return=he,le):(le=L(le,ge),le.return=he,le)}function ue(he,le,ge,Ce){var _t=ge.type;return _t===te?Ae(he,le,ge.props.children,Ce,ge.key):le!==null&&(le.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===m&&Lv(_t)===le.type)?(Ce=L(le,ge.props),Ce.ref=Fc(he,le,ge),Ce.return=he,Ce):(Ce=ah(ge.type,ge.key,ge.props,null,he.mode,Ce),Ce.ref=Fc(he,le,ge),Ce.return=he,Ce)}function ve(he,le,ge,Ce){return le===null||le.tag!==4||le.stateNode.containerInfo!==ge.containerInfo||le.stateNode.implementation!==ge.implementation?(le=Xp(ge,he.mode,Ce),le.return=he,le):(le=L(le,ge.children||[]),le.return=he,le)}function Ae(he,le,ge,Ce,_t){return le===null||le.tag!==7?(le=ma(ge,he.mode,Ce,_t),le.return=he,le):(le=L(le,ge),le.return=he,le)}function Te(he,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Jp(""+le,he.mode,ge),le.return=he,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case J:return ge=ah(le.type,le.key,le.props,null,he.mode,ge),ge.ref=Fc(he,null,le),ge.return=he,ge;case X:return le=Xp(le,he.mode,ge),le.return=he,le;case m:var Ce=le._init;return Te(he,Ce(le._payload),ge)}if(ze(le)||I(le))return le=ma(le,he.mode,ge,null),le.return=he,le;Df(he,le)}return null}function ke(he,le,ge,Ce){var _t=le!==null?le.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return _t!==null?null:ie(he,le,""+ge,Ce);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case J:return ge.key===_t?ue(he,le,ge,Ce):null;case X:return ge.key===_t?ve(he,le,ge,Ce):null;case m:return _t=ge._init,ke(he,le,_t(ge._payload),Ce)}if(ze(ge)||I(ge))return _t!==null?null:Ae(he,le,ge,Ce,null);Df(he,ge)}return null}function Je(he,le,ge,Ce,_t){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return he=he.get(ge)||null,ie(le,he,""+Ce,_t);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case J:return he=he.get(Ce.key===null?ge:Ce.key)||null,ue(le,he,Ce,_t);case X:return he=he.get(Ce.key===null?ge:Ce.key)||null,ve(le,he,Ce,_t);case m:var It=Ce._init;return Je(he,le,ge,It(Ce._payload),_t)}if(ze(Ce)||I(Ce))return he=he.get(ge)||null,Ae(le,he,Ce,_t,null);Df(le,Ce)}return null}function wt(he,le,ge,Ce){for(var _t=null,It=null,Mt=le,Ct=le=0,tr=null;Mt!==null&&Ct<ge.length;Ct++){Mt.index>Ct?(tr=Mt,Mt=null):tr=Mt.sibling;var Jt=ke(he,Mt,ge[Ct],Ce);if(Jt===null){Mt===null&&(Mt=tr);break}o&&Mt&&Jt.alternate===null&&l(he,Mt),le=z(Jt,le,Ct),It===null?_t=Jt:It.sibling=Jt,It=Jt,Mt=tr}if(Ct===ge.length)return y(he,Mt),yn&&ca(he,Ct),_t;if(Mt===null){for(;Ct<ge.length;Ct++)Mt=Te(he,ge[Ct],Ce),Mt!==null&&(le=z(Mt,le,Ct),It===null?_t=Mt:It.sibling=Mt,It=Mt);return yn&&ca(he,Ct),_t}for(Mt=x(he,Mt);Ct<ge.length;Ct++)tr=Je(Mt,he,Ct,ge[Ct],Ce),tr!==null&&(o&&tr.alternate!==null&&Mt.delete(tr.key===null?Ct:tr.key),le=z(tr,le,Ct),It===null?_t=tr:It.sibling=tr,It=tr);return o&&Mt.forEach(function(Mo){return l(he,Mo)}),yn&&ca(he,Ct),_t}function vt(he,le,ge,Ce){var _t=I(ge);if(typeof _t!="function")throw Error(e(150));if(ge=_t.call(ge),ge==null)throw Error(e(151));for(var It=_t=null,Mt=le,Ct=le=0,tr=null,Jt=ge.next();Mt!==null&&!Jt.done;Ct++,Jt=ge.next()){Mt.index>Ct?(tr=Mt,Mt=null):tr=Mt.sibling;var Mo=ke(he,Mt,Jt.value,Ce);if(Mo===null){Mt===null&&(Mt=tr);break}o&&Mt&&Mo.alternate===null&&l(he,Mt),le=z(Mo,le,Ct),It===null?_t=Mo:It.sibling=Mo,It=Mo,Mt=tr}if(Jt.done)return y(he,Mt),yn&&ca(he,Ct),_t;if(Mt===null){for(;!Jt.done;Ct++,Jt=ge.next())Jt=Te(he,Jt.value,Ce),Jt!==null&&(le=z(Jt,le,Ct),It===null?_t=Jt:It.sibling=Jt,It=Jt);return yn&&ca(he,Ct),_t}for(Mt=x(he,Mt);!Jt.done;Ct++,Jt=ge.next())Jt=Je(Mt,he,Ct,Jt.value,Ce),Jt!==null&&(o&&Jt.alternate!==null&&Mt.delete(Jt.key===null?Ct:Jt.key),le=z(Jt,le,Ct),It===null?_t=Jt:It.sibling=Jt,It=Jt);return o&&Mt.forEach(function(LR){return l(he,LR)}),yn&&ca(he,Ct),_t}function Dn(he,le,ge,Ce){if(typeof ge=="object"&&ge!==null&&ge.type===te&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case J:e:{for(var _t=ge.key,It=le;It!==null;){if(It.key===_t){if(_t=ge.type,_t===te){if(It.tag===7){y(he,It.sibling),le=L(It,ge.props.children),le.return=he,he=le;break e}}else if(It.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===m&&Lv(_t)===It.type){y(he,It.sibling),le=L(It,ge.props),le.ref=Fc(he,It,ge),le.return=he,he=le;break e}y(he,It);break}else l(he,It);It=It.sibling}ge.type===te?(le=ma(ge.props.children,he.mode,Ce,ge.key),le.return=he,he=le):(Ce=ah(ge.type,ge.key,ge.props,null,he.mode,Ce),Ce.ref=Fc(he,le,ge),Ce.return=he,he=Ce)}return Z(he);case X:e:{for(It=ge.key;le!==null;){if(le.key===It)if(le.tag===4&&le.stateNode.containerInfo===ge.containerInfo&&le.stateNode.implementation===ge.implementation){y(he,le.sibling),le=L(le,ge.children||[]),le.return=he,he=le;break e}else{y(he,le);break}else l(he,le);le=le.sibling}le=Xp(ge,he.mode,Ce),le.return=he,he=le}return Z(he);case m:return It=ge._init,Dn(he,le,It(ge._payload),Ce)}if(ze(ge))return wt(he,le,ge,Ce);if(I(ge))return vt(he,le,ge,Ce);Df(he,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,le!==null&&le.tag===6?(y(he,le.sibling),le=L(le,ge),le.return=he,he=le):(y(he,le),le=Jp(ge,he.mode,Ce),le.return=he,he=le),Z(he)):y(he,le)}return Dn}var yu=Ov(!0),Pv=Ov(!1),Uf=mo(null),zf=null,mu=null,up=null;function cp(){up=mu=zf=null}function lp(o){var l=Uf.current;gn(Uf),o._currentValue=l}function fp(o,l,y){for(;o!==null;){var x=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),o===y)break;o=o.return}}function wu(o,l){zf=o,up=mu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(Qr=!0),o.firstContext=null)}function Bi(o){var l=o._currentValue;if(up!==o)if(o={context:o,memoizedValue:l,next:null},mu===null){if(zf===null)throw Error(e(308));mu=o,zf.dependencies={lanes:0,firstContext:o}}else mu=mu.next=o;return l}var la=null;function hp(o){la===null?la=[o]:la.push(o)}function Dv(o,l,y,x){var L=l.interleaved;return L===null?(y.next=y,hp(l)):(y.next=L.next,L.next=y),l.interleaved=y,Os(o,x)}function Os(o,l){o.lanes|=l;var y=o.alternate;for(y!==null&&(y.lanes|=l),y=o,o=o.return;o!==null;)o.childLanes|=l,y=o.alternate,y!==null&&(y.childLanes|=l),y=o,o=o.return;return y.tag===3?y.stateNode:null}var _o=!1;function dp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uv(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ps(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function bo(o,l,y){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,Qt&2){var L=x.pending;return L===null?l.next=l:(l.next=L.next,L.next=l),x.pending=l,Os(o,y)}return L=x.interleaved,L===null?(l.next=l,hp(x)):(l.next=L.next,L.next=l),x.interleaved=l,Os(o,y)}function Ff(o,l,y){if(l=l.updateQueue,l!==null&&(l=l.shared,(y&4194240)!==0)){var x=l.lanes;x&=o.pendingLanes,y|=x,l.lanes=y,I0(o,y)}}function zv(o,l){var y=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,y===x)){var L=null,z=null;if(y=y.firstBaseUpdate,y!==null){do{var Z={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};z===null?L=z=Z:z=z.next=Z,y=y.next}while(y!==null);z===null?L=z=l:z=z.next=l}else L=z=l;y={baseState:x.baseState,firstBaseUpdate:L,lastBaseUpdate:z,shared:x.shared,effects:x.effects},o.updateQueue=y;return}o=y.lastBaseUpdate,o===null?y.firstBaseUpdate=l:o.next=l,y.lastBaseUpdate=l}function $f(o,l,y,x){var L=o.updateQueue;_o=!1;var z=L.firstBaseUpdate,Z=L.lastBaseUpdate,ie=L.shared.pending;if(ie!==null){L.shared.pending=null;var ue=ie,ve=ue.next;ue.next=null,Z===null?z=ve:Z.next=ve,Z=ue;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,ie=Ae.lastBaseUpdate,ie!==Z&&(ie===null?Ae.firstBaseUpdate=ve:ie.next=ve,Ae.lastBaseUpdate=ue))}if(z!==null){var Te=L.baseState;Z=0,Ae=ve=ue=null,ie=z;do{var ke=ie.lane,Je=ie.eventTime;if((x&ke)===ke){Ae!==null&&(Ae=Ae.next={eventTime:Je,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var wt=o,vt=ie;switch(ke=l,Je=y,vt.tag){case 1:if(wt=vt.payload,typeof wt=="function"){Te=wt.call(Je,Te,ke);break e}Te=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=vt.payload,ke=typeof wt=="function"?wt.call(Je,Te,ke):wt,ke==null)break e;Te=k({},Te,ke);break e;case 2:_o=!0}}ie.callback!==null&&ie.lane!==0&&(o.flags|=64,ke=L.effects,ke===null?L.effects=[ie]:ke.push(ie))}else Je={eventTime:Je,lane:ke,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Ae===null?(ve=Ae=Je,ue=Te):Ae=Ae.next=Je,Z|=ke;if(ie=ie.next,ie===null){if(ie=L.shared.pending,ie===null)break;ke=ie,ie=ke.next,ke.next=null,L.lastBaseUpdate=ke,L.shared.pending=null}}while(!0);if(Ae===null&&(ue=Te),L.baseState=ue,L.firstBaseUpdate=ve,L.lastBaseUpdate=Ae,l=L.shared.interleaved,l!==null){L=l;do Z|=L.lane,L=L.next;while(L!==l)}else z===null&&(L.shared.lanes=0);da|=Z,o.lanes=Z,o.memoizedState=Te}}function Fv(o,l,y){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var x=o[l],L=x.callback;if(L!==null){if(x.callback=null,x=y,typeof L!="function")throw Error(e(191,L));L.call(x)}}}var $c={},us=mo($c),jc=mo($c),Hc=mo($c);function fa(o){if(o===$c)throw Error(e(174));return o}function pp(o,l){switch(ln(Hc,l),ln(jc,o),ln(us,$c),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:C(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=C(l,o)}gn(us),ln(us,l)}function vu(){gn(us),gn(jc),gn(Hc)}function $v(o){fa(Hc.current);var l=fa(us.current),y=C(l,o.type);l!==y&&(ln(jc,o),ln(us,y))}function gp(o){jc.current===o&&(gn(us),gn(jc))}var xn=mo(0);function jf(o){for(var l=o;l!==null;){if(l.tag===13){var y=l.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yp=[];function mp(){for(var o=0;o<yp.length;o++)yp[o]._workInProgressVersionPrimary=null;yp.length=0}var Hf=Y.ReactCurrentDispatcher,wp=Y.ReactCurrentBatchConfig,ha=0,kn=null,Zn=null,Xn=null,Wf=!1,Wc=!1,qc=0,rR=0;function Er(){throw Error(e(321))}function vp(o,l){if(l===null)return!1;for(var y=0;y<l.length&&y<o.length;y++)if(!Ki(o[y],l[y]))return!1;return!0}function _p(o,l,y,x,L,z){if(ha=z,kn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Hf.current=o===null||o.memoizedState===null?aR:uR,o=y(x,L),Wc){z=0;do{if(Wc=!1,qc=0,25<=z)throw Error(e(301));z+=1,Xn=Zn=null,l.updateQueue=null,Hf.current=cR,o=y(x,L)}while(Wc)}if(Hf.current=Vf,l=Zn!==null&&Zn.next!==null,ha=0,Xn=Zn=kn=null,Wf=!1,l)throw Error(e(300));return o}function bp(){var o=qc!==0;return qc=0,o}function cs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?kn.memoizedState=Xn=o:Xn=Xn.next=o,Xn}function Ci(){if(Zn===null){var o=kn.alternate;o=o!==null?o.memoizedState:null}else o=Zn.next;var l=Xn===null?kn.memoizedState:Xn.next;if(l!==null)Xn=l,Zn=o;else{if(o===null)throw Error(e(310));Zn=o,o={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},Xn===null?kn.memoizedState=Xn=o:Xn=Xn.next=o}return Xn}function Kc(o,l){return typeof l=="function"?l(o):l}function Ep(o){var l=Ci(),y=l.queue;if(y===null)throw Error(e(311));y.lastRenderedReducer=o;var x=Zn,L=x.baseQueue,z=y.pending;if(z!==null){if(L!==null){var Z=L.next;L.next=z.next,z.next=Z}x.baseQueue=L=z,y.pending=null}if(L!==null){z=L.next,x=x.baseState;var ie=Z=null,ue=null,ve=z;do{var Ae=ve.lane;if((ha&Ae)===Ae)ue!==null&&(ue=ue.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),x=ve.hasEagerState?ve.eagerState:o(x,ve.action);else{var Te={lane:Ae,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ue===null?(ie=ue=Te,Z=x):ue=ue.next=Te,kn.lanes|=Ae,da|=Ae}ve=ve.next}while(ve!==null&&ve!==z);ue===null?Z=x:ue.next=ie,Ki(x,l.memoizedState)||(Qr=!0),l.memoizedState=x,l.baseState=Z,l.baseQueue=ue,y.lastRenderedState=x}if(o=y.interleaved,o!==null){L=o;do z=L.lane,kn.lanes|=z,da|=z,L=L.next;while(L!==o)}else L===null&&(y.lanes=0);return[l.memoizedState,y.dispatch]}function Sp(o){var l=Ci(),y=l.queue;if(y===null)throw Error(e(311));y.lastRenderedReducer=o;var x=y.dispatch,L=y.pending,z=l.memoizedState;if(L!==null){y.pending=null;var Z=L=L.next;do z=o(z,Z.action),Z=Z.next;while(Z!==L);Ki(z,l.memoizedState)||(Qr=!0),l.memoizedState=z,l.baseQueue===null&&(l.baseState=z),y.lastRenderedState=z}return[z,x]}function jv(){}function Hv(o,l){var y=kn,x=Ci(),L=l(),z=!Ki(x.memoizedState,L);if(z&&(x.memoizedState=L,Qr=!0),x=x.queue,xp(Kv.bind(null,y,x,o),[o]),x.getSnapshot!==l||z||Xn!==null&&Xn.memoizedState.tag&1){if(y.flags|=2048,Vc(9,qv.bind(null,y,x,L,l),void 0,null),er===null)throw Error(e(349));ha&30||Wv(y,l,L)}return L}function Wv(o,l,y){o.flags|=16384,o={getSnapshot:l,value:y},l=kn.updateQueue,l===null?(l={lastEffect:null,stores:null},kn.updateQueue=l,l.stores=[o]):(y=l.stores,y===null?l.stores=[o]:y.push(o))}function qv(o,l,y,x){l.value=y,l.getSnapshot=x,Vv(l)&&Gv(o)}function Kv(o,l,y){return y(function(){Vv(l)&&Gv(o)})}function Vv(o){var l=o.getSnapshot;o=o.value;try{var y=l();return!Ki(o,y)}catch{return!0}}function Gv(o){var l=Os(o,1);l!==null&&Qi(l,o,1,-1)}function Zv(o){var l=cs();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:o},l.queue=o,o=o.dispatch=oR.bind(null,kn,o),[l.memoizedState,o]}function Vc(o,l,y,x){return o={tag:o,create:l,destroy:y,deps:x,next:null},l=kn.updateQueue,l===null?(l={lastEffect:null,stores:null},kn.updateQueue=l,l.lastEffect=o.next=o):(y=l.lastEffect,y===null?l.lastEffect=o.next=o:(x=y.next,y.next=o,o.next=x,l.lastEffect=o)),o}function Yv(){return Ci().memoizedState}function qf(o,l,y,x){var L=cs();kn.flags|=o,L.memoizedState=Vc(1|l,y,void 0,x===void 0?null:x)}function Kf(o,l,y,x){var L=Ci();x=x===void 0?null:x;var z=void 0;if(Zn!==null){var Z=Zn.memoizedState;if(z=Z.destroy,x!==null&&vp(x,Z.deps)){L.memoizedState=Vc(l,y,z,x);return}}kn.flags|=o,L.memoizedState=Vc(1|l,y,z,x)}function Qv(o,l){return qf(8390656,8,o,l)}function xp(o,l){return Kf(2048,8,o,l)}function Jv(o,l){return Kf(4,2,o,l)}function Xv(o,l){return Kf(4,4,o,l)}function e_(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function t_(o,l,y){return y=y!=null?y.concat([o]):null,Kf(4,4,e_.bind(null,l,o),y)}function kp(){}function n_(o,l){var y=Ci();l=l===void 0?null:l;var x=y.memoizedState;return x!==null&&l!==null&&vp(l,x[1])?x[0]:(y.memoizedState=[o,l],o)}function r_(o,l){var y=Ci();l=l===void 0?null:l;var x=y.memoizedState;return x!==null&&l!==null&&vp(l,x[1])?x[0]:(o=o(),y.memoizedState=[o,l],o)}function i_(o,l,y){return ha&21?(Ki(y,l)||(y=Lw(),kn.lanes|=y,da|=y,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,Qr=!0),o.memoizedState=y)}function iR(o,l){var y=on;on=y!==0&&4>y?y:4,o(!0);var x=wp.transition;wp.transition={};try{o(!1),l()}finally{on=y,wp.transition=x}}function s_(){return Ci().memoizedState}function sR(o,l,y){var x=ko(o);if(y={lane:x,action:y,hasEagerState:!1,eagerState:null,next:null},o_(o))a_(l,y);else if(y=Dv(o,l,y,x),y!==null){var L=Pr();Qi(y,o,x,L),u_(y,l,x)}}function oR(o,l,y){var x=ko(o),L={lane:x,action:y,hasEagerState:!1,eagerState:null,next:null};if(o_(o))a_(l,L);else{var z=o.alternate;if(o.lanes===0&&(z===null||z.lanes===0)&&(z=l.lastRenderedReducer,z!==null))try{var Z=l.lastRenderedState,ie=z(Z,y);if(L.hasEagerState=!0,L.eagerState=ie,Ki(ie,Z)){var ue=l.interleaved;ue===null?(L.next=L,hp(l)):(L.next=ue.next,ue.next=L),l.interleaved=L;return}}catch{}finally{}y=Dv(o,l,L,x),y!==null&&(L=Pr(),Qi(y,o,x,L),u_(y,l,x))}}function o_(o){var l=o.alternate;return o===kn||l!==null&&l===kn}function a_(o,l){Wc=Wf=!0;var y=o.pending;y===null?l.next=l:(l.next=y.next,y.next=l),o.pending=l}function u_(o,l,y){if(y&4194240){var x=l.lanes;x&=o.pendingLanes,y|=x,l.lanes=y,I0(o,y)}}var Vf={readContext:Bi,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},aR={readContext:Bi,useCallback:function(o,l){return cs().memoizedState=[o,l===void 0?null:l],o},useContext:Bi,useEffect:Qv,useImperativeHandle:function(o,l,y){return y=y!=null?y.concat([o]):null,qf(4194308,4,e_.bind(null,l,o),y)},useLayoutEffect:function(o,l){return qf(4194308,4,o,l)},useInsertionEffect:function(o,l){return qf(4,2,o,l)},useMemo:function(o,l){var y=cs();return l=l===void 0?null:l,o=o(),y.memoizedState=[o,l],o},useReducer:function(o,l,y){var x=cs();return l=y!==void 0?y(l):l,x.memoizedState=x.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},x.queue=o,o=o.dispatch=sR.bind(null,kn,o),[x.memoizedState,o]},useRef:function(o){var l=cs();return o={current:o},l.memoizedState=o},useState:Zv,useDebugValue:kp,useDeferredValue:function(o){return cs().memoizedState=o},useTransition:function(){var o=Zv(!1),l=o[0];return o=iR.bind(null,o[1]),cs().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,y){var x=kn,L=cs();if(yn){if(y===void 0)throw Error(e(407));y=y()}else{if(y=l(),er===null)throw Error(e(349));ha&30||Wv(x,l,y)}L.memoizedState=y;var z={value:y,getSnapshot:l};return L.queue=z,Qv(Kv.bind(null,x,z,o),[o]),x.flags|=2048,Vc(9,qv.bind(null,x,z,y,l),void 0,null),y},useId:function(){var o=cs(),l=er.identifierPrefix;if(yn){var y=Ls,x=Cs;y=(x&~(1<<32-Sn(x)-1)).toString(32)+y,l=":"+l+"R"+y,y=qc++,0<y&&(l+="H"+y.toString(32)),l+=":"}else y=rR++,l=":"+l+"r"+y.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},uR={readContext:Bi,useCallback:n_,useContext:Bi,useEffect:xp,useImperativeHandle:t_,useInsertionEffect:Jv,useLayoutEffect:Xv,useMemo:r_,useReducer:Ep,useRef:Yv,useState:function(){return Ep(Kc)},useDebugValue:kp,useDeferredValue:function(o){var l=Ci();return i_(l,Zn.memoizedState,o)},useTransition:function(){var o=Ep(Kc)[0],l=Ci().memoizedState;return[o,l]},useMutableSource:jv,useSyncExternalStore:Hv,useId:s_,unstable_isNewReconciler:!1},cR={readContext:Bi,useCallback:n_,useContext:Bi,useEffect:xp,useImperativeHandle:t_,useInsertionEffect:Jv,useLayoutEffect:Xv,useMemo:r_,useReducer:Sp,useRef:Yv,useState:function(){return Sp(Kc)},useDebugValue:kp,useDeferredValue:function(o){var l=Ci();return Zn===null?l.memoizedState=o:i_(l,Zn.memoizedState,o)},useTransition:function(){var o=Sp(Kc)[0],l=Ci().memoizedState;return[o,l]},useMutableSource:jv,useSyncExternalStore:Hv,useId:s_,unstable_isNewReconciler:!1};function Gi(o,l){if(o&&o.defaultProps){l=k({},l),o=o.defaultProps;for(var y in o)l[y]===void 0&&(l[y]=o[y]);return l}return l}function Ap(o,l,y,x){l=o.memoizedState,y=y(x,l),y=y==null?l:k({},l,y),o.memoizedState=y,o.lanes===0&&(o.updateQueue.baseState=y)}var Gf={isMounted:function(o){return(o=o._reactInternals)?wr(o)===o:!1},enqueueSetState:function(o,l,y){o=o._reactInternals;var x=Pr(),L=ko(o),z=Ps(x,L);z.payload=l,y!=null&&(z.callback=y),l=bo(o,z,L),l!==null&&(Qi(l,o,L,x),Ff(l,o,L))},enqueueReplaceState:function(o,l,y){o=o._reactInternals;var x=Pr(),L=ko(o),z=Ps(x,L);z.tag=1,z.payload=l,y!=null&&(z.callback=y),l=bo(o,z,L),l!==null&&(Qi(l,o,L,x),Ff(l,o,L))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var y=Pr(),x=ko(o),L=Ps(y,x);L.tag=2,l!=null&&(L.callback=l),l=bo(o,L,x),l!==null&&(Qi(l,o,x,y),Ff(l,o,x))}};function c_(o,l,y,x,L,z,Z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,z,Z):l.prototype&&l.prototype.isPureReactComponent?!Cc(y,x)||!Cc(L,z):!0}function l_(o,l,y){var x=!1,L=wo,z=l.contextType;return typeof z=="object"&&z!==null?z=Bi(z):(L=Yr(l)?aa:br.current,x=l.contextTypes,z=(x=x!=null)?hu(o,L):wo),l=new l(y,z),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Gf,o.stateNode=l,l._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=L,o.__reactInternalMemoizedMaskedChildContext=z),l}function f_(o,l,y,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(y,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(y,x),l.state!==o&&Gf.enqueueReplaceState(l,l.state,null)}function Ip(o,l,y,x){var L=o.stateNode;L.props=y,L.state=o.memoizedState,L.refs={},dp(o);var z=l.contextType;typeof z=="object"&&z!==null?L.context=Bi(z):(z=Yr(l)?aa:br.current,L.context=hu(o,z)),L.state=o.memoizedState,z=l.getDerivedStateFromProps,typeof z=="function"&&(Ap(o,l,z,y),L.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(l=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),l!==L.state&&Gf.enqueueReplaceState(L,L.state,null),$f(o,y,L,x),L.state=o.memoizedState),typeof L.componentDidMount=="function"&&(o.flags|=4194308)}function _u(o,l){try{var y="",x=l;do y+=D(x),x=x.return;while(x);var L=y}catch(z){L=`
Error generating stack: `+z.message+`
`+z.stack}return{value:o,source:l,stack:L,digest:null}}function Mp(o,l,y){return{value:o,source:null,stack:y??null,digest:l??null}}function Rp(o,l){try{console.error(l.value)}catch(y){setTimeout(function(){throw y})}}var lR=typeof WeakMap=="function"?WeakMap:Map;function h_(o,l,y){y=Ps(-1,y),y.tag=3,y.payload={element:null};var x=l.value;return y.callback=function(){th||(th=!0,Wp=x),Rp(o,l)},y}function d_(o,l,y){y=Ps(-1,y),y.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var L=l.value;y.payload=function(){return x(L)},y.callback=function(){Rp(o,l)}}var z=o.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(y.callback=function(){Rp(o,l),typeof x!="function"&&(So===null?So=new Set([this]):So.add(this));var Z=l.stack;this.componentDidCatch(l.value,{componentStack:Z!==null?Z:""})}),y}function p_(o,l,y){var x=o.pingCache;if(x===null){x=o.pingCache=new lR;var L=new Set;x.set(l,L)}else L=x.get(l),L===void 0&&(L=new Set,x.set(l,L));L.has(y)||(L.add(y),o=xR.bind(null,o,l,y),l.then(o,o))}function g_(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function y_(o,l,y,x,L){return o.mode&1?(o.flags|=65536,o.lanes=L,o):(o===l?o.flags|=65536:(o.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(l=Ps(-1,1),l.tag=2,bo(y,l,1))),y.lanes|=1),o)}var fR=Y.ReactCurrentOwner,Qr=!1;function Or(o,l,y,x){l.child=o===null?Pv(l,null,y,x):yu(l,o.child,y,x)}function m_(o,l,y,x,L){y=y.render;var z=l.ref;return wu(l,L),x=_p(o,l,y,x,z,L),y=bp(),o!==null&&!Qr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~L,Ds(o,l,L)):(yn&&y&&rp(l),l.flags|=1,Or(o,l,x,L),l.child)}function w_(o,l,y,x,L){if(o===null){var z=y.type;return typeof z=="function"&&!Qp(z)&&z.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(l.tag=15,l.type=z,v_(o,l,z,x,L)):(o=ah(y.type,null,x,l,l.mode,L),o.ref=l.ref,o.return=l,l.child=o)}if(z=o.child,!(o.lanes&L)){var Z=z.memoizedProps;if(y=y.compare,y=y!==null?y:Cc,y(Z,x)&&o.ref===l.ref)return Ds(o,l,L)}return l.flags|=1,o=Io(z,x),o.ref=l.ref,o.return=l,l.child=o}function v_(o,l,y,x,L){if(o!==null){var z=o.memoizedProps;if(Cc(z,x)&&o.ref===l.ref)if(Qr=!1,l.pendingProps=x=z,(o.lanes&L)!==0)o.flags&131072&&(Qr=!0);else return l.lanes=o.lanes,Ds(o,l,L)}return Tp(o,l,y,x,L)}function __(o,l,y){var x=l.pendingProps,L=x.children,z=o!==null?o.memoizedState:null;if(x.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(Eu,_i),_i|=y;else{if(!(y&1073741824))return o=z!==null?z.baseLanes|y:y,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ln(Eu,_i),_i|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=z!==null?z.baseLanes:y,ln(Eu,_i),_i|=x}else z!==null?(x=z.baseLanes|y,l.memoizedState=null):x=y,ln(Eu,_i),_i|=x;return Or(o,l,L,y),l.child}function b_(o,l){var y=l.ref;(o===null&&y!==null||o!==null&&o.ref!==y)&&(l.flags|=512,l.flags|=2097152)}function Tp(o,l,y,x,L){var z=Yr(y)?aa:br.current;return z=hu(l,z),wu(l,L),y=_p(o,l,y,x,z,L),x=bp(),o!==null&&!Qr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~L,Ds(o,l,L)):(yn&&x&&rp(l),l.flags|=1,Or(o,l,y,L),l.child)}function E_(o,l,y,x,L){if(Yr(y)){var z=!0;Bf(l)}else z=!1;if(wu(l,L),l.stateNode===null)Yf(o,l),l_(l,y,x),Ip(l,y,x,L),x=!0;else if(o===null){var Z=l.stateNode,ie=l.memoizedProps;Z.props=ie;var ue=Z.context,ve=y.contextType;typeof ve=="object"&&ve!==null?ve=Bi(ve):(ve=Yr(y)?aa:br.current,ve=hu(l,ve));var Ae=y.getDerivedStateFromProps,Te=typeof Ae=="function"||typeof Z.getSnapshotBeforeUpdate=="function";Te||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ie!==x||ue!==ve)&&f_(l,Z,x,ve),_o=!1;var ke=l.memoizedState;Z.state=ke,$f(l,x,Z,L),ue=l.memoizedState,ie!==x||ke!==ue||Zr.current||_o?(typeof Ae=="function"&&(Ap(l,y,Ae,x),ue=l.memoizedState),(ie=_o||c_(l,y,ie,x,ke,ue,ve))?(Te||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(l.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=ue),Z.props=x,Z.state=ue,Z.context=ve,x=ie):(typeof Z.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{Z=l.stateNode,Uv(o,l),ie=l.memoizedProps,ve=l.type===l.elementType?ie:Gi(l.type,ie),Z.props=ve,Te=l.pendingProps,ke=Z.context,ue=y.contextType,typeof ue=="object"&&ue!==null?ue=Bi(ue):(ue=Yr(y)?aa:br.current,ue=hu(l,ue));var Je=y.getDerivedStateFromProps;(Ae=typeof Je=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ie!==Te||ke!==ue)&&f_(l,Z,x,ue),_o=!1,ke=l.memoizedState,Z.state=ke,$f(l,x,Z,L);var wt=l.memoizedState;ie!==Te||ke!==wt||Zr.current||_o?(typeof Je=="function"&&(Ap(l,y,Je,x),wt=l.memoizedState),(ve=_o||c_(l,y,ve,x,ke,wt,ue)||!1)?(Ae||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(x,wt,ue),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(x,wt,ue)),typeof Z.componentDidUpdate=="function"&&(l.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ie===o.memoizedProps&&ke===o.memoizedState||(l.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&ke===o.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=wt),Z.props=x,Z.state=wt,Z.context=ue,x=ve):(typeof Z.componentDidUpdate!="function"||ie===o.memoizedProps&&ke===o.memoizedState||(l.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&ke===o.memoizedState||(l.flags|=1024),x=!1)}return Np(o,l,y,x,z,L)}function Np(o,l,y,x,L,z){b_(o,l);var Z=(l.flags&128)!==0;if(!x&&!Z)return L&&Iv(l,y,!1),Ds(o,l,z);x=l.stateNode,fR.current=l;var ie=Z&&typeof y.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,o!==null&&Z?(l.child=yu(l,o.child,null,z),l.child=yu(l,null,ie,z)):Or(o,l,ie,z),l.memoizedState=x.state,L&&Iv(l,y,!0),l.child}function S_(o){var l=o.stateNode;l.pendingContext?kv(o,l.pendingContext,l.pendingContext!==l.context):l.context&&kv(o,l.context,!1),pp(o,l.containerInfo)}function x_(o,l,y,x,L){return gu(),ap(L),l.flags|=256,Or(o,l,y,x),l.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Cp(o){return{baseLanes:o,cachePool:null,transitions:null}}function k_(o,l,y){var x=l.pendingProps,L=xn.current,z=!1,Z=(l.flags&128)!==0,ie;if((ie=Z)||(ie=o!==null&&o.memoizedState===null?!1:(L&2)!==0),ie?(z=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(L|=1),ln(xn,L&1),o===null)return op(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(Z=x.children,o=x.fallback,z?(x=l.mode,z=l.child,Z={mode:"hidden",children:Z},!(x&1)&&z!==null?(z.childLanes=0,z.pendingProps=Z):z=uh(Z,x,0,null),o=ma(o,x,y,null),z.return=l,o.return=l,z.sibling=o,l.child=z,l.child.memoizedState=Cp(y),l.memoizedState=Bp,o):Lp(l,Z));if(L=o.memoizedState,L!==null&&(ie=L.dehydrated,ie!==null))return hR(o,l,Z,x,ie,L,y);if(z){z=x.fallback,Z=l.mode,L=o.child,ie=L.sibling;var ue={mode:"hidden",children:x.children};return!(Z&1)&&l.child!==L?(x=l.child,x.childLanes=0,x.pendingProps=ue,l.deletions=null):(x=Io(L,ue),x.subtreeFlags=L.subtreeFlags&14680064),ie!==null?z=Io(ie,z):(z=ma(z,Z,y,null),z.flags|=2),z.return=l,x.return=l,x.sibling=z,l.child=x,x=z,z=l.child,Z=o.child.memoizedState,Z=Z===null?Cp(y):{baseLanes:Z.baseLanes|y,cachePool:null,transitions:Z.transitions},z.memoizedState=Z,z.childLanes=o.childLanes&~y,l.memoizedState=Bp,x}return z=o.child,o=z.sibling,x=Io(z,{mode:"visible",children:x.children}),!(l.mode&1)&&(x.lanes=y),x.return=l,x.sibling=null,o!==null&&(y=l.deletions,y===null?(l.deletions=[o],l.flags|=16):y.push(o)),l.child=x,l.memoizedState=null,x}function Lp(o,l){return l=uh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Zf(o,l,y,x){return x!==null&&ap(x),yu(l,o.child,null,y),o=Lp(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function hR(o,l,y,x,L,z,Z){if(y)return l.flags&256?(l.flags&=-257,x=Mp(Error(e(422))),Zf(o,l,Z,x)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(z=x.fallback,L=l.mode,x=uh({mode:"visible",children:x.children},L,0,null),z=ma(z,L,Z,null),z.flags|=2,x.return=l,z.return=l,x.sibling=z,l.child=x,l.mode&1&&yu(l,o.child,null,Z),l.child.memoizedState=Cp(Z),l.memoizedState=Bp,z);if(!(l.mode&1))return Zf(o,l,Z,null);if(L.data==="$!"){if(x=L.nextSibling&&L.nextSibling.dataset,x)var ie=x.dgst;return x=ie,z=Error(e(419)),x=Mp(z,x,void 0),Zf(o,l,Z,x)}if(ie=(Z&o.childLanes)!==0,Qr||ie){if(x=er,x!==null){switch(Z&-Z){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=L&(x.suspendedLanes|Z)?0:L,L!==0&&L!==z.retryLane&&(z.retryLane=L,Os(o,L),Qi(x,o,L,-1))}return Yp(),x=Mp(Error(e(421))),Zf(o,l,Z,x)}return L.data==="$?"?(l.flags|=128,l.child=o.child,l=kR.bind(null,o),L._reactRetry=l,null):(o=z.treeContext,vi=yo(L.nextSibling),wi=l,yn=!0,Vi=null,o!==null&&(Ti[Ni++]=Cs,Ti[Ni++]=Ls,Ti[Ni++]=ua,Cs=o.id,Ls=o.overflow,ua=l),l=Lp(l,x.children),l.flags|=4096,l)}function A_(o,l,y){o.lanes|=l;var x=o.alternate;x!==null&&(x.lanes|=l),fp(o.return,l,y)}function Op(o,l,y,x,L){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:y,tailMode:L}:(z.isBackwards=l,z.rendering=null,z.renderingStartTime=0,z.last=x,z.tail=y,z.tailMode=L)}function I_(o,l,y){var x=l.pendingProps,L=x.revealOrder,z=x.tail;if(Or(o,l,x.children,y),x=xn.current,x&2)x=x&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&A_(o,y,l);else if(o.tag===19)A_(o,y,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(ln(xn,x),!(l.mode&1))l.memoizedState=null;else switch(L){case"forwards":for(y=l.child,L=null;y!==null;)o=y.alternate,o!==null&&jf(o)===null&&(L=y),y=y.sibling;y=L,y===null?(L=l.child,l.child=null):(L=y.sibling,y.sibling=null),Op(l,!1,L,y,z);break;case"backwards":for(y=null,L=l.child,l.child=null;L!==null;){if(o=L.alternate,o!==null&&jf(o)===null){l.child=L;break}o=L.sibling,L.sibling=y,y=L,L=o}Op(l,!0,y,null,z);break;case"together":Op(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Yf(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ds(o,l,y){if(o!==null&&(l.dependencies=o.dependencies),da|=l.lanes,!(y&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(e(153));if(l.child!==null){for(o=l.child,y=Io(o,o.pendingProps),l.child=y,y.return=l;o.sibling!==null;)o=o.sibling,y=y.sibling=Io(o,o.pendingProps),y.return=l;y.sibling=null}return l.child}function dR(o,l,y){switch(l.tag){case 3:S_(l),gu();break;case 5:$v(l);break;case 1:Yr(l.type)&&Bf(l);break;case 4:pp(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,L=l.memoizedProps.value;ln(Uf,x._currentValue),x._currentValue=L;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(ln(xn,xn.current&1),l.flags|=128,null):y&l.child.childLanes?k_(o,l,y):(ln(xn,xn.current&1),o=Ds(o,l,y),o!==null?o.sibling:null);ln(xn,xn.current&1);break;case 19:if(x=(y&l.childLanes)!==0,o.flags&128){if(x)return I_(o,l,y);l.flags|=128}if(L=l.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ln(xn,xn.current),x)break;return null;case 22:case 23:return l.lanes=0,__(o,l,y)}return Ds(o,l,y)}var M_,Pp,R_,T_;M_=function(o,l){for(var y=l.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Pp=function(){},R_=function(o,l,y,x){var L=o.memoizedProps;if(L!==x){o=l.stateNode,fa(us.current);var z=null;switch(y){case"input":L=Re(o,L),x=Re(o,x),z=[];break;case"select":L=k({},L,{value:void 0}),x=k({},x,{value:void 0}),z=[];break;case"textarea":L=Lt(o,L),x=Lt(o,x),z=[];break;default:typeof L.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Rf)}be(y,x);var Z;y=null;for(ve in L)if(!x.hasOwnProperty(ve)&&L.hasOwnProperty(ve)&&L[ve]!=null)if(ve==="style"){var ie=L[ve];for(Z in ie)ie.hasOwnProperty(Z)&&(y||(y={}),y[Z]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(s.hasOwnProperty(ve)?z||(z=[]):(z=z||[]).push(ve,null));for(ve in x){var ue=x[ve];if(ie=L!=null?L[ve]:void 0,x.hasOwnProperty(ve)&&ue!==ie&&(ue!=null||ie!=null))if(ve==="style")if(ie){for(Z in ie)!ie.hasOwnProperty(Z)||ue&&ue.hasOwnProperty(Z)||(y||(y={}),y[Z]="");for(Z in ue)ue.hasOwnProperty(Z)&&ie[Z]!==ue[Z]&&(y||(y={}),y[Z]=ue[Z])}else y||(z||(z=[]),z.push(ve,y)),y=ue;else ve==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ie=ie?ie.__html:void 0,ue!=null&&ie!==ue&&(z=z||[]).push(ve,ue)):ve==="children"?typeof ue!="string"&&typeof ue!="number"||(z=z||[]).push(ve,""+ue):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(ve)?(ue!=null&&ve==="onScroll"&&pn("scroll",o),z||ie===ue||(z=[])):(z=z||[]).push(ve,ue))}y&&(z=z||[]).push("style",y);var ve=z;(l.updateQueue=ve)&&(l.flags|=4)}},T_=function(o,l,y,x){y!==x&&(l.flags|=4)};function Gc(o,l){if(!yn)switch(o.tailMode){case"hidden":l=o.tail;for(var y=null;l!==null;)l.alternate!==null&&(y=l),l=l.sibling;y===null?o.tail=null:y.sibling=null;break;case"collapsed":y=o.tail;for(var x=null;y!==null;)y.alternate!==null&&(x=y),y=y.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Sr(o){var l=o.alternate!==null&&o.alternate.child===o.child,y=0,x=0;if(l)for(var L=o.child;L!==null;)y|=L.lanes|L.childLanes,x|=L.subtreeFlags&14680064,x|=L.flags&14680064,L.return=o,L=L.sibling;else for(L=o.child;L!==null;)y|=L.lanes|L.childLanes,x|=L.subtreeFlags,x|=L.flags,L.return=o,L=L.sibling;return o.subtreeFlags|=x,o.childLanes=y,l}function pR(o,l,y){var x=l.pendingProps;switch(ip(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(l),null;case 1:return Yr(l.type)&&Nf(),Sr(l),null;case 3:return x=l.stateNode,vu(),gn(Zr),gn(br),mp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Pf(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Vi!==null&&(Vp(Vi),Vi=null))),Pp(o,l),Sr(l),null;case 5:gp(l);var L=fa(Hc.current);if(y=l.type,o!==null&&l.stateNode!=null)R_(o,l,y,x,L),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(e(166));return Sr(l),null}if(o=fa(us.current),Pf(l)){x=l.stateNode,y=l.type;var z=l.memoizedProps;switch(x[as]=l,x[Uc]=z,o=(l.mode&1)!==0,y){case"dialog":pn("cancel",x),pn("close",x);break;case"iframe":case"object":case"embed":pn("load",x);break;case"video":case"audio":for(L=0;L<Oc.length;L++)pn(Oc[L],x);break;case"source":pn("error",x);break;case"img":case"image":case"link":pn("error",x),pn("load",x);break;case"details":pn("toggle",x);break;case"input":Be(x,z),pn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!z.multiple},pn("invalid",x);break;case"textarea":$e(x,z),pn("invalid",x)}be(y,z),L=null;for(var Z in z)if(z.hasOwnProperty(Z)){var ie=z[Z];Z==="children"?typeof ie=="string"?x.textContent!==ie&&(z.suppressHydrationWarning!==!0&&Mf(x.textContent,ie,o),L=["children",ie]):typeof ie=="number"&&x.textContent!==""+ie&&(z.suppressHydrationWarning!==!0&&Mf(x.textContent,ie,o),L=["children",""+ie]):s.hasOwnProperty(Z)&&ie!=null&&Z==="onScroll"&&pn("scroll",x)}switch(y){case"input":Se(x),Qe(x,z,!0);break;case"textarea":Se(x),Kt(x);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(x.onclick=Rf)}x=L,l.updateQueue=x,x!==null&&(l.flags|=4)}else{Z=L.nodeType===9?L:L.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ke(y)),o==="http://www.w3.org/1999/xhtml"?y==="script"?(o=Z.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=Z.createElement(y,{is:x.is}):(o=Z.createElement(y),y==="select"&&(Z=o,x.multiple?Z.multiple=!0:x.size&&(Z.size=x.size))):o=Z.createElementNS(o,y),o[as]=l,o[Uc]=x,M_(o,l,!1,!1),l.stateNode=o;e:{switch(Z=St(y,x),y){case"dialog":pn("cancel",o),pn("close",o),L=x;break;case"iframe":case"object":case"embed":pn("load",o),L=x;break;case"video":case"audio":for(L=0;L<Oc.length;L++)pn(Oc[L],o);L=x;break;case"source":pn("error",o),L=x;break;case"img":case"image":case"link":pn("error",o),pn("load",o),L=x;break;case"details":pn("toggle",o),L=x;break;case"input":Be(o,x),L=Re(o,x),pn("invalid",o);break;case"option":L=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},L=k({},x,{value:void 0}),pn("invalid",o);break;case"textarea":$e(o,x),L=Lt(o,x),pn("invalid",o);break;default:L=x}be(y,L),ie=L;for(z in ie)if(ie.hasOwnProperty(z)){var ue=ie[z];z==="style"?Le(o,ue):z==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&_(o,ue)):z==="children"?typeof ue=="string"?(y!=="textarea"||ue!=="")&&U(o,ue):typeof ue=="number"&&U(o,""+ue):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(s.hasOwnProperty(z)?ue!=null&&z==="onScroll"&&pn("scroll",o):ue!=null&&F(o,z,ue,Z))}switch(y){case"input":Se(o),Qe(o,x,!1);break;case"textarea":Se(o),Kt(o);break;case"option":x.value!=null&&o.setAttribute("value",""+oe(x.value));break;case"select":o.multiple=!!x.multiple,z=x.value,z!=null?Oe(o,!!x.multiple,z,!1):x.defaultValue!=null&&Oe(o,!!x.multiple,x.defaultValue,!0);break;default:typeof L.onClick=="function"&&(o.onclick=Rf)}switch(y){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Sr(l),null;case 6:if(o&&l.stateNode!=null)T_(o,l,o.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(e(166));if(y=fa(Hc.current),fa(us.current),Pf(l)){if(x=l.stateNode,y=l.memoizedProps,x[as]=l,(z=x.nodeValue!==y)&&(o=wi,o!==null))switch(o.tag){case 3:Mf(x.nodeValue,y,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Mf(x.nodeValue,y,(o.mode&1)!==0)}z&&(l.flags|=4)}else x=(y.nodeType===9?y:y.ownerDocument).createTextNode(x),x[as]=l,l.stateNode=x}return Sr(l),null;case 13:if(gn(xn),x=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(yn&&vi!==null&&l.mode&1&&!(l.flags&128))Cv(),gu(),l.flags|=98560,z=!1;else if(z=Pf(l),x!==null&&x.dehydrated!==null){if(o===null){if(!z)throw Error(e(318));if(z=l.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(e(317));z[as]=l}else gu(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Sr(l),z=!1}else Vi!==null&&(Vp(Vi),Vi=null),z=!0;if(!z)return l.flags&65536?l:null}return l.flags&128?(l.lanes=y,l):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(l.child.flags|=8192,l.mode&1&&(o===null||xn.current&1?Yn===0&&(Yn=3):Yp())),l.updateQueue!==null&&(l.flags|=4),Sr(l),null);case 4:return vu(),Pp(o,l),o===null&&Pc(l.stateNode.containerInfo),Sr(l),null;case 10:return lp(l.type._context),Sr(l),null;case 17:return Yr(l.type)&&Nf(),Sr(l),null;case 19:if(gn(xn),z=l.memoizedState,z===null)return Sr(l),null;if(x=(l.flags&128)!==0,Z=z.rendering,Z===null)if(x)Gc(z,!1);else{if(Yn!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(Z=jf(o),Z!==null){for(l.flags|=128,Gc(z,!1),x=Z.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=y,y=l.child;y!==null;)z=y,o=x,z.flags&=14680066,Z=z.alternate,Z===null?(z.childLanes=0,z.lanes=o,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=Z.childLanes,z.lanes=Z.lanes,z.child=Z.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=Z.memoizedProps,z.memoizedState=Z.memoizedState,z.updateQueue=Z.updateQueue,z.type=Z.type,o=Z.dependencies,z.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),y=y.sibling;return ln(xn,xn.current&1|2),l.child}o=o.sibling}z.tail!==null&&Yt()>Su&&(l.flags|=128,x=!0,Gc(z,!1),l.lanes=4194304)}else{if(!x)if(o=jf(Z),o!==null){if(l.flags|=128,x=!0,y=o.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),Gc(z,!0),z.tail===null&&z.tailMode==="hidden"&&!Z.alternate&&!yn)return Sr(l),null}else 2*Yt()-z.renderingStartTime>Su&&y!==1073741824&&(l.flags|=128,x=!0,Gc(z,!1),l.lanes=4194304);z.isBackwards?(Z.sibling=l.child,l.child=Z):(y=z.last,y!==null?y.sibling=Z:l.child=Z,z.last=Z)}return z.tail!==null?(l=z.tail,z.rendering=l,z.tail=l.sibling,z.renderingStartTime=Yt(),l.sibling=null,y=xn.current,ln(xn,x?y&1|2:y&1),l):(Sr(l),null);case 22:case 23:return Zp(),x=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(l.flags|=8192),x&&l.mode&1?_i&1073741824&&(Sr(l),l.subtreeFlags&6&&(l.flags|=8192)):Sr(l),null;case 24:return null;case 25:return null}throw Error(e(156,l.tag))}function gR(o,l){switch(ip(l),l.tag){case 1:return Yr(l.type)&&Nf(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return vu(),gn(Zr),gn(br),mp(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return gp(l),null;case 13:if(gn(xn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(e(340));gu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return gn(xn),null;case 4:return vu(),null;case 10:return lp(l.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var Qf=!1,xr=!1,yR=typeof WeakSet=="function"?WeakSet:Set,ct=null;function bu(o,l){var y=o.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(x){Ln(o,l,x)}else y.current=null}function Dp(o,l,y){try{y()}catch(x){Ln(o,l,x)}}var N_=!1;function mR(o,l){if(Z0=mf,o=cv(),$0(o)){if("selectionStart"in o)var y={start:o.selectionStart,end:o.selectionEnd};else e:{y=(y=o.ownerDocument)&&y.defaultView||window;var x=y.getSelection&&y.getSelection();if(x&&x.rangeCount!==0){y=x.anchorNode;var L=x.anchorOffset,z=x.focusNode;x=x.focusOffset;try{y.nodeType,z.nodeType}catch{y=null;break e}var Z=0,ie=-1,ue=-1,ve=0,Ae=0,Te=o,ke=null;t:for(;;){for(var Je;Te!==y||L!==0&&Te.nodeType!==3||(ie=Z+L),Te!==z||x!==0&&Te.nodeType!==3||(ue=Z+x),Te.nodeType===3&&(Z+=Te.nodeValue.length),(Je=Te.firstChild)!==null;)ke=Te,Te=Je;for(;;){if(Te===o)break t;if(ke===y&&++ve===L&&(ie=Z),ke===z&&++Ae===x&&(ue=Z),(Je=Te.nextSibling)!==null)break;Te=ke,ke=Te.parentNode}Te=Je}y=ie===-1||ue===-1?null:{start:ie,end:ue}}else y=null}y=y||{start:0,end:0}}else y=null;for(Y0={focusedElem:o,selectionRange:y},mf=!1,ct=l;ct!==null;)if(l=ct,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ct=o;else for(;ct!==null;){l=ct;try{var wt=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var vt=wt.memoizedProps,Dn=wt.memoizedState,he=l.stateNode,le=he.getSnapshotBeforeUpdate(l.elementType===l.type?vt:Gi(l.type,vt),Dn);he.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var ge=l.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Ce){Ln(l,l.return,Ce)}if(o=l.sibling,o!==null){o.return=l.return,ct=o;break}ct=l.return}return wt=N_,N_=!1,wt}function Zc(o,l,y){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var L=x=x.next;do{if((L.tag&o)===o){var z=L.destroy;L.destroy=void 0,z!==void 0&&Dp(l,y,z)}L=L.next}while(L!==x)}}function Jf(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var y=l=l.next;do{if((y.tag&o)===o){var x=y.create;y.destroy=x()}y=y.next}while(y!==l)}}function Up(o){var l=o.ref;if(l!==null){var y=o.stateNode;switch(o.tag){case 5:o=y;break;default:o=y}typeof l=="function"?l(o):l.current=o}}function B_(o){var l=o.alternate;l!==null&&(o.alternate=null,B_(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[as],delete l[Uc],delete l[ep],delete l[XM],delete l[eR])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function C_(o){return o.tag===5||o.tag===3||o.tag===4}function L_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||C_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zp(o,l,y){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?y.nodeType===8?y.parentNode.insertBefore(o,l):y.insertBefore(o,l):(y.nodeType===8?(l=y.parentNode,l.insertBefore(o,y)):(l=y,l.appendChild(o)),y=y._reactRootContainer,y!=null||l.onclick!==null||(l.onclick=Rf));else if(x!==4&&(o=o.child,o!==null))for(zp(o,l,y),o=o.sibling;o!==null;)zp(o,l,y),o=o.sibling}function Fp(o,l,y){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?y.insertBefore(o,l):y.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Fp(o,l,y),o=o.sibling;o!==null;)Fp(o,l,y),o=o.sibling}var lr=null,Zi=!1;function Eo(o,l,y){for(y=y.child;y!==null;)O_(o,l,y),y=y.sibling}function O_(o,l,y){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(_r,y)}catch{}switch(y.tag){case 5:xr||bu(y,l);case 6:var x=lr,L=Zi;lr=null,Eo(o,l,y),lr=x,Zi=L,lr!==null&&(Zi?(o=lr,y=y.stateNode,o.nodeType===8?o.parentNode.removeChild(y):o.removeChild(y)):lr.removeChild(y.stateNode));break;case 18:lr!==null&&(Zi?(o=lr,y=y.stateNode,o.nodeType===8?X0(o.parentNode,y):o.nodeType===1&&X0(o,y),Ic(o)):X0(lr,y.stateNode));break;case 4:x=lr,L=Zi,lr=y.stateNode.containerInfo,Zi=!0,Eo(o,l,y),lr=x,Zi=L;break;case 0:case 11:case 14:case 15:if(!xr&&(x=y.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){L=x=x.next;do{var z=L,Z=z.destroy;z=z.tag,Z!==void 0&&(z&2||z&4)&&Dp(y,l,Z),L=L.next}while(L!==x)}Eo(o,l,y);break;case 1:if(!xr&&(bu(y,l),x=y.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=y.memoizedProps,x.state=y.memoizedState,x.componentWillUnmount()}catch(ie){Ln(y,l,ie)}Eo(o,l,y);break;case 21:Eo(o,l,y);break;case 22:y.mode&1?(xr=(x=xr)||y.memoizedState!==null,Eo(o,l,y),xr=x):Eo(o,l,y);break;default:Eo(o,l,y)}}function P_(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var y=o.stateNode;y===null&&(y=o.stateNode=new yR),l.forEach(function(x){var L=AR.bind(null,o,x);y.has(x)||(y.add(x),x.then(L,L))})}}function Yi(o,l){var y=l.deletions;if(y!==null)for(var x=0;x<y.length;x++){var L=y[x];try{var z=o,Z=l,ie=Z;e:for(;ie!==null;){switch(ie.tag){case 5:lr=ie.stateNode,Zi=!1;break e;case 3:lr=ie.stateNode.containerInfo,Zi=!0;break e;case 4:lr=ie.stateNode.containerInfo,Zi=!0;break e}ie=ie.return}if(lr===null)throw Error(e(160));O_(z,Z,L),lr=null,Zi=!1;var ue=L.alternate;ue!==null&&(ue.return=null),L.return=null}catch(ve){Ln(L,l,ve)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)D_(l,o),l=l.sibling}function D_(o,l){var y=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Yi(l,o),ls(o),x&4){try{Zc(3,o,o.return),Jf(3,o)}catch(vt){Ln(o,o.return,vt)}try{Zc(5,o,o.return)}catch(vt){Ln(o,o.return,vt)}}break;case 1:Yi(l,o),ls(o),x&512&&y!==null&&bu(y,y.return);break;case 5:if(Yi(l,o),ls(o),x&512&&y!==null&&bu(y,y.return),o.flags&32){var L=o.stateNode;try{U(L,"")}catch(vt){Ln(o,o.return,vt)}}if(x&4&&(L=o.stateNode,L!=null)){var z=o.memoizedProps,Z=y!==null?y.memoizedProps:z,ie=o.type,ue=o.updateQueue;if(o.updateQueue=null,ue!==null)try{ie==="input"&&z.type==="radio"&&z.name!=null&&Gn(L,z),St(ie,Z);var ve=St(ie,z);for(Z=0;Z<ue.length;Z+=2){var Ae=ue[Z],Te=ue[Z+1];Ae==="style"?Le(L,Te):Ae==="dangerouslySetInnerHTML"?_(L,Te):Ae==="children"?U(L,Te):F(L,Ae,Te,ve)}switch(ie){case"input":We(L,z);break;case"textarea":qe(L,z);break;case"select":var ke=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!z.multiple;var Je=z.value;Je!=null?Oe(L,!!z.multiple,Je,!1):ke!==!!z.multiple&&(z.defaultValue!=null?Oe(L,!!z.multiple,z.defaultValue,!0):Oe(L,!!z.multiple,z.multiple?[]:"",!1))}L[Uc]=z}catch(vt){Ln(o,o.return,vt)}}break;case 6:if(Yi(l,o),ls(o),x&4){if(o.stateNode===null)throw Error(e(162));L=o.stateNode,z=o.memoizedProps;try{L.nodeValue=z}catch(vt){Ln(o,o.return,vt)}}break;case 3:if(Yi(l,o),ls(o),x&4&&y!==null&&y.memoizedState.isDehydrated)try{Ic(l.containerInfo)}catch(vt){Ln(o,o.return,vt)}break;case 4:Yi(l,o),ls(o);break;case 13:Yi(l,o),ls(o),L=o.child,L.flags&8192&&(z=L.memoizedState!==null,L.stateNode.isHidden=z,!z||L.alternate!==null&&L.alternate.memoizedState!==null||(Hp=Yt())),x&4&&P_(o);break;case 22:if(Ae=y!==null&&y.memoizedState!==null,o.mode&1?(xr=(ve=xr)||Ae,Yi(l,o),xr=ve):Yi(l,o),ls(o),x&8192){if(ve=o.memoizedState!==null,(o.stateNode.isHidden=ve)&&!Ae&&o.mode&1)for(ct=o,Ae=o.child;Ae!==null;){for(Te=ct=Ae;ct!==null;){switch(ke=ct,Je=ke.child,ke.tag){case 0:case 11:case 14:case 15:Zc(4,ke,ke.return);break;case 1:bu(ke,ke.return);var wt=ke.stateNode;if(typeof wt.componentWillUnmount=="function"){x=ke,y=ke.return;try{l=x,wt.props=l.memoizedProps,wt.state=l.memoizedState,wt.componentWillUnmount()}catch(vt){Ln(x,y,vt)}}break;case 5:bu(ke,ke.return);break;case 22:if(ke.memoizedState!==null){F_(Te);continue}}Je!==null?(Je.return=ke,ct=Je):F_(Te)}Ae=Ae.sibling}e:for(Ae=null,Te=o;;){if(Te.tag===5){if(Ae===null){Ae=Te;try{L=Te.stateNode,ve?(z=L.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(ie=Te.stateNode,ue=Te.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ie.style.display=ne("display",Z))}catch(vt){Ln(o,o.return,vt)}}}else if(Te.tag===6){if(Ae===null)try{Te.stateNode.nodeValue=ve?"":Te.memoizedProps}catch(vt){Ln(o,o.return,vt)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===o)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===o)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===o)break e;Ae===Te&&(Ae=null),Te=Te.return}Ae===Te&&(Ae=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Yi(l,o),ls(o),x&4&&P_(o);break;case 21:break;default:Yi(l,o),ls(o)}}function ls(o){var l=o.flags;if(l&2){try{e:{for(var y=o.return;y!==null;){if(C_(y)){var x=y;break e}y=y.return}throw Error(e(160))}switch(x.tag){case 5:var L=x.stateNode;x.flags&32&&(U(L,""),x.flags&=-33);var z=L_(o);Fp(o,z,L);break;case 3:case 4:var Z=x.stateNode.containerInfo,ie=L_(o);zp(o,ie,Z);break;default:throw Error(e(161))}}catch(ue){Ln(o,o.return,ue)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function wR(o,l,y){ct=o,U_(o)}function U_(o,l,y){for(var x=(o.mode&1)!==0;ct!==null;){var L=ct,z=L.child;if(L.tag===22&&x){var Z=L.memoizedState!==null||Qf;if(!Z){var ie=L.alternate,ue=ie!==null&&ie.memoizedState!==null||xr;ie=Qf;var ve=xr;if(Qf=Z,(xr=ue)&&!ve)for(ct=L;ct!==null;)Z=ct,ue=Z.child,Z.tag===22&&Z.memoizedState!==null?$_(L):ue!==null?(ue.return=Z,ct=ue):$_(L);for(;z!==null;)ct=z,U_(z),z=z.sibling;ct=L,Qf=ie,xr=ve}z_(o)}else L.subtreeFlags&8772&&z!==null?(z.return=L,ct=z):z_(o)}}function z_(o){for(;ct!==null;){var l=ct;if(l.flags&8772){var y=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:xr||Jf(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!xr)if(y===null)x.componentDidMount();else{var L=l.elementType===l.type?y.memoizedProps:Gi(l.type,y.memoizedProps);x.componentDidUpdate(L,y.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var z=l.updateQueue;z!==null&&Fv(l,z,x);break;case 3:var Z=l.updateQueue;if(Z!==null){if(y=null,l.child!==null)switch(l.child.tag){case 5:y=l.child.stateNode;break;case 1:y=l.child.stateNode}Fv(l,Z,y)}break;case 5:var ie=l.stateNode;if(y===null&&l.flags&4){y=ie;var ue=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&y.focus();break;case"img":ue.src&&(y.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ve=l.alternate;if(ve!==null){var Ae=ve.memoizedState;if(Ae!==null){var Te=Ae.dehydrated;Te!==null&&Ic(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}xr||l.flags&512&&Up(l)}catch(ke){Ln(l,l.return,ke)}}if(l===o){ct=null;break}if(y=l.sibling,y!==null){y.return=l.return,ct=y;break}ct=l.return}}function F_(o){for(;ct!==null;){var l=ct;if(l===o){ct=null;break}var y=l.sibling;if(y!==null){y.return=l.return,ct=y;break}ct=l.return}}function $_(o){for(;ct!==null;){var l=ct;try{switch(l.tag){case 0:case 11:case 15:var y=l.return;try{Jf(4,l)}catch(ue){Ln(l,y,ue)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var L=l.return;try{x.componentDidMount()}catch(ue){Ln(l,L,ue)}}var z=l.return;try{Up(l)}catch(ue){Ln(l,z,ue)}break;case 5:var Z=l.return;try{Up(l)}catch(ue){Ln(l,Z,ue)}}}catch(ue){Ln(l,l.return,ue)}if(l===o){ct=null;break}var ie=l.sibling;if(ie!==null){ie.return=l.return,ct=ie;break}ct=l.return}}var vR=Math.ceil,Xf=Y.ReactCurrentDispatcher,$p=Y.ReactCurrentOwner,Li=Y.ReactCurrentBatchConfig,Qt=0,er=null,$n=null,fr=0,_i=0,Eu=mo(0),Yn=0,Yc=null,da=0,eh=0,jp=0,Qc=null,Jr=null,Hp=0,Su=1/0,Us=null,th=!1,Wp=null,So=null,nh=!1,xo=null,rh=0,Jc=0,qp=null,ih=-1,sh=0;function Pr(){return Qt&6?Yt():ih!==-1?ih:ih=Yt()}function ko(o){return o.mode&1?Qt&2&&fr!==0?fr&-fr:nR.transition!==null?(sh===0&&(sh=Lw()),sh):(o=on,o!==0||(o=window.event,o=o===void 0?16:Hw(o.type)),o):1}function Qi(o,l,y,x){if(50<Jc)throw Jc=0,qp=null,Error(e(185));Ec(o,y,x),(!(Qt&2)||o!==er)&&(o===er&&(!(Qt&2)&&(eh|=y),Yn===4&&Ao(o,fr)),Xr(o,x),y===1&&Qt===0&&!(l.mode&1)&&(Su=Yt()+500,Cf&&vo()))}function Xr(o,l){var y=o.callbackNode;nM(o,l);var x=pf(o,o===er?fr:0);if(x===0)y!==null&&Kr(y),o.callbackNode=null,o.callbackPriority=0;else if(l=x&-x,o.callbackPriority!==l){if(y!=null&&Kr(y),l===1)o.tag===0?tR(H_.bind(null,o)):Mv(H_.bind(null,o)),QM(function(){!(Qt&6)&&vo()}),y=null;else{switch(Ow(x)){case 1:y=Lr;break;case 4:y=Vr;break;case 16:y=vr;break;case 536870912:y=Gr;break;default:y=vr}y=Q_(y,j_.bind(null,o))}o.callbackPriority=l,o.callbackNode=y}}function j_(o,l){if(ih=-1,sh=0,Qt&6)throw Error(e(327));var y=o.callbackNode;if(xu()&&o.callbackNode!==y)return null;var x=pf(o,o===er?fr:0);if(x===0)return null;if(x&30||x&o.expiredLanes||l)l=oh(o,x);else{l=x;var L=Qt;Qt|=2;var z=q_();(er!==o||fr!==l)&&(Us=null,Su=Yt()+500,ga(o,l));do try{ER();break}catch(ie){W_(o,ie)}while(!0);cp(),Xf.current=z,Qt=L,$n!==null?l=0:(er=null,fr=0,l=Yn)}if(l!==0){if(l===2&&(L=k0(o),L!==0&&(x=L,l=Kp(o,L))),l===1)throw y=Yc,ga(o,0),Ao(o,x),Xr(o,Yt()),y;if(l===6)Ao(o,x);else{if(L=o.current.alternate,!(x&30)&&!_R(L)&&(l=oh(o,x),l===2&&(z=k0(o),z!==0&&(x=z,l=Kp(o,z))),l===1))throw y=Yc,ga(o,0),Ao(o,x),Xr(o,Yt()),y;switch(o.finishedWork=L,o.finishedLanes=x,l){case 0:case 1:throw Error(e(345));case 2:ya(o,Jr,Us);break;case 3:if(Ao(o,x),(x&130023424)===x&&(l=Hp+500-Yt(),10<l)){if(pf(o,0)!==0)break;if(L=o.suspendedLanes,(L&x)!==x){Pr(),o.pingedLanes|=o.suspendedLanes&L;break}o.timeoutHandle=J0(ya.bind(null,o,Jr,Us),l);break}ya(o,Jr,Us);break;case 4:if(Ao(o,x),(x&4194240)===x)break;for(l=o.eventTimes,L=-1;0<x;){var Z=31-Sn(x);z=1<<Z,Z=l[Z],Z>L&&(L=Z),x&=~z}if(x=L,x=Yt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*vR(x/1960))-x,10<x){o.timeoutHandle=J0(ya.bind(null,o,Jr,Us),x);break}ya(o,Jr,Us);break;case 5:ya(o,Jr,Us);break;default:throw Error(e(329))}}}return Xr(o,Yt()),o.callbackNode===y?j_.bind(null,o):null}function Kp(o,l){var y=Qc;return o.current.memoizedState.isDehydrated&&(ga(o,l).flags|=256),o=oh(o,l),o!==2&&(l=Jr,Jr=y,l!==null&&Vp(l)),o}function Vp(o){Jr===null?Jr=o:Jr.push.apply(Jr,o)}function _R(o){for(var l=o;;){if(l.flags&16384){var y=l.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var x=0;x<y.length;x++){var L=y[x],z=L.getSnapshot;L=L.value;try{if(!Ki(z(),L))return!1}catch{return!1}}}if(y=l.child,l.subtreeFlags&16384&&y!==null)y.return=l,l=y;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ao(o,l){for(l&=~jp,l&=~eh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var y=31-Sn(l),x=1<<y;o[y]=-1,l&=~x}}function H_(o){if(Qt&6)throw Error(e(327));xu();var l=pf(o,0);if(!(l&1))return Xr(o,Yt()),null;var y=oh(o,l);if(o.tag!==0&&y===2){var x=k0(o);x!==0&&(l=x,y=Kp(o,x))}if(y===1)throw y=Yc,ga(o,0),Ao(o,l),Xr(o,Yt()),y;if(y===6)throw Error(e(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ya(o,Jr,Us),Xr(o,Yt()),null}function Gp(o,l){var y=Qt;Qt|=1;try{return o(l)}finally{Qt=y,Qt===0&&(Su=Yt()+500,Cf&&vo())}}function pa(o){xo!==null&&xo.tag===0&&!(Qt&6)&&xu();var l=Qt;Qt|=1;var y=Li.transition,x=on;try{if(Li.transition=null,on=1,o)return o()}finally{on=x,Li.transition=y,Qt=l,!(Qt&6)&&vo()}}function Zp(){_i=Eu.current,gn(Eu)}function ga(o,l){o.finishedWork=null,o.finishedLanes=0;var y=o.timeoutHandle;if(y!==-1&&(o.timeoutHandle=-1,YM(y)),$n!==null)for(y=$n.return;y!==null;){var x=y;switch(ip(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Nf();break;case 3:vu(),gn(Zr),gn(br),mp();break;case 5:gp(x);break;case 4:vu();break;case 13:gn(xn);break;case 19:gn(xn);break;case 10:lp(x.type._context);break;case 22:case 23:Zp()}y=y.return}if(er=o,$n=o=Io(o.current,null),fr=_i=l,Yn=0,Yc=null,jp=eh=da=0,Jr=Qc=null,la!==null){for(l=0;l<la.length;l++)if(y=la[l],x=y.interleaved,x!==null){y.interleaved=null;var L=x.next,z=y.pending;if(z!==null){var Z=z.next;z.next=L,x.next=Z}y.pending=x}la=null}return o}function W_(o,l){do{var y=$n;try{if(cp(),Hf.current=Vf,Wf){for(var x=kn.memoizedState;x!==null;){var L=x.queue;L!==null&&(L.pending=null),x=x.next}Wf=!1}if(ha=0,Xn=Zn=kn=null,Wc=!1,qc=0,$p.current=null,y===null||y.return===null){Yn=1,Yc=l,$n=null;break}e:{var z=o,Z=y.return,ie=y,ue=l;if(l=fr,ie.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var ve=ue,Ae=ie,Te=Ae.tag;if(!(Ae.mode&1)&&(Te===0||Te===11||Te===15)){var ke=Ae.alternate;ke?(Ae.updateQueue=ke.updateQueue,Ae.memoizedState=ke.memoizedState,Ae.lanes=ke.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Je=g_(Z);if(Je!==null){Je.flags&=-257,y_(Je,Z,ie,z,l),Je.mode&1&&p_(z,ve,l),l=Je,ue=ve;var wt=l.updateQueue;if(wt===null){var vt=new Set;vt.add(ue),l.updateQueue=vt}else wt.add(ue);break e}else{if(!(l&1)){p_(z,ve,l),Yp();break e}ue=Error(e(426))}}else if(yn&&ie.mode&1){var Dn=g_(Z);if(Dn!==null){!(Dn.flags&65536)&&(Dn.flags|=256),y_(Dn,Z,ie,z,l),ap(_u(ue,ie));break e}}z=ue=_u(ue,ie),Yn!==4&&(Yn=2),Qc===null?Qc=[z]:Qc.push(z),z=Z;do{switch(z.tag){case 3:z.flags|=65536,l&=-l,z.lanes|=l;var he=h_(z,ue,l);zv(z,he);break e;case 1:ie=ue;var le=z.type,ge=z.stateNode;if(!(z.flags&128)&&(typeof le.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(So===null||!So.has(ge)))){z.flags|=65536,l&=-l,z.lanes|=l;var Ce=d_(z,ie,l);zv(z,Ce);break e}}z=z.return}while(z!==null)}V_(y)}catch(_t){l=_t,$n===y&&y!==null&&($n=y=y.return);continue}break}while(!0)}function q_(){var o=Xf.current;return Xf.current=Vf,o===null?Vf:o}function Yp(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),er===null||!(da&268435455)&&!(eh&268435455)||Ao(er,fr)}function oh(o,l){var y=Qt;Qt|=2;var x=q_();(er!==o||fr!==l)&&(Us=null,ga(o,l));do try{bR();break}catch(L){W_(o,L)}while(!0);if(cp(),Qt=y,Xf.current=x,$n!==null)throw Error(e(261));return er=null,fr=0,Yn}function bR(){for(;$n!==null;)K_($n)}function ER(){for(;$n!==null&&!fi();)K_($n)}function K_(o){var l=Y_(o.alternate,o,_i);o.memoizedProps=o.pendingProps,l===null?V_(o):$n=l,$p.current=null}function V_(o){var l=o;do{var y=l.alternate;if(o=l.return,l.flags&32768){if(y=gR(y,l),y!==null){y.flags&=32767,$n=y;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Yn=6,$n=null;return}}else if(y=pR(y,l,_i),y!==null){$n=y;return}if(l=l.sibling,l!==null){$n=l;return}$n=l=o}while(l!==null);Yn===0&&(Yn=5)}function ya(o,l,y){var x=on,L=Li.transition;try{Li.transition=null,on=1,SR(o,l,y,x)}finally{Li.transition=L,on=x}return null}function SR(o,l,y,x){do xu();while(xo!==null);if(Qt&6)throw Error(e(327));y=o.finishedWork;var L=o.finishedLanes;if(y===null)return null;if(o.finishedWork=null,o.finishedLanes=0,y===o.current)throw Error(e(177));o.callbackNode=null,o.callbackPriority=0;var z=y.lanes|y.childLanes;if(rM(o,z),o===er&&($n=er=null,fr=0),!(y.subtreeFlags&2064)&&!(y.flags&2064)||nh||(nh=!0,Q_(vr,function(){return xu(),null})),z=(y.flags&15990)!==0,y.subtreeFlags&15990||z){z=Li.transition,Li.transition=null;var Z=on;on=1;var ie=Qt;Qt|=4,$p.current=null,mR(o,y),D_(y,o),HM(Y0),mf=!!Z0,Y0=Z0=null,o.current=y,wR(y),hi(),Qt=ie,on=Z,Li.transition=z}else o.current=y;if(nh&&(nh=!1,xo=o,rh=L),z=o.pendingLanes,z===0&&(So=null),gi(y.stateNode),Xr(o,Yt()),l!==null)for(x=o.onRecoverableError,y=0;y<l.length;y++)L=l[y],x(L.value,{componentStack:L.stack,digest:L.digest});if(th)throw th=!1,o=Wp,Wp=null,o;return rh&1&&o.tag!==0&&xu(),z=o.pendingLanes,z&1?o===qp?Jc++:(Jc=0,qp=o):Jc=0,vo(),null}function xu(){if(xo!==null){var o=Ow(rh),l=Li.transition,y=on;try{if(Li.transition=null,on=16>o?16:o,xo===null)var x=!1;else{if(o=xo,xo=null,rh=0,Qt&6)throw Error(e(331));var L=Qt;for(Qt|=4,ct=o.current;ct!==null;){var z=ct,Z=z.child;if(ct.flags&16){var ie=z.deletions;if(ie!==null){for(var ue=0;ue<ie.length;ue++){var ve=ie[ue];for(ct=ve;ct!==null;){var Ae=ct;switch(Ae.tag){case 0:case 11:case 15:Zc(8,Ae,z)}var Te=Ae.child;if(Te!==null)Te.return=Ae,ct=Te;else for(;ct!==null;){Ae=ct;var ke=Ae.sibling,Je=Ae.return;if(B_(Ae),Ae===ve){ct=null;break}if(ke!==null){ke.return=Je,ct=ke;break}ct=Je}}}var wt=z.alternate;if(wt!==null){var vt=wt.child;if(vt!==null){wt.child=null;do{var Dn=vt.sibling;vt.sibling=null,vt=Dn}while(vt!==null)}}ct=z}}if(z.subtreeFlags&2064&&Z!==null)Z.return=z,ct=Z;else e:for(;ct!==null;){if(z=ct,z.flags&2048)switch(z.tag){case 0:case 11:case 15:Zc(9,z,z.return)}var he=z.sibling;if(he!==null){he.return=z.return,ct=he;break e}ct=z.return}}var le=o.current;for(ct=le;ct!==null;){Z=ct;var ge=Z.child;if(Z.subtreeFlags&2064&&ge!==null)ge.return=Z,ct=ge;else e:for(Z=le;ct!==null;){if(ie=ct,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:Jf(9,ie)}}catch(_t){Ln(ie,ie.return,_t)}if(ie===Z){ct=null;break e}var Ce=ie.sibling;if(Ce!==null){Ce.return=ie.return,ct=Ce;break e}ct=ie.return}}if(Qt=L,vo(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(_r,o)}catch{}x=!0}return x}finally{on=y,Li.transition=l}}return!1}function G_(o,l,y){l=_u(y,l),l=h_(o,l,1),o=bo(o,l,1),l=Pr(),o!==null&&(Ec(o,1,l),Xr(o,l))}function Ln(o,l,y){if(o.tag===3)G_(o,o,y);else for(;l!==null;){if(l.tag===3){G_(l,o,y);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(So===null||!So.has(x))){o=_u(y,o),o=d_(l,o,1),l=bo(l,o,1),o=Pr(),l!==null&&(Ec(l,1,o),Xr(l,o));break}}l=l.return}}function xR(o,l,y){var x=o.pingCache;x!==null&&x.delete(l),l=Pr(),o.pingedLanes|=o.suspendedLanes&y,er===o&&(fr&y)===y&&(Yn===4||Yn===3&&(fr&130023424)===fr&&500>Yt()-Hp?ga(o,0):jp|=y),Xr(o,l)}function Z_(o,l){l===0&&(o.mode&1?(l=df,df<<=1,!(df&130023424)&&(df=4194304)):l=1);var y=Pr();o=Os(o,l),o!==null&&(Ec(o,l,y),Xr(o,y))}function kR(o){var l=o.memoizedState,y=0;l!==null&&(y=l.retryLane),Z_(o,y)}function AR(o,l){var y=0;switch(o.tag){case 13:var x=o.stateNode,L=o.memoizedState;L!==null&&(y=L.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(e(314))}x!==null&&x.delete(l),Z_(o,y)}var Y_;Y_=function(o,l,y){if(o!==null)if(o.memoizedProps!==l.pendingProps||Zr.current)Qr=!0;else{if(!(o.lanes&y)&&!(l.flags&128))return Qr=!1,dR(o,l,y);Qr=!!(o.flags&131072)}else Qr=!1,yn&&l.flags&1048576&&Rv(l,Of,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;Yf(o,l),o=l.pendingProps;var L=hu(l,br.current);wu(l,y),L=_p(null,l,x,o,L,y);var z=bp();return l.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Yr(x)?(z=!0,Bf(l)):z=!1,l.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,dp(l),L.updater=Gf,l.stateNode=L,L._reactInternals=l,Ip(l,x,o,y),l=Np(null,l,x,!0,z,y)):(l.tag=0,yn&&z&&rp(l),Or(null,l,L,y),l=l.child),l;case 16:x=l.elementType;e:{switch(Yf(o,l),o=l.pendingProps,L=x._init,x=L(x._payload),l.type=x,L=l.tag=MR(x),o=Gi(x,o),L){case 0:l=Tp(null,l,x,o,y);break e;case 1:l=E_(null,l,x,o,y);break e;case 11:l=m_(null,l,x,o,y);break e;case 14:l=w_(null,l,x,Gi(x.type,o),y);break e}throw Error(e(306,x,""))}return l;case 0:return x=l.type,L=l.pendingProps,L=l.elementType===x?L:Gi(x,L),Tp(o,l,x,L,y);case 1:return x=l.type,L=l.pendingProps,L=l.elementType===x?L:Gi(x,L),E_(o,l,x,L,y);case 3:e:{if(S_(l),o===null)throw Error(e(387));x=l.pendingProps,z=l.memoizedState,L=z.element,Uv(o,l),$f(l,x,null,y);var Z=l.memoizedState;if(x=Z.element,z.isDehydrated)if(z={element:x,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},l.updateQueue.baseState=z,l.memoizedState=z,l.flags&256){L=_u(Error(e(423)),l),l=x_(o,l,x,y,L);break e}else if(x!==L){L=_u(Error(e(424)),l),l=x_(o,l,x,y,L);break e}else for(vi=yo(l.stateNode.containerInfo.firstChild),wi=l,yn=!0,Vi=null,y=Pv(l,null,x,y),l.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(gu(),x===L){l=Ds(o,l,y);break e}Or(o,l,x,y)}l=l.child}return l;case 5:return $v(l),o===null&&op(l),x=l.type,L=l.pendingProps,z=o!==null?o.memoizedProps:null,Z=L.children,Q0(x,L)?Z=null:z!==null&&Q0(x,z)&&(l.flags|=32),b_(o,l),Or(o,l,Z,y),l.child;case 6:return o===null&&op(l),null;case 13:return k_(o,l,y);case 4:return pp(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=yu(l,null,x,y):Or(o,l,x,y),l.child;case 11:return x=l.type,L=l.pendingProps,L=l.elementType===x?L:Gi(x,L),m_(o,l,x,L,y);case 7:return Or(o,l,l.pendingProps,y),l.child;case 8:return Or(o,l,l.pendingProps.children,y),l.child;case 12:return Or(o,l,l.pendingProps.children,y),l.child;case 10:e:{if(x=l.type._context,L=l.pendingProps,z=l.memoizedProps,Z=L.value,ln(Uf,x._currentValue),x._currentValue=Z,z!==null)if(Ki(z.value,Z)){if(z.children===L.children&&!Zr.current){l=Ds(o,l,y);break e}}else for(z=l.child,z!==null&&(z.return=l);z!==null;){var ie=z.dependencies;if(ie!==null){Z=z.child;for(var ue=ie.firstContext;ue!==null;){if(ue.context===x){if(z.tag===1){ue=Ps(-1,y&-y),ue.tag=2;var ve=z.updateQueue;if(ve!==null){ve=ve.shared;var Ae=ve.pending;Ae===null?ue.next=ue:(ue.next=Ae.next,Ae.next=ue),ve.pending=ue}}z.lanes|=y,ue=z.alternate,ue!==null&&(ue.lanes|=y),fp(z.return,y,l),ie.lanes|=y;break}ue=ue.next}}else if(z.tag===10)Z=z.type===l.type?null:z.child;else if(z.tag===18){if(Z=z.return,Z===null)throw Error(e(341));Z.lanes|=y,ie=Z.alternate,ie!==null&&(ie.lanes|=y),fp(Z,y,l),Z=z.sibling}else Z=z.child;if(Z!==null)Z.return=z;else for(Z=z;Z!==null;){if(Z===l){Z=null;break}if(z=Z.sibling,z!==null){z.return=Z.return,Z=z;break}Z=Z.return}z=Z}Or(o,l,L.children,y),l=l.child}return l;case 9:return L=l.type,x=l.pendingProps.children,wu(l,y),L=Bi(L),x=x(L),l.flags|=1,Or(o,l,x,y),l.child;case 14:return x=l.type,L=Gi(x,l.pendingProps),L=Gi(x.type,L),w_(o,l,x,L,y);case 15:return v_(o,l,l.type,l.pendingProps,y);case 17:return x=l.type,L=l.pendingProps,L=l.elementType===x?L:Gi(x,L),Yf(o,l),l.tag=1,Yr(x)?(o=!0,Bf(l)):o=!1,wu(l,y),l_(l,x,L),Ip(l,x,L,y),Np(null,l,x,!0,o,y);case 19:return I_(o,l,y);case 22:return __(o,l,y)}throw Error(e(156,l.tag))};function Q_(o,l){return qr(o,l)}function IR(o,l,y,x){this.tag=o,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(o,l,y,x){return new IR(o,l,y,x)}function Qp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function MR(o){if(typeof o=="function")return Qp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===h)return 14}return 2}function Io(o,l){var y=o.alternate;return y===null?(y=Oi(o.tag,l,o.key,o.mode),y.elementType=o.elementType,y.type=o.type,y.stateNode=o.stateNode,y.alternate=o,o.alternate=y):(y.pendingProps=l,y.type=o.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=o.flags&14680064,y.childLanes=o.childLanes,y.lanes=o.lanes,y.child=o.child,y.memoizedProps=o.memoizedProps,y.memoizedState=o.memoizedState,y.updateQueue=o.updateQueue,l=o.dependencies,y.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},y.sibling=o.sibling,y.index=o.index,y.ref=o.ref,y}function ah(o,l,y,x,L,z){var Z=2;if(x=o,typeof o=="function")Qp(o)&&(Z=1);else if(typeof o=="string")Z=5;else e:switch(o){case te:return ma(y.children,L,z,l);case re:Z=8,L|=8;break;case W:return o=Oi(12,y,l,L|2),o.elementType=W,o.lanes=z,o;case S:return o=Oi(13,y,l,L),o.elementType=S,o.lanes=z,o;case a:return o=Oi(19,y,l,L),o.elementType=a,o.lanes=z,o;case E:return uh(y,L,z,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case q:Z=10;break e;case K:Z=9;break e;case V:Z=11;break e;case h:Z=14;break e;case m:Z=16,x=null;break e}throw Error(e(130,o==null?o:typeof o,""))}return l=Oi(Z,y,l,L),l.elementType=o,l.type=x,l.lanes=z,l}function ma(o,l,y,x){return o=Oi(7,o,x,l),o.lanes=y,o}function uh(o,l,y,x){return o=Oi(22,o,x,l),o.elementType=E,o.lanes=y,o.stateNode={isHidden:!1},o}function Jp(o,l,y){return o=Oi(6,o,null,l),o.lanes=y,o}function Xp(o,l,y){return l=Oi(4,o.children!==null?o.children:[],o.key,l),l.lanes=y,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function RR(o,l,y,x,L){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A0(0),this.expirationTimes=A0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A0(0),this.identifierPrefix=x,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function eg(o,l,y,x,L,z,Z,ie,ue){return o=new RR(o,l,y,ie,ue),l===1?(l=1,z===!0&&(l|=8)):l=0,z=Oi(3,null,null,l),o.current=z,z.stateNode=o,z.memoizedState={element:x,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(z),o}function TR(o,l,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:x==null?null:""+x,children:o,containerInfo:l,implementation:y}}function J_(o){if(!o)return wo;o=o._reactInternals;e:{if(wr(o)!==o||o.tag!==1)throw Error(e(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(e(171))}if(o.tag===1){var y=o.type;if(Yr(y))return Av(o,y,l)}return l}function X_(o,l,y,x,L,z,Z,ie,ue){return o=eg(y,x,!0,o,L,z,Z,ie,ue),o.context=J_(null),y=o.current,x=Pr(),L=ko(y),z=Ps(x,L),z.callback=l??null,bo(y,z,L),o.current.lanes=L,Ec(o,L,x),Xr(o,x),o}function ch(o,l,y,x){var L=l.current,z=Pr(),Z=ko(L);return y=J_(y),l.context===null?l.context=y:l.pendingContext=y,l=Ps(z,Z),l.payload={element:o},x=x===void 0?null:x,x!==null&&(l.callback=x),o=bo(L,l,Z),o!==null&&(Qi(o,L,Z,z),Ff(o,L,Z)),Z}function lh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function eb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var y=o.retryLane;o.retryLane=y!==0&&y<l?y:l}}function tg(o,l){eb(o,l),(o=o.alternate)&&eb(o,l)}var tb=typeof reportError=="function"?reportError:function(o){console.error(o)};function ng(o){this._internalRoot=o}fh.prototype.render=ng.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(e(409));ch(o,l,null,null)},fh.prototype.unmount=ng.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;pa(function(){ch(null,o,null,null)}),l[Ns]=null}};function fh(o){this._internalRoot=o}fh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Uw();o={blockedOn:null,target:o,priority:l};for(var y=0;y<ho.length&&l!==0&&l<ho[y].priority;y++);ho.splice(y,0,o),y===0&&$w(o)}};function rg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function hh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function nb(){}function NR(o,l,y,x,L){if(L){if(typeof x=="function"){var z=x;x=function(){var ve=lh(Z);z.call(ve)}}var Z=X_(l,x,o,0,null,!1,!1,"",nb);return o._reactRootContainer=Z,o[Ns]=Z.current,Pc(o.nodeType===8?o.parentNode:o),pa(),Z}for(;L=o.lastChild;)o.removeChild(L);if(typeof x=="function"){var ie=x;x=function(){var ve=lh(ue);ie.call(ve)}}var ue=eg(o,0,!1,null,null,!1,!1,"",nb);return o._reactRootContainer=ue,o[Ns]=ue.current,Pc(o.nodeType===8?o.parentNode:o),pa(function(){ch(l,ue,y,x)}),ue}function dh(o,l,y,x,L){var z=y._reactRootContainer;if(z){var Z=z;if(typeof L=="function"){var ie=L;L=function(){var ue=lh(Z);ie.call(ue)}}ch(l,Z,o,L)}else Z=NR(y,l,o,L,x);return lh(Z)}Pw=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var y=bc(l.pendingLanes);y!==0&&(I0(l,y|1),Xr(l,Yt()),!(Qt&6)&&(Su=Yt()+500,vo()))}break;case 13:pa(function(){var x=Os(o,1);if(x!==null){var L=Pr();Qi(x,o,1,L)}}),tg(o,1)}},M0=function(o){if(o.tag===13){var l=Os(o,134217728);if(l!==null){var y=Pr();Qi(l,o,134217728,y)}tg(o,134217728)}},Dw=function(o){if(o.tag===13){var l=ko(o),y=Os(o,l);if(y!==null){var x=Pr();Qi(y,o,l,x)}tg(o,l)}},Uw=function(){return on},zw=function(o,l){var y=on;try{return on=o,l()}finally{on=y}},Ri=function(o,l,y){switch(l){case"input":if(We(o,y),l=y.name,y.type==="radio"&&l!=null){for(y=o;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<y.length;l++){var x=y[l];if(x!==o&&x.form===o.form){var L=Tf(x);if(!L)throw Error(e(90));xe(x),We(x,L)}}}break;case"textarea":qe(o,y);break;case"select":l=y.value,l!=null&&Oe(o,!!y.multiple,l,!1)}},Wi=Gp,ht=pa;var BR={usingClientEntryPoint:!1,Events:[zc,lu,Tf,lt,ft,Gp]},Xc={findFiberByHostInstance:oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CR={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Hr(o),o===null?null:o.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{_r=ph.inject(CR),Cn=ph}catch{}}return ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR,ei.createPortal=function(o,l){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(l))throw Error(e(200));return TR(o,l,null,y)},ei.createRoot=function(o,l){if(!rg(o))throw Error(e(299));var y=!1,x="",L=tb;return l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(L=l.onRecoverableError)),l=eg(o,1,!1,null,null,y,!1,x,L),o[Ns]=l.current,Pc(o.nodeType===8?o.parentNode:o),new ng(l)},ei.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(e(188)):(o=Object.keys(o).join(","),Error(e(268,o)));return o=Hr(l),o=o===null?null:o.stateNode,o},ei.flushSync=function(o){return pa(o)},ei.hydrate=function(o,l,y){if(!hh(l))throw Error(e(200));return dh(null,o,l,!0,y)},ei.hydrateRoot=function(o,l,y){if(!rg(o))throw Error(e(405));var x=y!=null&&y.hydratedSources||null,L=!1,z="",Z=tb;if(y!=null&&(y.unstable_strictMode===!0&&(L=!0),y.identifierPrefix!==void 0&&(z=y.identifierPrefix),y.onRecoverableError!==void 0&&(Z=y.onRecoverableError)),l=X_(l,null,o,1,y??null,L,!1,z,Z),o[Ns]=l.current,Pc(o),x)for(o=0;o<x.length;o++)y=x[o],L=y._getVersion,L=L(y._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[y,L]:l.mutableSourceEagerHydrationData.push(y,L);return new fh(l)},ei.render=function(o,l,y){if(!hh(l))throw Error(e(200));return dh(null,o,l,!1,y)},ei.unmountComponentAtNode=function(o){if(!hh(o))throw Error(e(40));return o._reactRootContainer?(pa(function(){dh(null,null,o,!1,function(){o._reactRootContainer=null,o[Ns]=null})}),!0):!1},ei.unstable_batchedUpdates=Gp,ei.unstable_renderSubtreeIntoContainer=function(o,l,y,x){if(!hh(y))throw Error(e(200));if(o==null||o._reactInternals===void 0)throw Error(e(38));return dh(o,l,y,!1,x)},ei.version="18.3.1-next-f1338f8080-20240426",ei}var lb;function nx(){if(lb)return og.exports;lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),og.exports=jR(),og.exports}var fb;function HR(){if(fb)return gh;fb=1;var n=nx();return gh.createRoot=n.createRoot,gh.hydrateRoot=n.hydrateRoot,gh}var WR=HR();const qR="/assets/white-CW42E1Pc.png",KR="/assets/black-CsCwfaz3.png",VR="/assets/whiteKing-B4hbrVXJ.png",GR="/assets/blackKing-BT7TnQfe.png";class Ur{constructor(t,e){this.x=t,this.y=e}isOnBoard(){const{x:t,y:e}=this;return t<=7&&e<=7&&t>=0&&e>=0}getJumpTargets(){const t=[],{x:e,y:r}=this;return r>=2&&(e>=2&&t.push(new Ur(e-2,r-2)),e<=5&&t.push(new Ur(e+2,r-2))),r<=5&&(e>=2&&t.push(new Ur(e-2,r+2)),e<=5&&t.push(new Ur(e+2,r+2))),t}getMoveTargets(){const t=[],{x:e,y:r}=this;return r>=1&&(e>=1&&t.push(new Ur(e-1,r-1)),e<=6&&t.push(new Ur(e+1,r-1))),r<=6&&(e>=1&&t.push(new Ur(e-1,r+1)),e<=6&&t.push(new Ur(e+1,r+1))),t}}let yh=class{constructor(t){Ht(this,"label");this.label=t}};var ri=(n=>(n.BLACK="BLACK",n.WHITE="WHITE",n))(ri||{});const xs=Object.create(null);xs.open="0";xs.close="1";xs.ping="2";xs.pong="3";xs.message="4";xs.upgrade="5";xs.noop="6";const Kh=Object.create(null);Object.keys(xs).forEach(n=>{Kh[xs[n]]=n});const hm={type:"error",data:"parser error"},rx=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ix=typeof ArrayBuffer=="function",sx=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,v1=({type:n,data:t},e,r)=>rx&&t instanceof Blob?e?r(t):hb(t,r):ix&&(t instanceof ArrayBuffer||sx(t))?e?r(t):hb(new Blob([t]),r):r(xs[n]+(t||"")),hb=(n,t)=>{const e=new FileReader;return e.onload=function(){const r=e.result.split(",")[1];t("b"+(r||""))},e.readAsDataURL(n)};function db(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let cg;function ZR(n,t){if(rx&&n.data instanceof Blob)return n.data.arrayBuffer().then(db).then(t);if(ix&&(n.data instanceof ArrayBuffer||sx(n.data)))return t(db(n.data));v1(n,!1,e=>{cg||(cg=new TextEncoder),t(cg.encode(e))})}const pb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<pb.length;n++)hl[pb.charCodeAt(n)]=n;const YR=n=>{let t=n.length*.75,e=n.length,r,s=0,i,u,f,p;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);const w=new ArrayBuffer(t),b=new Uint8Array(w);for(r=0;r<e;r+=4)i=hl[n.charCodeAt(r)],u=hl[n.charCodeAt(r+1)],f=hl[n.charCodeAt(r+2)],p=hl[n.charCodeAt(r+3)],b[s++]=i<<2|u>>4,b[s++]=(u&15)<<4|f>>2,b[s++]=(f&3)<<6|p&63;return w},QR=typeof ArrayBuffer=="function",_1=(n,t)=>{if(typeof n!="string")return{type:"message",data:ox(n,t)};const e=n.charAt(0);return e==="b"?{type:"message",data:JR(n.substring(1),t)}:Kh[e]?n.length>1?{type:Kh[e],data:n.substring(1)}:{type:Kh[e]}:hm},JR=(n,t)=>{if(QR){const e=YR(n);return ox(e,t)}else return{base64:!0,data:n}},ox=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},ax="",XR=(n,t)=>{const e=n.length,r=new Array(e);let s=0;n.forEach((i,u)=>{v1(i,!1,f=>{r[u]=f,++s===e&&t(r.join(ax))})})},e3=(n,t)=>{const e=n.split(ax),r=[];for(let s=0;s<e.length;s++){const i=_1(e[s],t);if(r.push(i),i.type==="error")break}return r};function t3(){return new TransformStream({transform(n,t){ZR(n,e=>{const r=e.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(e)})}})}let lg;function mh(n){return n.reduce((t,e)=>t+e.length,0)}function wh(n,t){if(n[0].length===t)return n.shift();const e=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)e[s]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),e}function n3(n,t){lg||(lg=new TextDecoder);const e=[];let r=0,s=-1,i=!1;return new TransformStream({transform(u,f){for(e.push(u);;){if(r===0){if(mh(e)<1)break;const p=wh(e,1);i=(p[0]&128)===128,s=p[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(mh(e)<2)break;const p=wh(e,2);s=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),r=3}else if(r===2){if(mh(e)<8)break;const p=wh(e,8),w=new DataView(p.buffer,p.byteOffset,p.length),b=w.getUint32(0);if(b>Math.pow(2,21)-1){f.enqueue(hm);break}s=b*Math.pow(2,32)+w.getUint32(4),r=3}else{if(mh(e)<s)break;const p=wh(e,s);f.enqueue(_1(i?p:lg.decode(p),t)),r=0}if(s===0||s>n){f.enqueue(hm);break}}}})}const ux=4;function Kn(n){if(n)return r3(n)}function r3(n){for(var t in Kn.prototype)n[t]=Kn.prototype[t];return n}Kn.prototype.on=Kn.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};Kn.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this};Kn.prototype.off=Kn.prototype.removeListener=Kn.prototype.removeAllListeners=Kn.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,s=0;s<e.length;s++)if(r=e[s],r===t||r.fn===t){e.splice(s,1);break}return e.length===0&&delete this._callbacks["$"+n],this};Kn.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e){e=e.slice(0);for(var r=0,s=e.length;r<s;++r)e[r].apply(this,t)}return this};Kn.prototype.emitReserved=Kn.prototype.emit;Kn.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Kn.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Dd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Pi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),i3="arraybuffer";function cx(n,...t){return t.reduce((e,r)=>(n.hasOwnProperty(r)&&(e[r]=n[r]),e),{})}const s3=Pi.setTimeout,o3=Pi.clearTimeout;function Ud(n,t){t.useNativeTimers?(n.setTimeoutFn=s3.bind(Pi),n.clearTimeoutFn=o3.bind(Pi)):(n.setTimeoutFn=Pi.setTimeout.bind(Pi),n.clearTimeoutFn=Pi.clearTimeout.bind(Pi))}const a3=1.33;function u3(n){return typeof n=="string"?c3(n):Math.ceil((n.byteLength||n.size)*a3)}function c3(n){let t=0,e=0;for(let r=0,s=n.length;r<s;r++)t=n.charCodeAt(r),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(r++,e+=4);return e}function lx(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function l3(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}function f3(n){let t={},e=n.split("&");for(let r=0,s=e.length;r<s;r++){let i=e[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class h3 extends Error{constructor(t,e,r){super(t),this.description=e,this.context=r,this.type="TransportError"}}class b1 extends Kn{constructor(t){super(),this.writable=!1,Ud(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,r){return super.emitReserved("error",new h3(t,e,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=_1(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const e=l3(t);return e.length?"?"+e:""}}class d3 extends b1{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||e()})),this.writable||(r++,this.once("drain",function(){--r||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};e3(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,XR(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=lx()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}}let fx=!1;try{fx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const p3=fx;function g3(){}class y3 extends d3{constructor(t){if(super(t),typeof location<"u"){const e=location.protocol==="https:";let r=location.port;r||(r=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,e){const r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,r)=>{this.onError("xhr poll error",e,r)}),this.pollXhr=t}}class _s extends Kn{constructor(t,e,r){super(),this.createRequest=t,Ud(this,r),this._opts=r,this._method=r.method||"GET",this._uri=e,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const e=cx(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(e);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=_s.requestsCount++,_s.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=g3,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _s.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}_s.requestsCount=0;_s.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",gb);else if(typeof addEventListener=="function"){const n="onpagehide"in Pi?"pagehide":"unload";addEventListener(n,gb,!1)}}function gb(){for(let n in _s.requests)_s.requests.hasOwnProperty(n)&&_s.requests[n].abort()}const m3=function(){const n=hx({xdomain:!1});return n&&n.responseType!==null}();class w3 extends y3{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=m3&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new _s(hx,this.uri(),t)}}function hx(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||p3))return new XMLHttpRequest}catch{}if(!t)try{return new Pi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class v3 extends b1{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,r=dx?{}:cx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=t[e],s=e===t.length-1;v1(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Dd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=lx()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const fg=Pi.WebSocket||Pi.MozWebSocket;class _3 extends v3{createSocket(t,e,r){return dx?new fg(t,e,r):e?new fg(t,e):new fg(t)}doWrite(t,e){this.ws.send(e)}}class b3 extends b1{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=n3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(e).getReader(),s=t3();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:f,value:p})=>{f||(this.onPacket(p),i())}).catch(f=>{})};i();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=t[e],s=e===t.length-1;this._writer.write(r).then(()=>{s&&Dd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const E3={websocket:_3,webtransport:b3,polling:w3},S3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,x3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dm(n){if(n.length>8e3)throw"URI too long";const t=n,e=n.indexOf("["),r=n.indexOf("]");e!=-1&&r!=-1&&(n=n.substring(0,e)+n.substring(e,r).replace(/:/g,";")+n.substring(r,n.length));let s=S3.exec(n||""),i={},u=14;for(;u--;)i[x3[u]]=s[u]||"";return e!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=k3(i,i.path),i.queryKey=A3(i,i.query),i}function k3(n,t){const e=/\/{2,9}/g,r=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function A3(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(e[s]=i)}),e}const pm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Vh=[];pm&&addEventListener("offline",()=>{Vh.forEach(n=>n())},!1);class Vo extends Kn{constructor(t,e){if(super(),this.binaryType=i3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(e=t,t=null),t){const r=dm(t);e.hostname=r.host,e.secure=r.protocol==="https"||r.protocol==="wss",e.port=r.port,r.query&&(e.query=r.query)}else e.host&&(e.hostname=dm(e.host).host);Ud(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=f3(this.opts.query)),pm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Vh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=ux,e.transport=t,this.id&&(e.sid=this.id);const r=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Vo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Vo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(e+=u3(s)),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Dd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,r){return this._sendPacket("message",t,e,r),this}send(t,e,r){return this._sendPacket("message",t,e,r),this}_sendPacket(t,e,r,s){if(typeof e=="function"&&(s=e,e=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:e,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},r=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Vo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Vh.indexOf(this._offlineEventListener);r!==-1&&Vh.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}Vo.protocol=ux;class I3 extends Vo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),r=!1;Vo.priorWebsocketSuccess=!1;const s=()=>{r||(e.send([{type:"ping",data:"probe"}]),e.once("packet",T=>{if(!r)if(T.type==="pong"&&T.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Vo.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(b(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const B=new Error("probe error");B.transport=e.name,this.emitReserved("upgradeError",B)}}))};function i(){r||(r=!0,b(),e.close(),e=null)}const u=T=>{const B=new Error("probe error: "+T);B.transport=e.name,i(),this.emitReserved("upgradeError",B)};function f(){u("transport closed")}function p(){u("socket closed")}function w(T){e&&T.name!==e.name&&i()}const b=()=>{e.removeListener("open",s),e.removeListener("error",u),e.removeListener("close",f),this.off("close",p),this.off("upgrading",w)};e.once("open",s),e.once("error",u),e.once("close",f),this.once("close",p),this.once("upgrading",w),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&e.push(t[r]);return e}}let M3=class extends I3{constructor(t,e={}){const r=typeof t=="object"?t:e;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>E3[s]).filter(s=>!!s)),super(t,r)}};function R3(n,t="",e){let r=n;e=e||typeof location<"u"&&location,n==null&&(n=e.protocol+"//"+e.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=e.protocol+n:n=e.host+n),/^(https?|wss?):\/\//.test(n)||(typeof e<"u"?n=e.protocol+"//"+n:n="https://"+n),r=dm(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(e&&e.port===r.port?"":":"+r.port),r}const T3=typeof ArrayBuffer=="function",N3=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,px=Object.prototype.toString,B3=typeof Blob=="function"||typeof Blob<"u"&&px.call(Blob)==="[object BlobConstructor]",C3=typeof File=="function"||typeof File<"u"&&px.call(File)==="[object FileConstructor]";function E1(n){return T3&&(n instanceof ArrayBuffer||N3(n))||B3&&n instanceof Blob||C3&&n instanceof File}function Gh(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let e=0,r=n.length;e<r;e++)if(Gh(n[e]))return!0;return!1}if(E1(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Gh(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&Gh(n[e]))return!0;return!1}function L3(n){const t=[],e=n.data,r=n;return r.data=gm(e,t),r.attachments=t.length,{packet:r,buffers:t}}function gm(n,t){if(!n)return n;if(E1(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}else if(Array.isArray(n)){const e=new Array(n.length);for(let r=0;r<n.length;r++)e[r]=gm(n[r],t);return e}else if(typeof n=="object"&&!(n instanceof Date)){const e={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=gm(n[r],t));return e}return n}function O3(n,t){return n.data=ym(n.data,t),delete n.attachments,n}function ym(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=ym(n[e],t);else if(typeof n=="object")for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=ym(n[e],t));return n}const P3=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],D3=5;var Vt;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Vt||(Vt={}));class U3{constructor(t){this.replacer=t}encode(t){return(t.type===Vt.EVENT||t.type===Vt.ACK)&&Gh(t)?this.encodeAsBinary({type:t.type===Vt.EVENT?Vt.BINARY_EVENT:Vt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===Vt.BINARY_EVENT||t.type===Vt.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=L3(t),r=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(r),s}}function yb(n){return Object.prototype.toString.call(n)==="[object Object]"}class S1 extends Kn{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const r=e.type===Vt.BINARY_EVENT;r||e.type===Vt.BINARY_ACK?(e.type=r?Vt.EVENT:Vt.ACK,this.reconstructor=new z3(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(E1(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const r={type:Number(t.charAt(0))};if(Vt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Vt.BINARY_EVENT||r.type===Vt.BINARY_ACK){const i=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const u=t.substring(i,e);if(u!=Number(u)||t.charAt(e)!=="-")throw new Error("Illegal attachments");r.attachments=Number(u)}if(t.charAt(e+1)==="/"){const i=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););r.nsp=t.substring(i,e)}else r.nsp="/";const s=t.charAt(e+1);if(s!==""&&Number(s)==s){const i=e+1;for(;++e;){const u=t.charAt(e);if(u==null||Number(u)!=u){--e;break}if(e===t.length)break}r.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(S1.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Vt.CONNECT:return yb(e);case Vt.DISCONNECT:return e===void 0;case Vt.CONNECT_ERROR:return typeof e=="string"||yb(e);case Vt.EVENT:case Vt.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&P3.indexOf(e[0])===-1);case Vt.ACK:case Vt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class z3{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=O3(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const F3=Object.freeze(Object.defineProperty({__proto__:null,Decoder:S1,Encoder:U3,get PacketType(){return Vt},protocol:D3},Symbol.toStringTag,{value:"Module"}));function ts(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const $3=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gx extends Kn{constructor(t,e,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ts(t,"open",this.onopen.bind(this)),ts(t,"packet",this.onpacket.bind(this)),ts(t,"error",this.onerror.bind(this)),ts(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var r,s,i;if($3.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const u={type:Vt.EVENT,data:e};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const b=this.ids++,T=e.pop();this._registerAckCallback(b,T),u.id=b}const f=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,p=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!f||(p?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(t,e){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=e;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);e.call(this,new Error("operation has timed out"))},s),u=(...f)=>{this.io.clearTimeoutFn(i),e.apply(this,f)};u.withError=!0,this.acks[t]=u}emitWithAck(t,...e){return new Promise((r,s)=>{const i=(u,f)=>u?s(u):r(f);i.withError=!0,e.push(i),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(s)):(this._queue.shift(),e&&e(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Vt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vt.EVENT:case Vt.BINARY_EVENT:this.onevent(t);break;case Vt.ACK:case Vt.BINARY_ACK:this.onack(t);break;case Vt.DISCONNECT:this.ondisconnect();break;case Vt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const r of e)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let r=!1;return function(...s){r||(r=!0,e.packet({type:Vt.ACK,id:t,data:s}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const r of e)r.apply(this,t.data)}}}function ac(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ac.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=Math.floor(t*10)&1?n+e:n-e}return Math.min(n,this.max)|0};ac.prototype.reset=function(){this.attempts=0};ac.prototype.setMin=function(n){this.ms=n};ac.prototype.setMax=function(n){this.max=n};ac.prototype.setJitter=function(n){this.jitter=n};class mm extends Kn{constructor(t,e){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Ud(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((r=e.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ac({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const s=e.parser||F3;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new M3(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=ts(e,"open",function(){r.onopen(),t&&t()}),i=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},u=ts(e,"error",i);if(this._timeout!==!1){const f=this._timeout,p=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),e.close()},f);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(s),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ts(t,"ping",this.onping.bind(this)),ts(t,"data",this.ondata.bind(this)),ts(t,"error",this.onerror.bind(this)),ts(t,"close",this.onclose.bind(this)),ts(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Dd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new gx(this,t,e),this.nsps[t]=r),r}_destroy(t){const e=Object.keys(this.nsps);for(const r of e)if(this.nsps[r].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let r=0;r<e.length;r++)this.engine.write(e[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const tl={};function Zh(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};const e=R3(n,t.path||"/socket.io"),r=e.source,s=e.id,i=e.path,u=tl[s]&&i in tl[s].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let p;return f?p=new mm(r,t):(tl[s]||(tl[s]=new mm(r,t)),p=tl[s]),e.query&&!t.query&&(t.query=e.queryKey),p.socket(e.path,t)}Object.assign(Zh,{Manager:mm,Socket:gx,io:Zh,connect:Zh});const rn=Zh("http://localhost:3000",{autoConnect:!1}),mb=()=>{const[n,t]=ce.useState(""),[e,r]=ce.useState(null),[s,i]=ce.useState("waiting"),[u,f]=ce.useState(null),[p,w]=ce.useState(null),b=new yh(ri.WHITE),T=new yh(ri.BLACK),[B,M]=ce.useState({board:Array(8).fill(null).map(()=>Array(8).fill(null)),current_turn:b,moveCount:0});ce.useEffect(()=>{V()},[]);const[O,P]=ce.useState(null);ce.useEffect(()=>(rn.connect(),rn.on("roomCreated",({roomId:S,playerColor:a,gameState:h})=>{console.log("Room created:",S),console.log("Player color:",a),console.log("Game state:",h),r(S),w(new yh(a)),M(h),i("waiting")}),rn.on("gameJoined",({roomId:S,playerColor:a,gameState:h})=>{console.log("Joined room:",S),r(S),w(new yh(a)),M(h)}),rn.on("gameStart",({gameState:S})=>{console.log("Game starting"),M(S),i("playing"),V()}),rn.on("moveMade",({gameState:S,move:a})=>{console.log("Move made:",a),M(S)}),rn.on("playerDisconnected",({player:S})=>{f(`${S} player disconnected`),i("waiting")}),rn.on("error",S=>{f(S)}),()=>{rn.close()}),[rn]);const N=()=>{console.log("Creating room"),rn==null||rn.emit("createRoom")},$=S=>{console.log("Joining room:",S),rn==null||rn.emit("joinRoom",S)},j=S=>(console.log("Getting piece at",S),S.isOnBoard()?B.board[S.x][S.y]:null),F=(S,a)=>(O==null?void 0:O.x)===S&&(O==null?void 0:O.y)===a,Y=(S,a,h,m,E)=>{if(console.log("The piece",E),E.crowned){const A=h>S?1:-1,I=m>a?1:-1;let k=S+A,g=a+I;for(console.log("x",k),console.log("y",g);k!==h&&g!==m;){const c=new Ur(k,g);if(j(c))return c;k+=A,g+=I}return null}return h===S+2&&m===a+2?new Ur(S+1,a+1):h===S-2&&m===a-2?new Ur(S-1,a-1):h===S-2&&m===a+2?new Ur(S-1,a+1):h===S+2&&m===a-2?new Ur(S+1,a-1):null},J=(S,a,h)=>{if(!h.isOnBoard()||j(h))return!1;const{y:m}=a,{y:E}=h,{x:A}=a,{x:I}=h;let k=!1;const g=Math.abs(I-A)===Math.abs(E-m);return S.crowned?g&&(k=!0):(E>m&&S.color===ri.WHITE&&g&&(k=!0),E<m&&S.color===ri.BLACK&&g&&(k=!0)),k},X=(S,a,h)=>{if(!h.isOnBoard()||j(h))return!1;console.log("piece",S);const m=Y(a.x,a.y,h.x,h.y,S);if(console.log("The jumped coord",m),!m)return!1;const E=j(m);return!E||E.color===S.color?!1:S.crowned?Math.abs(h.x-a.x)===2&&Math.abs(h.y-a.y)===2:J(S,a,h)},te=S=>{const a=j(S);if(!a)return[];const h=S.getJumpTargets().filter(E=>X(a,S,E)).map(E=>({from:S,to:E})),m=S.getMoveTargets().filter(E=>J(a,S,E)).map(E=>({from:S,to:E}));return[...h,...m]},re=(S,a)=>a.y===0&&S.color===ri.BLACK||a.y===7&&S.color===ri.WHITE,W=(S,a)=>{if(console.log("Making move from",S,"to",a),console.log("Current turn:",B.current_turn),console.log("Player color:",p),console.log("Room ID:",e),!e||B.current_turn.label!==(p==null?void 0:p.label))return;rn==null||rn.emit("move",{roomId:e,move:{from:S,to:a}});const h=[...B.board],m=j(S);if(!m)return;const E=Y(S.x,S.y,a.x,a.y,m);if(E&&(h[E.x][E.y]=null,te(a).filter(I=>X(m,I.from,I.to)).length>0)){P(a);return}h[a.x][a.y]={...m,crowned:m.crowned||re(m,a)},h[S.x][S.y]=null,M(A=>({...A,board:h,current_turn:A.current_turn.label===ri.WHITE?T:b,moveCount:A.moveCount+1}))},q=(S,a)=>j(S)?te(S).some(E=>E.to.x===a.x&&E.to.y===a.y):!1,K=(S,a)=>{if(s!=="playing"||B.current_turn.label!==(p==null?void 0:p.label)){console.log("Click rejected - not player turn or game not playing");return}u&&console.log(u);const h=new Ur(S,a),m=j(h);console.log("selected piece",O),m&&m.color===B.current_turn.label?(console.log("Selecting piece"),P(h)):O&&q(O,h)?(console.log("Making move..."),W(O,h),P(null)):(console.log("Deselecting piece"),P(null))},V=()=>{const S=Array(8).fill(null).map(()=>Array(8).fill(null));[1,3,5,7,0,2,4,6,1,3,5,7].forEach((a,h)=>{const m=Math.floor(h/4);S[a][m]={color:ri.WHITE,crowned:!1}}),[0,2,4,6,1,3,5,7,0,2,4,6].forEach((a,h)=>{const m=5+Math.floor(h/4);S[a][m]={color:ri.BLACK,crowned:!1}}),M(a=>({...a,board:S}))};return kt.jsx("div",{className:"h-full w-full",children:e?kt.jsxs("div",{className:"flex flex-col gap-2",children:[kt.jsxs("p",{className:"text-[1.5rem] font-[800]",children:["Current Turn: ",B.current_turn.label]}),kt.jsxs("p",{className:"text-[1.5rem] font-[800]",children:["You are: ",(p==null?void 0:p.label)||"Spectator"]}),kt.jsx("div",{className:"flex ",children:B.board.map((S,a)=>kt.jsx("div",{className:"flex flex-col",children:S.map((h,m)=>kt.jsx("div",{onClick:()=>K(a,m),className:`w-16 h-16 flex items-center justify-center cursor-pointer
                ${(a+m)%2===0?"bg-[#EDCC8F]":"bg-[#855E44]"}
                    `,children:h&&kt.jsx("img",{src:h.crowned?h.color===ri.BLACK?GR:VR:h.color===ri.BLACK?KR:qR,alt:h.color===ri.BLACK?"Black Piece":"White Piece",className:`w-12 rounded-full   ${F(a,m)?"animate-scaling":""}`})},m))},a))})]}):kt.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[kt.jsx("p",{style:{fontFamily:'"Kaushan Script", cursive'},className:"text-[4rem]",children:"Sonic Zone!"}),kt.jsxs("div",{className:"flex flex-col gap-2 bg-white w-fit p-3",children:[kt.jsx("input",{type:"text",placeholder:"Room ID",className:"px-2 py-2 border text-[1.2rem] text-gray-800 text-center rounded focus:outline-none border-gray-800",value:n,onChange:S=>t(S.target.value)}),kt.jsx("button",{onClick:()=>n&&$(n),className:"px-4 py-2 bg-gray-800 text-[1.2rem] text-white rounded font-semibold",children:"Enter"})]}),kt.jsx("p",{children:"Create your own game and invite players "}),kt.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Create Game"})]})})};var nl={},wb;function j3(){if(wb)return nl;wb=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.parse=u,nl.serialize=w;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const B=function(){};return B.prototype=Object.create(null),B})();function u(B,M){const O=new i,P=B.length;if(P<2)return O;const N=(M==null?void 0:M.decode)||b;let $=0;do{const j=B.indexOf("=",$);if(j===-1)break;const F=B.indexOf(";",$),Y=F===-1?P:F;if(j>Y){$=B.lastIndexOf(";",j-1)+1;continue}const J=f(B,$,j),X=p(B,j,J),te=B.slice(J,X);if(O[te]===void 0){let re=f(B,j+1,Y),W=p(B,Y,re);const q=N(B.slice(re,W));O[te]=q}$=Y+1}while($<P);return O}function f(B,M,O){do{const P=B.charCodeAt(M);if(P!==32&&P!==9)return M}while(++M<O);return O}function p(B,M,O){for(;M>O;){const P=B.charCodeAt(--M);if(P!==32&&P!==9)return M+1}return O}function w(B,M,O){const P=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(B))throw new TypeError(`argument name is invalid: ${B}`);const N=P(M);if(!t.test(N))throw new TypeError(`argument val is invalid: ${M}`);let $=B+"="+N;if(!O)return $;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);$+="; Max-Age="+O.maxAge}if(O.domain){if(!e.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);$+="; Domain="+O.domain}if(O.path){if(!r.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);$+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);$+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&($+="; HttpOnly"),O.secure&&($+="; Secure"),O.partitioned&&($+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return $}function b(B){if(B.indexOf("%")===-1)return B;try{return decodeURIComponent(B)}catch{return B}}function T(B){return s.call(B)==="[object Date]"}return nl}j3();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vb="popstate";function H3(n={}){function t(r,s){let{pathname:i,search:u,hash:f}=r.location;return wm("",{pathname:i,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(r,s){return typeof s=="string"?s:kl(s)}return q3(t,e,null,n)}function Tn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ks(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W3(){return Math.random().toString(36).substring(2,10)}function _b(n,t){return{usr:n.state,key:n.key,idx:t}}function wm(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?uc(t):t,state:e,key:t&&t.key||r||W3()}}function kl({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function uc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function q3(n,t,e,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,u=s.history,f="POP",p=null,w=b();w==null&&(w=0,u.replaceState({...u.state,idx:w},""));function b(){return(u.state||{idx:null}).idx}function T(){f="POP";let N=b(),$=N==null?null:N-w;w=N,p&&p({action:f,location:P.location,delta:$})}function B(N,$){f="PUSH";let j=wm(P.location,N,$);w=b()+1;let F=_b(j,w),Y=P.createHref(j);try{u.pushState(F,"",Y)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(Y)}i&&p&&p({action:f,location:P.location,delta:1})}function M(N,$){f="REPLACE";let j=wm(P.location,N,$);w=b();let F=_b(j,w),Y=P.createHref(j);u.replaceState(F,"",Y),i&&p&&p({action:f,location:P.location,delta:0})}function O(N){let $=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof N=="string"?N:kl(N);return j=j.replace(/ $/,"%20"),Tn($,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,$)}let P={get action(){return f},get location(){return n(s,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(vb,T),p=N,()=>{s.removeEventListener(vb,T),p=null}},createHref(N){return t(s,N)},createURL:O,encodeLocation(N){let $=O(N);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:B,replace:M,go(N){return u.go(N)}};return P}function yx(n,t,e="/"){return K3(n,t,e,!1)}function K3(n,t,e,r){let s=typeof t=="string"?uc(t):t,i=ta(s.pathname||"/",e);if(i==null)return null;let u=mx(n);V3(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let w=iT(i);f=nT(u[p],w,r)}return f}function mx(n,t=[],e=[],r=""){let s=(i,u,f)=>{let p={relativePath:f===void 0?i.path||"":f,caseSensitive:i.caseSensitive===!0,childrenIndex:u,route:i};p.relativePath.startsWith("/")&&(Tn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let w=to([r,p.relativePath]),b=e.concat(p);i.children&&i.children.length>0&&(Tn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),mx(i.children,t,b,w)),!(i.path==null&&!i.index)&&t.push({path:w,score:eT(w,i.index),routesMeta:b})};return n.forEach((i,u)=>{var f;if(i.path===""||!((f=i.path)!=null&&f.includes("?")))s(i,u);else for(let p of wx(i.path))s(i,u,p)}),t}function wx(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,s=e.endsWith("?"),i=e.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let u=wx(r.join("/")),f=[];return f.push(...u.map(p=>p===""?i:[i,p].join("/"))),s&&f.push(...u),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function V3(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:tT(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var G3=/^:[\w-]+$/,Z3=3,Y3=2,Q3=1,J3=10,X3=-2,bb=n=>n==="*";function eT(n,t){let e=n.split("/"),r=e.length;return e.some(bb)&&(r+=X3),t&&(r+=Y3),e.filter(s=>!bb(s)).reduce((s,i)=>s+(G3.test(i)?Z3:i===""?Q3:J3),r)}function tT(n,t){return n.length===t.length&&n.slice(0,-1).every((r,s)=>r===t[s])?n[n.length-1]-t[t.length-1]:0}function nT(n,t,e=!1){let{routesMeta:r}=n,s={},i="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],w=f===r.length-1,b=i==="/"?t:t.slice(i.length)||"/",T=hd({path:p.relativePath,caseSensitive:p.caseSensitive,end:w},b),B=p.route;if(!T&&w&&e&&!r[r.length-1].route.index&&(T=hd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(s,T.params),u.push({params:s,pathname:to([i,T.pathname]),pathnameBase:uT(to([i,T.pathnameBase])),route:B}),T.pathnameBase!=="/"&&(i=to([i,T.pathnameBase]))}return u}function hd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=rT(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let i=s[0],u=i.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((w,{paramName:b,isOptional:T},B)=>{if(b==="*"){let O=f[B]||"";u=i.slice(0,i.length-O.length).replace(/(.)\/+$/,"$1")}const M=f[B];return T&&!M?w[b]=void 0:w[b]=(M||"").replace(/%2F/g,"/"),w},{}),pathname:i,pathnameBase:u,pattern:n}}function rT(n,t=!1,e=!0){ks(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function iT(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ks(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ta(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function sT(n,t="/"){let{pathname:e,search:r="",hash:s=""}=typeof n=="string"?uc(n):n;return{pathname:e?e.startsWith("/")?e:oT(e,t):t,search:cT(r),hash:lT(s)}}function oT(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function hg(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aT(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function vx(n){let t=aT(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function _x(n,t,e,r=!1){let s;typeof n=="string"?s=uc(n):(s={...n},Tn(!s.pathname||!s.pathname.includes("?"),hg("?","pathname","search",s)),Tn(!s.pathname||!s.pathname.includes("#"),hg("#","pathname","hash",s)),Tn(!s.search||!s.search.includes("#"),hg("#","search","hash",s)));let i=n===""||s.pathname==="",u=i?"/":s.pathname,f;if(u==null)f=e;else{let T=t.length-1;if(!r&&u.startsWith("..")){let B=u.split("/");for(;B[0]==="..";)B.shift(),T-=1;s.pathname=B.join("/")}f=T>=0?t[T]:"/"}let p=sT(s,f),w=u&&u!=="/"&&u.endsWith("/"),b=(i||u===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(w||b)&&(p.pathname+="/"),p}var to=n=>n.join("/").replace(/\/\/+/g,"/"),uT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bx=["POST","PUT","PATCH","DELETE"];new Set(bx);var hT=["GET",...bx];new Set(hT);var cc=ce.createContext(null);cc.displayName="DataRouter";var zd=ce.createContext(null);zd.displayName="DataRouterState";var Ex=ce.createContext({isTransitioning:!1});Ex.displayName="ViewTransition";var dT=ce.createContext(new Map);dT.displayName="Fetchers";var pT=ce.createContext(null);pT.displayName="Await";var Ms=ce.createContext(null);Ms.displayName="Navigation";var Vl=ce.createContext(null);Vl.displayName="Location";var uo=ce.createContext({outlet:null,matches:[],isDataRoute:!1});uo.displayName="Route";var x1=ce.createContext(null);x1.displayName="RouteError";function gT(n,{relative:t}={}){Tn(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=ce.useContext(Ms),{hash:s,pathname:i,search:u}=Zl(n,{relative:t}),f=i;return e!=="/"&&(f=i==="/"?e:to([e,i])),r.createHref({pathname:f,search:u,hash:s})}function Gl(){return ce.useContext(Vl)!=null}function Va(){return Tn(Gl(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Vl).location}var Sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xx(n){ce.useContext(Ms).static||ce.useLayoutEffect(n)}function yT(){let{isDataRoute:n}=ce.useContext(uo);return n?RT():mT()}function mT(){Tn(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=ce.useContext(cc),{basename:t,navigator:e}=ce.useContext(Ms),{matches:r}=ce.useContext(uo),{pathname:s}=Va(),i=JSON.stringify(vx(r)),u=ce.useRef(!1);return xx(()=>{u.current=!0}),ce.useCallback((p,w={})=>{if(ks(u.current,Sx),!u.current)return;if(typeof p=="number"){e.go(p);return}let b=_x(p,JSON.parse(i),s,w.relative==="path");n==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:to([t,b.pathname])),(w.replace?e.replace:e.push)(b,w.state,w)},[t,e,i,s,n])}ce.createContext(null);function Zl(n,{relative:t}={}){let{matches:e}=ce.useContext(uo),{pathname:r}=Va(),s=JSON.stringify(vx(e));return ce.useMemo(()=>_x(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function wT(n,t){return kx(n,t)}function kx(n,t,e,r){var j;Tn(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=ce.useContext(Ms),{matches:u}=ce.useContext(uo),f=u[u.length-1],p=f?f.params:{},w=f?f.pathname:"/",b=f?f.pathnameBase:"/",T=f&&f.route;{let F=T&&T.path||"";Ax(w,!T||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let B=Va(),M;if(t){let F=typeof t=="string"?uc(t):t;Tn(b==="/"||((j=F.pathname)==null?void 0:j.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${F.pathname}" was given in the \`location\` prop.`),M=F}else M=B;let O=M.pathname||"/",P=O;if(b!=="/"){let F=b.replace(/^\//,"").split("/");P="/"+O.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=!i&&e&&e.matches&&e.matches.length>0?e.matches:yx(n,{pathname:P});ks(T||N!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ks(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=ST(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:to([b,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?b:to([b,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,e,r);return t&&$?ce.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},$):$}function vT(){let n=MT(),t=fT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=ce.createElement(ce.Fragment,null,ce.createElement("p",null,"💿 Hey developer 👋"),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:i},"ErrorBoundary")," or"," ",ce.createElement("code",{style:i},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},t),e?ce.createElement("pre",{style:s},e):null,u)}var _T=ce.createElement(vT,null),bT=class extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?ce.createElement(uo.Provider,{value:this.props.routeContext},ce.createElement(x1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ET({routeContext:n,match:t,children:e}){let r=ce.useContext(cc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),ce.createElement(uo.Provider,{value:n},e)}function ST(n,t=[],e=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,i=e==null?void 0:e.errors;if(i!=null){let p=s.findIndex(w=>w.route.id&&(i==null?void 0:i[w.route.id])!==void 0);Tn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(e)for(let p=0;p<s.length;p++){let w=s[p];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=p),w.route.id){let{loaderData:b,errors:T}=e,B=w.route.loader&&!b.hasOwnProperty(w.route.id)&&(!T||T[w.route.id]===void 0);if(w.route.lazy||B){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,w,b)=>{let T,B=!1,M=null,O=null;e&&(T=i&&w.route.id?i[w.route.id]:void 0,M=w.route.errorElement||_T,u&&(f<0&&b===0?(Ax("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,O=null):f===b&&(B=!0,O=w.route.hydrateFallbackElement||null)));let P=t.concat(s.slice(0,b+1)),N=()=>{let $;return T?$=M:B?$=O:w.route.Component?$=ce.createElement(w.route.Component,null):w.route.element?$=w.route.element:$=p,ce.createElement(ET,{match:w,routeContext:{outlet:p,matches:P,isDataRoute:e!=null},children:$})};return e&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?ce.createElement(bT,{location:e.location,revalidation:e.revalidation,component:M,error:T,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}function k1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(n){let t=ce.useContext(cc);return Tn(t,k1(n)),t}function kT(n){let t=ce.useContext(zd);return Tn(t,k1(n)),t}function AT(n){let t=ce.useContext(uo);return Tn(t,k1(n)),t}function A1(n){let t=AT(n),e=t.matches[t.matches.length-1];return Tn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function IT(){return A1("useRouteId")}function MT(){var r;let n=ce.useContext(x1),t=kT("useRouteError"),e=A1("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function RT(){let{router:n}=xT("useNavigate"),t=A1("useNavigate"),e=ce.useRef(!1);return xx(()=>{e.current=!0}),ce.useCallback(async(s,i={})=>{ks(e.current,Sx),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...i}))},[n,t])}var Eb={};function Ax(n,t,e){!t&&!Eb[n]&&(Eb[n]=!0,ks(!1,e))}ce.memo(TT);function TT({routes:n,future:t,state:e}){return kx(n,void 0,e,t)}function dl(n){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:s,static:i=!1}){Tn(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=ce.useMemo(()=>({basename:u,navigator:s,static:i,future:{}}),[u,s,i]);typeof e=="string"&&(e=uc(e));let{pathname:p="/",search:w="",hash:b="",state:T=null,key:B="default"}=e,M=ce.useMemo(()=>{let O=ta(p,u);return O==null?null:{location:{pathname:O,search:w,hash:b,state:T,key:B},navigationType:r}},[u,p,w,b,T,B,r]);return ks(M!=null,`<Router basename="${u}"> is not able to match the URL "${p}${w}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:ce.createElement(Ms.Provider,{value:f},ce.createElement(Vl.Provider,{children:t,value:M}))}function BT({children:n,location:t}){return wT(vm(n),t)}function vm(n,t=[]){let e=[];return ce.Children.forEach(n,(r,s)=>{if(!ce.isValidElement(r))return;let i=[...t,s];if(r.type===ce.Fragment){e.push.apply(e,vm(r.props.children,i));return}Tn(r.type===dl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vm(r.props.children,i)),e.push(u)}),e}var Yh="get",Qh="application/x-www-form-urlencoded";function Fd(n){return n!=null&&typeof n.tagName=="string"}function CT(n){return Fd(n)&&n.tagName.toLowerCase()==="button"}function LT(n){return Fd(n)&&n.tagName.toLowerCase()==="form"}function OT(n){return Fd(n)&&n.tagName.toLowerCase()==="input"}function PT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DT(n,t){return n.button===0&&(!t||t==="_self")&&!PT(n)}var vh=null;function UT(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var zT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(n){return n!=null&&!zT.has(n)?(ks(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qh}"`),null):n}function FT(n,t){let e,r,s,i,u;if(LT(n)){let f=n.getAttribute("action");r=f?ta(f,t):null,e=n.getAttribute("method")||Yh,s=dg(n.getAttribute("enctype"))||Qh,i=new FormData(n)}else if(CT(n)||OT(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(r=p?ta(p,t):null,e=n.getAttribute("formmethod")||f.getAttribute("method")||Yh,s=dg(n.getAttribute("formenctype"))||dg(f.getAttribute("enctype"))||Qh,i=new FormData(f,n),!UT()){let{name:w,type:b,value:T}=n;if(b==="image"){let B=w?`${w}.`:"";i.append(`${B}x`,"0"),i.append(`${B}y`,"0")}else w&&i.append(w,T)}}else{if(Fd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Yh,r=null,s=Qh,u=n}return i&&s==="text/plain"&&(u=i,i=void 0),{action:r,method:e.toLowerCase(),encType:s,formData:i,body:u}}function I1(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function $T(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function HT(n,t,e){let r=await Promise.all(n.map(async s=>{let i=t.routes[s.route.id];if(i){let u=await $T(i,e);return u.links?u.links():[]}return[]}));return VT(r.flat(1).filter(jT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Sb(n,t,e,r,s,i){let u=(p,w)=>e[w]?p.route.id!==e[w].route.id:!0,f=(p,w)=>{var b;return e[w].pathname!==p.pathname||((b=e[w].route.path)==null?void 0:b.endsWith("*"))&&e[w].params["*"]!==p.params["*"]};return i==="assets"?t.filter((p,w)=>u(p,w)||f(p,w)):i==="data"?t.filter((p,w)=>{var T;let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(u(p,w)||f(p,w))return!0;if(p.route.shouldRevalidate){let B=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=e[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof B=="boolean")return B}return!0}):[]}function WT(n,t,{includeHydrateFallback:e}={}){return qT(n.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function qT(n){return[...new Set(n)]}function KT(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function VT(n,t){let e=new Set;return new Set(t),n.reduce((r,s)=>{let i=JSON.stringify(KT(s));return e.has(i)||(e.add(i),r.push({key:i,link:s})),r},[])}function GT(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ZT(){let n=ce.useContext(cc);return I1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YT(){let n=ce.useContext(zd);return I1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var M1=ce.createContext(void 0);M1.displayName="FrameworkContext";function Ix(){let n=ce.useContext(M1);return I1(n,"You must render this element inside a <HydratedRouter> element"),n}function QT(n,t){let e=ce.useContext(M1),[r,s]=ce.useState(!1),[i,u]=ce.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:w,onMouseLeave:b,onTouchStart:T}=t,B=ce.useRef(null);ce.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=$=>{$.forEach(j=>{u(j.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return B.current&&N.observe(B.current),()=>{N.disconnect()}}},[n]),ce.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let M=()=>{s(!0)},O=()=>{s(!1),u(!1)};return e?n!=="intent"?[i,B,{}]:[i,B,{onFocus:rl(f,M),onBlur:rl(p,O),onMouseEnter:rl(w,M),onMouseLeave:rl(b,O),onTouchStart:rl(T,M)}]:[!1,B,{}]}function rl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function JT({page:n,...t}){let{router:e}=ZT(),r=ce.useMemo(()=>yx(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?ce.createElement(e4,{page:n,matches:r,...t}):null}function XT(n){let{manifest:t,routeModules:e}=Ix(),[r,s]=ce.useState([]);return ce.useEffect(()=>{let i=!1;return HT(n,t,e).then(u=>{i||s(u)}),()=>{i=!0}},[n,t,e]),r}function e4({page:n,matches:t,...e}){let r=Va(),{manifest:s,routeModules:i}=Ix(),{loaderData:u,matches:f}=YT(),p=ce.useMemo(()=>Sb(n,t,f,s,r,"data"),[n,t,f,s,r]),w=ce.useMemo(()=>Sb(n,t,f,s,r,"assets"),[n,t,f,s,r]),b=ce.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,O=!1;if(t.forEach(N=>{var j;let $=s.routes[N.route.id];!$||!$.hasLoader||(!p.some(F=>F.route.id===N.route.id)&&N.route.id in u&&((j=i[N.route.id])!=null&&j.shouldRevalidate)||$.hasClientLoader?O=!0:M.add(N.route.id))}),M.size===0)return[];let P=GT(n);return O&&M.size>0&&P.searchParams.set("_routes",t.filter(N=>M.has(N.route.id)).map(N=>N.route.id).join(",")),[P.pathname+P.search]},[u,r,s,p,t,n,i]),T=ce.useMemo(()=>WT(w,s),[w,s]),B=XT(w);return ce.createElement(ce.Fragment,null,b.map(M=>ce.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...e})),T.map(M=>ce.createElement("link",{key:M,rel:"modulepreload",href:M,...e})),B.map(({key:M,link:O})=>ce.createElement("link",{key:M,...O})))}function t4(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mx&&(window.__reactRouterVersion="7.2.0")}catch{}function n4({basename:n,children:t,window:e}){let r=ce.useRef();r.current==null&&(r.current=H3({window:e,v5Compat:!0}));let s=r.current,[i,u]=ce.useState({action:s.action,location:s.location}),f=ce.useCallback(p=>{ce.startTransition(()=>u(p))},[u]);return ce.useLayoutEffect(()=>s.listen(f),[s,f]),ce.createElement(NT,{basename:n,children:t,location:i.location,navigationType:i.action,navigator:s})}var Rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wl=ce.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:s,reloadDocument:i,replace:u,state:f,target:p,to:w,preventScrollReset:b,viewTransition:T,...B},M){let{basename:O}=ce.useContext(Ms),P=typeof w=="string"&&Rx.test(w),N,$=!1;if(typeof w=="string"&&P&&(N=w,Mx))try{let W=new URL(window.location.href),q=w.startsWith("//")?new URL(W.protocol+w):new URL(w),K=ta(q.pathname,O);q.origin===W.origin&&K!=null?w=K+q.search+q.hash:$=!0}catch{ks(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=gT(w,{relative:s}),[F,Y,J]=QT(r,B),X=o4(w,{replace:u,state:f,target:p,preventScrollReset:b,relative:s,viewTransition:T});function te(W){t&&t(W),W.defaultPrevented||X(W)}let re=ce.createElement("a",{...B,...J,href:N||j,onClick:$||i?t:te,ref:t4(M,Y),target:p,"data-discover":!P&&e==="render"?"true":void 0});return F&&!P?ce.createElement(ce.Fragment,null,re,ce.createElement(JT,{page:j})):re});wl.displayName="Link";var r4=ce.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:s=!1,style:i,to:u,viewTransition:f,children:p,...w},b){let T=Zl(u,{relative:w.relative}),B=Va(),M=ce.useContext(zd),{navigator:O,basename:P}=ce.useContext(Ms),N=M!=null&&f4(T)&&f===!0,$=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,j=B.pathname,F=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;e||(j=j.toLowerCase(),F=F?F.toLowerCase():null,$=$.toLowerCase()),F&&P&&(F=ta(F,P)||F);const Y=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let J=j===$||!s&&j.startsWith($)&&j.charAt(Y)==="/",X=F!=null&&(F===$||!s&&F.startsWith($)&&F.charAt($.length)==="/"),te={isActive:J,isPending:X,isTransitioning:N},re=J?t:void 0,W;typeof r=="function"?W=r(te):W=[r,J?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let q=typeof i=="function"?i(te):i;return ce.createElement(wl,{...w,"aria-current":re,className:W,ref:b,style:q,to:u,viewTransition:f},typeof p=="function"?p(te):p)});r4.displayName="NavLink";var i4=ce.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:s,state:i,method:u=Yh,action:f,onSubmit:p,relative:w,preventScrollReset:b,viewTransition:T,...B},M)=>{let O=c4(),P=l4(f,{relative:w}),N=u.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&Rx.test(f),j=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let Y=F.nativeEvent.submitter,J=(Y==null?void 0:Y.getAttribute("formmethod"))||u;O(Y||F.currentTarget,{fetcherKey:t,method:J,navigate:e,replace:s,state:i,relative:w,preventScrollReset:b,viewTransition:T})};return ce.createElement("form",{ref:M,method:N,action:P,onSubmit:r?p:j,...B,"data-discover":!$&&n==="render"?"true":void 0})});i4.displayName="Form";function s4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tx(n){let t=ce.useContext(cc);return Tn(t,s4(n)),t}function o4(n,{target:t,replace:e,state:r,preventScrollReset:s,relative:i,viewTransition:u}={}){let f=yT(),p=Va(),w=Zl(n,{relative:i});return ce.useCallback(b=>{if(DT(b,t)){b.preventDefault();let T=e!==void 0?e:kl(p)===kl(w);f(n,{replace:T,state:r,preventScrollReset:s,relative:i,viewTransition:u})}},[p,f,w,e,r,t,n,s,i,u])}var a4=0,u4=()=>`__${String(++a4)}__`;function c4(){let{router:n}=Tx("useSubmit"),{basename:t}=ce.useContext(Ms),e=IT();return ce.useCallback(async(r,s={})=>{let{action:i,method:u,encType:f,formData:p,body:w}=FT(r,t);if(s.navigate===!1){let b=s.fetcherKey||u4();await n.fetch(b,e,s.action||i,{preventScrollReset:s.preventScrollReset,formData:p,body:w,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:p,body:w,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function l4(n,{relative:t}={}){let{basename:e}=ce.useContext(Ms),r=ce.useContext(uo);Tn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Zl(n||".",{relative:t})},u=Va();if(n==null){i.search=u.search;let f=new URLSearchParams(i.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let b=f.toString();i.search=b?`?${b}`:""}}return(!n||n===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(i.pathname=i.pathname==="/"?e:to([e,i.pathname])),kl(i)}function f4(n,t={}){let e=ce.useContext(Ex);Tn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tx("useViewTransitionState"),s=Zl(n,{relative:t.relative});if(!e.isTransitioning)return!1;let i=ta(e.currentLocation.pathname,r)||e.currentLocation.pathname,u=ta(e.nextLocation.pathname,r)||e.nextLocation.pathname;return hd(s.pathname,u)!=null||hd(s.pathname,i)!=null}new TextEncoder;var h4=nx(),pg={},il={},xb;function d4(){if(xb)return il;xb=1,il.byteLength=f,il.toByteArray=w,il.fromByteArray=B;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)n[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function u(M){var O=M.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=M.indexOf("=");P===-1&&(P=O);var N=P===O?0:4-P%4;return[P,N]}function f(M){var O=u(M),P=O[0],N=O[1];return(P+N)*3/4-N}function p(M,O,P){return(O+P)*3/4-P}function w(M){var O,P=u(M),N=P[0],$=P[1],j=new e(p(M,N,$)),F=0,Y=$>0?N-4:N,J;for(J=0;J<Y;J+=4)O=t[M.charCodeAt(J)]<<18|t[M.charCodeAt(J+1)]<<12|t[M.charCodeAt(J+2)]<<6|t[M.charCodeAt(J+3)],j[F++]=O>>16&255,j[F++]=O>>8&255,j[F++]=O&255;return $===2&&(O=t[M.charCodeAt(J)]<<2|t[M.charCodeAt(J+1)]>>4,j[F++]=O&255),$===1&&(O=t[M.charCodeAt(J)]<<10|t[M.charCodeAt(J+1)]<<4|t[M.charCodeAt(J+2)]>>2,j[F++]=O>>8&255,j[F++]=O&255),j}function b(M){return n[M>>18&63]+n[M>>12&63]+n[M>>6&63]+n[M&63]}function T(M,O,P){for(var N,$=[],j=O;j<P;j+=3)N=(M[j]<<16&16711680)+(M[j+1]<<8&65280)+(M[j+2]&255),$.push(b(N));return $.join("")}function B(M){for(var O,P=M.length,N=P%3,$=[],j=16383,F=0,Y=P-N;F<Y;F+=j)$.push(T(M,F,F+j>Y?Y:F+j));return N===1?(O=M[P-1],$.push(n[O>>2]+n[O<<4&63]+"==")):N===2&&(O=(M[P-2]<<8)+M[P-1],$.push(n[O>>10]+n[O>>4&63]+n[O<<2&63]+"=")),$.join("")}return il}var _h={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var kb;function p4(){return kb||(kb=1,_h.read=function(n,t,e,r,s){var i,u,f=s*8-r-1,p=(1<<f)-1,w=p>>1,b=-7,T=e?s-1:0,B=e?-1:1,M=n[t+T];for(T+=B,i=M&(1<<-b)-1,M>>=-b,b+=f;b>0;i=i*256+n[t+T],T+=B,b-=8);for(u=i&(1<<-b)-1,i>>=-b,b+=r;b>0;u=u*256+n[t+T],T+=B,b-=8);if(i===0)i=1-w;else{if(i===p)return u?NaN:(M?-1:1)*(1/0);u=u+Math.pow(2,r),i=i-w}return(M?-1:1)*u*Math.pow(2,i-r)},_h.write=function(n,t,e,r,s,i){var u,f,p,w=i*8-s-1,b=(1<<w)-1,T=b>>1,B=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=r?0:i-1,O=r?1:-1,P=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=b):(u=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+T>=1?t+=B/p:t+=B*Math.pow(2,1-T),t*p>=2&&(u++,p/=2),u+T>=b?(f=0,u=b):u+T>=1?(f=(t*p-1)*Math.pow(2,s),u=u+T):(f=t*Math.pow(2,T-1)*Math.pow(2,s),u=0));s>=8;n[e+M]=f&255,M+=O,f/=256,s-=8);for(u=u<<s|f,w+=s;w>0;n[e+M]=u&255,M+=O,u/=256,w-=8);n[e+M-O]|=P*128}),_h}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ab;function R1(){return Ab||(Ab=1,function(n){const t=d4(),e=p4(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=j,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=i(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const C=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(C,v),C.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(C){if(C>s)throw new RangeError('The value "'+C+'" is invalid for option "size"');const v=new Uint8Array(C);return Object.setPrototypeOf(v,f.prototype),v}function f(C,v,_){if(typeof C=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(C)}return p(C,v,_)}f.poolSize=8192;function p(C,v,_){if(typeof C=="string")return B(C,v);if(ArrayBuffer.isView(C))return O(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Lt(C,ArrayBuffer)||C&&Lt(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Lt(C,SharedArrayBuffer)||C&&Lt(C.buffer,SharedArrayBuffer)))return P(C,v,_);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=C.valueOf&&C.valueOf();if(U!=null&&U!==C)return f.from(U,v,_);const G=N(C);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return f.from(C[Symbol.toPrimitive]("string"),v,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}f.from=function(C,v,_){return p(C,v,_)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function w(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function b(C,v,_){return w(C),C<=0?u(C):v!==void 0?typeof _=="string"?u(C).fill(v,_):u(C).fill(v):u(C)}f.alloc=function(C,v,_){return b(C,v,_)};function T(C){return w(C),u(C<0?0:$(C)|0)}f.allocUnsafe=function(C){return T(C)},f.allocUnsafeSlow=function(C){return T(C)};function B(C,v){if((typeof v!="string"||v==="")&&(v="utf8"),!f.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const _=F(C,v)|0;let U=u(_);const G=U.write(C,v);return G!==_&&(U=U.slice(0,G)),U}function M(C){const v=C.length<0?0:$(C.length)|0,_=u(v);for(let U=0;U<v;U+=1)_[U]=C[U]&255;return _}function O(C){if(Lt(C,Uint8Array)){const v=new Uint8Array(C);return P(v.buffer,v.byteOffset,v.byteLength)}return M(C)}function P(C,v,_){if(v<0||C.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<v+(_||0))throw new RangeError('"length" is outside of buffer bounds');let U;return v===void 0&&_===void 0?U=new Uint8Array(C):_===void 0?U=new Uint8Array(C,v):U=new Uint8Array(C,v,_),Object.setPrototypeOf(U,f.prototype),U}function N(C){if(f.isBuffer(C)){const v=$(C.length)|0,_=u(v);return _.length===0||C.copy(_,0,0,v),_}if(C.length!==void 0)return typeof C.length!="number"||$e(C.length)?u(0):M(C);if(C.type==="Buffer"&&Array.isArray(C.data))return M(C.data)}function $(C){if(C>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return C|0}function j(C){return+C!=C&&(C=0),f.alloc(+C)}f.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==f.prototype},f.compare=function(v,_){if(Lt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),Lt(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(v)||!f.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===_)return 0;let U=v.length,G=_.length;for(let Q=0,ne=Math.min(U,G);Q<ne;++Q)if(v[Q]!==_[Q]){U=v[Q],G=_[Q];break}return U<G?-1:G<U?1:0},f.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(v,_){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return f.alloc(0);let U;if(_===void 0)for(_=0,U=0;U<v.length;++U)_+=v[U].length;const G=f.allocUnsafe(_);let Q=0;for(U=0;U<v.length;++U){let ne=v[U];if(Lt(ne,Uint8Array))Q+ne.length>G.length?(f.isBuffer(ne)||(ne=f.from(ne)),ne.copy(G,Q)):Uint8Array.prototype.set.call(G,ne,Q);else if(f.isBuffer(ne))ne.copy(G,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ne.length}return G};function F(C,v){if(f.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Lt(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const _=C.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&_===0)return 0;let G=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return We(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return ze(C).length;default:if(G)return U?-1:We(C).length;v=(""+v).toLowerCase(),G=!0}}f.byteLength=F;function Y(C,v,_){let U=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,v>>>=0,_<=v))return"";for(C||(C="utf8");;)switch(C){case"hex":return I(this,v,_);case"utf8":case"utf-8":return a(this,v,_);case"ascii":return E(this,v,_);case"latin1":case"binary":return A(this,v,_);case"base64":return S(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,v,_);default:if(U)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),U=!0}}f.prototype._isBuffer=!0;function J(C,v,_){const U=C[v];C[v]=C[_],C[_]=U}f.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<v;_+=2)J(this,_,_+1);return this},f.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<v;_+=4)J(this,_,_+3),J(this,_+1,_+2);return this},f.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<v;_+=8)J(this,_,_+7),J(this,_+1,_+6),J(this,_+2,_+5),J(this,_+3,_+4);return this},f.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?a(this,0,v):Y.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(v){if(!f.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:f.compare(this,v)===0},f.prototype.inspect=function(){let v="";const _=n.INSPECT_MAX_BYTES;return v=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(v+=" ... "),"<Buffer "+v+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(v,_,U,G,Q){if(Lt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(_===void 0&&(_=0),U===void 0&&(U=v?v.length:0),G===void 0&&(G=0),Q===void 0&&(Q=this.length),_<0||U>v.length||G<0||Q>this.length)throw new RangeError("out of range index");if(G>=Q&&_>=U)return 0;if(G>=Q)return-1;if(_>=U)return 1;if(_>>>=0,U>>>=0,G>>>=0,Q>>>=0,this===v)return 0;let ne=Q-G,Le=U-_;const Ee=Math.min(ne,Le),be=this.slice(G,Q),St=v.slice(_,U);for(let _e=0;_e<Ee;++_e)if(be[_e]!==St[_e]){ne=be[_e],Le=St[_e];break}return ne<Le?-1:Le<ne?1:0};function X(C,v,_,U,G){if(C.length===0)return-1;if(typeof _=="string"?(U=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,$e(_)&&(_=G?0:C.length-1),_<0&&(_=C.length+_),_>=C.length){if(G)return-1;_=C.length-1}else if(_<0)if(G)_=0;else return-1;if(typeof v=="string"&&(v=f.from(v,U)),f.isBuffer(v))return v.length===0?-1:te(C,v,_,U,G);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(C,v,_):Uint8Array.prototype.lastIndexOf.call(C,v,_):te(C,[v],_,U,G);throw new TypeError("val must be string, number or Buffer")}function te(C,v,_,U,G){let Q=1,ne=C.length,Le=v.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(C.length<2||v.length<2)return-1;Q=2,ne/=2,Le/=2,_/=2}function Ee(St,_e){return Q===1?St[_e]:St.readUInt16BE(_e*Q)}let be;if(G){let St=-1;for(be=_;be<ne;be++)if(Ee(C,be)===Ee(v,St===-1?0:be-St)){if(St===-1&&(St=be),be-St+1===Le)return St*Q}else St!==-1&&(be-=be-St),St=-1}else for(_+Le>ne&&(_=ne-Le),be=_;be>=0;be--){let St=!0;for(let _e=0;_e<Le;_e++)if(Ee(C,be+_e)!==Ee(v,_e)){St=!1;break}if(St)return be}return-1}f.prototype.includes=function(v,_,U){return this.indexOf(v,_,U)!==-1},f.prototype.indexOf=function(v,_,U){return X(this,v,_,U,!0)},f.prototype.lastIndexOf=function(v,_,U){return X(this,v,_,U,!1)};function re(C,v,_,U){_=Number(_)||0;const G=C.length-_;U?(U=Number(U),U>G&&(U=G)):U=G;const Q=v.length;U>Q/2&&(U=Q/2);let ne;for(ne=0;ne<U;++ne){const Le=parseInt(v.substr(ne*2,2),16);if($e(Le))return ne;C[_+ne]=Le}return ne}function W(C,v,_,U){return Oe(We(v,C.length-_),C,_,U)}function q(C,v,_,U){return Oe(Qe(v),C,_,U)}function K(C,v,_,U){return Oe(ze(v),C,_,U)}function V(C,v,_,U){return Oe(Fn(v,C.length-_),C,_,U)}f.prototype.write=function(v,_,U,G){if(_===void 0)G="utf8",U=this.length,_=0;else if(U===void 0&&typeof _=="string")G=_,U=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(U)?(U=U>>>0,G===void 0&&(G="utf8")):(G=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-_;if((U===void 0||U>Q)&&(U=Q),v.length>0&&(U<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let ne=!1;for(;;)switch(G){case"hex":return re(this,v,_,U);case"utf8":case"utf-8":return W(this,v,_,U);case"ascii":case"latin1":case"binary":return q(this,v,_,U);case"base64":return K(this,v,_,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,v,_,U);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ne=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(C,v,_){return v===0&&_===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(v,_))}function a(C,v,_){_=Math.min(C.length,_);const U=[];let G=v;for(;G<_;){const Q=C[G];let ne=null,Le=Q>239?4:Q>223?3:Q>191?2:1;if(G+Le<=_){let Ee,be,St,_e;switch(Le){case 1:Q<128&&(ne=Q);break;case 2:Ee=C[G+1],(Ee&192)===128&&(_e=(Q&31)<<6|Ee&63,_e>127&&(ne=_e));break;case 3:Ee=C[G+1],be=C[G+2],(Ee&192)===128&&(be&192)===128&&(_e=(Q&15)<<12|(Ee&63)<<6|be&63,_e>2047&&(_e<55296||_e>57343)&&(ne=_e));break;case 4:Ee=C[G+1],be=C[G+2],St=C[G+3],(Ee&192)===128&&(be&192)===128&&(St&192)===128&&(_e=(Q&15)<<18|(Ee&63)<<12|(be&63)<<6|St&63,_e>65535&&_e<1114112&&(ne=_e))}}ne===null?(ne=65533,Le=1):ne>65535&&(ne-=65536,U.push(ne>>>10&1023|55296),ne=56320|ne&1023),U.push(ne),G+=Le}return m(U)}const h=4096;function m(C){const v=C.length;if(v<=h)return String.fromCharCode.apply(String,C);let _="",U=0;for(;U<v;)_+=String.fromCharCode.apply(String,C.slice(U,U+=h));return _}function E(C,v,_){let U="";_=Math.min(C.length,_);for(let G=v;G<_;++G)U+=String.fromCharCode(C[G]&127);return U}function A(C,v,_){let U="";_=Math.min(C.length,_);for(let G=v;G<_;++G)U+=String.fromCharCode(C[G]);return U}function I(C,v,_){const U=C.length;(!v||v<0)&&(v=0),(!_||_<0||_>U)&&(_=U);let G="";for(let Q=v;Q<_;++Q)G+=qe[C[Q]];return G}function k(C,v,_){const U=C.slice(v,_);let G="";for(let Q=0;Q<U.length-1;Q+=2)G+=String.fromCharCode(U[Q]+U[Q+1]*256);return G}f.prototype.slice=function(v,_){const U=this.length;v=~~v,_=_===void 0?U:~~_,v<0?(v+=U,v<0&&(v=0)):v>U&&(v=U),_<0?(_+=U,_<0&&(_=0)):_>U&&(_=U),_<v&&(_=v);const G=this.subarray(v,_);return Object.setPrototypeOf(G,f.prototype),G};function g(C,v,_){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+v>_)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=this[v],Q=1,ne=0;for(;++ne<_&&(Q*=256);)G+=this[v+ne]*Q;return G},f.prototype.readUintBE=f.prototype.readUIntBE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=this[v+--_],Q=1;for(;_>0&&(Q*=256);)G+=this[v+--_]*Q;return G},f.prototype.readUint8=f.prototype.readUInt8=function(v,_){return v=v>>>0,_||g(v,1,this.length),this[v]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(v,_){return v=v>>>0,_||g(v,2,this.length),this[v]|this[v+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(v,_){return v=v>>>0,_||g(v,2,this.length),this[v]<<8|this[v+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(v,_){return v=v>>>0,_||g(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(v,_){return v=v>>>0,_||g(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},f.prototype.readBigUInt64LE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,Q=this[++v]+this[++v]*2**8+this[++v]*2**16+U*2**24;return BigInt(G)+(BigInt(Q)<<BigInt(32))}),f.prototype.readBigUInt64BE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=_*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],Q=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+U;return(BigInt(G)<<BigInt(32))+BigInt(Q)}),f.prototype.readIntLE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=this[v],Q=1,ne=0;for(;++ne<_&&(Q*=256);)G+=this[v+ne]*Q;return Q*=128,G>=Q&&(G-=Math.pow(2,8*_)),G},f.prototype.readIntBE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=_,Q=1,ne=this[v+--G];for(;G>0&&(Q*=256);)ne+=this[v+--G]*Q;return Q*=128,ne>=Q&&(ne-=Math.pow(2,8*_)),ne},f.prototype.readInt8=function(v,_){return v=v>>>0,_||g(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},f.prototype.readInt16LE=function(v,_){v=v>>>0,_||g(v,2,this.length);const U=this[v]|this[v+1]<<8;return U&32768?U|4294901760:U},f.prototype.readInt16BE=function(v,_){v=v>>>0,_||g(v,2,this.length);const U=this[v+1]|this[v]<<8;return U&32768?U|4294901760:U},f.prototype.readInt32LE=function(v,_){return v=v>>>0,_||g(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},f.prototype.readInt32BE=function(v,_){return v=v>>>0,_||g(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},f.prototype.readBigInt64LE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(U<<24);return(BigInt(G)<<BigInt(32))+BigInt(_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),f.prototype.readBigInt64BE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=(_<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(G)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+U)}),f.prototype.readFloatLE=function(v,_){return v=v>>>0,_||g(v,4,this.length),e.read(this,v,!0,23,4)},f.prototype.readFloatBE=function(v,_){return v=v>>>0,_||g(v,4,this.length),e.read(this,v,!1,23,4)},f.prototype.readDoubleLE=function(v,_){return v=v>>>0,_||g(v,8,this.length),e.read(this,v,!0,52,8)},f.prototype.readDoubleBE=function(v,_){return v=v>>>0,_||g(v,8,this.length),e.read(this,v,!1,52,8)};function c(C,v,_,U,G,Q){if(!f.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>G||v<Q)throw new RangeError('"value" argument is out of bounds');if(_+U>C.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(v,_,U,G){if(v=+v,_=_>>>0,U=U>>>0,!G){const Le=Math.pow(2,8*U)-1;c(this,v,_,U,Le,0)}let Q=1,ne=0;for(this[_]=v&255;++ne<U&&(Q*=256);)this[_+ne]=v/Q&255;return _+U},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(v,_,U,G){if(v=+v,_=_>>>0,U=U>>>0,!G){const Le=Math.pow(2,8*U)-1;c(this,v,_,U,Le,0)}let Q=U-1,ne=1;for(this[_+Q]=v&255;--Q>=0&&(ne*=256);)this[_+Q]=v/ne&255;return _+U},f.prototype.writeUint8=f.prototype.writeUInt8=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,1,255,0),this[_]=v&255,_+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,65535,0),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,65535,0),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,4294967295,0),this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=v&255,_+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,4294967295,0),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4};function d(C,v,_,U,G){xe(v,U,G,C,_,7);let Q=Number(v&BigInt(4294967295));C[_++]=Q,Q=Q>>8,C[_++]=Q,Q=Q>>8,C[_++]=Q,Q=Q>>8,C[_++]=Q;let ne=Number(v>>BigInt(32)&BigInt(4294967295));return C[_++]=ne,ne=ne>>8,C[_++]=ne,ne=ne>>8,C[_++]=ne,ne=ne>>8,C[_++]=ne,_}function R(C,v,_,U,G){xe(v,U,G,C,_,7);let Q=Number(v&BigInt(4294967295));C[_+7]=Q,Q=Q>>8,C[_+6]=Q,Q=Q>>8,C[_+5]=Q,Q=Q>>8,C[_+4]=Q;let ne=Number(v>>BigInt(32)&BigInt(4294967295));return C[_+3]=ne,ne=ne>>8,C[_+2]=ne,ne=ne>>8,C[_+1]=ne,ne=ne>>8,C[_]=ne,_+8}f.prototype.writeBigUInt64LE=Kt(function(v,_=0){return d(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Kt(function(v,_=0){return R(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(v,_,U,G){if(v=+v,_=_>>>0,!G){const Ee=Math.pow(2,8*U-1);c(this,v,_,U,Ee-1,-Ee)}let Q=0,ne=1,Le=0;for(this[_]=v&255;++Q<U&&(ne*=256);)v<0&&Le===0&&this[_+Q-1]!==0&&(Le=1),this[_+Q]=(v/ne>>0)-Le&255;return _+U},f.prototype.writeIntBE=function(v,_,U,G){if(v=+v,_=_>>>0,!G){const Ee=Math.pow(2,8*U-1);c(this,v,_,U,Ee-1,-Ee)}let Q=U-1,ne=1,Le=0;for(this[_+Q]=v&255;--Q>=0&&(ne*=256);)v<0&&Le===0&&this[_+Q+1]!==0&&(Le=1),this[_+Q]=(v/ne>>0)-Le&255;return _+U},f.prototype.writeInt8=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,1,127,-128),v<0&&(v=255+v+1),this[_]=v&255,_+1},f.prototype.writeInt16LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,32767,-32768),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeInt16BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,32767,-32768),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeInt32LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,2147483647,-2147483648),this[_]=v&255,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24,_+4},f.prototype.writeInt32BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4},f.prototype.writeBigInt64LE=Kt(function(v,_=0){return d(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Kt(function(v,_=0){return R(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(C,v,_,U,G,Q){if(_+U>C.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function H(C,v,_,U,G){return v=+v,_=_>>>0,G||D(C,v,_,4),e.write(C,v,_,U,23,4),_+4}f.prototype.writeFloatLE=function(v,_,U){return H(this,v,_,!0,U)},f.prototype.writeFloatBE=function(v,_,U){return H(this,v,_,!1,U)};function ee(C,v,_,U,G){return v=+v,_=_>>>0,G||D(C,v,_,8),e.write(C,v,_,U,52,8),_+8}f.prototype.writeDoubleLE=function(v,_,U){return ee(this,v,_,!0,U)},f.prototype.writeDoubleBE=function(v,_,U){return ee(this,v,_,!1,U)},f.prototype.copy=function(v,_,U,G){if(!f.isBuffer(v))throw new TypeError("argument should be a Buffer");if(U||(U=0),!G&&G!==0&&(G=this.length),_>=v.length&&(_=v.length),_||(_=0),G>0&&G<U&&(G=U),G===U||v.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),v.length-_<G-U&&(G=v.length-_+U);const Q=G-U;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,U,G):Uint8Array.prototype.set.call(v,this.subarray(U,G),_),Q},f.prototype.fill=function(v,_,U,G){if(typeof v=="string"){if(typeof _=="string"?(G=_,_=0,U=this.length):typeof U=="string"&&(G=U,U=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!f.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(v.length===1){const ne=v.charCodeAt(0);(G==="utf8"&&ne<128||G==="latin1")&&(v=ne)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(_<0||this.length<_||this.length<U)throw new RangeError("Out of range index");if(U<=_)return this;_=_>>>0,U=U===void 0?this.length:U>>>0,v||(v=0);let Q;if(typeof v=="number")for(Q=_;Q<U;++Q)this[Q]=v;else{const ne=f.isBuffer(v)?v:f.from(v,G),Le=ne.length;if(Le===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(Q=0;Q<U-_;++Q)this[Q+_]=ne[Q%Le]}return this};const oe={};function fe(C,v,_){oe[C]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(C,v){return`The "${C}" argument must be of type number. Received type ${typeof v}`},TypeError),fe("ERR_OUT_OF_RANGE",function(C,v,_){let U=`The value of "${C}" is out of range.`,G=_;return Number.isInteger(_)&&Math.abs(_)>2**32?G=Ue(String(_)):typeof _=="bigint"&&(G=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(G=Ue(G)),G+="n"),U+=` It must be ${v}. Received ${G}`,U},RangeError);function Ue(C){let v="",_=C.length;const U=C[0]==="-"?1:0;for(;_>=U+4;_-=3)v=`_${C.slice(_-3,_)}${v}`;return`${C.slice(0,_)}${v}`}function Se(C,v,_){Bt(v,"offset"),(C[v]===void 0||C[v+_]===void 0)&&Re(v,C.length-(_+1))}function xe(C,v,_,U,G,Q){if(C>_||C<v){const ne=typeof v=="bigint"?"n":"";let Le;throw v===0||v===BigInt(0)?Le=`>= 0${ne} and < 2${ne} ** ${(Q+1)*8}${ne}`:Le=`>= -(2${ne} ** ${(Q+1)*8-1}${ne}) and < 2 ** ${(Q+1)*8-1}${ne}`,new oe.ERR_OUT_OF_RANGE("value",Le,C)}Se(U,G,Q)}function Bt(C,v){if(typeof C!="number")throw new oe.ERR_INVALID_ARG_TYPE(v,"number",C)}function Re(C,v,_){throw Math.floor(C)!==C?(Bt(C,_),new oe.ERR_OUT_OF_RANGE("offset","an integer",C)):v<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,C)}const Be=/[^+/0-9A-Za-z-_]/g;function Gn(C){if(C=C.split("=")[0],C=C.trim().replace(Be,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function We(C,v){v=v||1/0;let _;const U=C.length;let G=null;const Q=[];for(let ne=0;ne<U;++ne){if(_=C.charCodeAt(ne),_>55295&&_<57344){if(!G){if(_>56319){(v-=3)>-1&&Q.push(239,191,189);continue}else if(ne+1===U){(v-=3)>-1&&Q.push(239,191,189);continue}G=_;continue}if(_<56320){(v-=3)>-1&&Q.push(239,191,189),G=_;continue}_=(G-55296<<10|_-56320)+65536}else G&&(v-=3)>-1&&Q.push(239,191,189);if(G=null,_<128){if((v-=1)<0)break;Q.push(_)}else if(_<2048){if((v-=2)<0)break;Q.push(_>>6|192,_&63|128)}else if(_<65536){if((v-=3)<0)break;Q.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((v-=4)<0)break;Q.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return Q}function Qe(C){const v=[];for(let _=0;_<C.length;++_)v.push(C.charCodeAt(_)&255);return v}function Fn(C,v){let _,U,G;const Q=[];for(let ne=0;ne<C.length&&!((v-=2)<0);++ne)_=C.charCodeAt(ne),U=_>>8,G=_%256,Q.push(G),Q.push(U);return Q}function ze(C){return t.toByteArray(Gn(C))}function Oe(C,v,_,U){let G;for(G=0;G<U&&!(G+_>=v.length||G>=C.length);++G)v[G+_]=C[G];return G}function Lt(C,v){return C instanceof v||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===v.name}function $e(C){return C!==C}const qe=function(){const C="0123456789abcdef",v=new Array(256);for(let _=0;_<16;++_){const U=_*16;for(let G=0;G<16;++G)v[U+G]=C[_]+C[G]}return v}();function Kt(C){return typeof BigInt>"u"?Ke:C}function Ke(){throw new Error("BigInt not supported")}}(pg)),pg}var Nt=R1();function dd(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function g4(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Yl(n,...t){if(!g4(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function y4(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dd(n.outputLen),dd(n.blockLen)}function Vu(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function Nx(n,t){Yl(n);const e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}const ku=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m4(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function gg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function fs(n,t){return n<<32-t|n>>>t}const Ib=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w4(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Mb(n){for(let t=0;t<n.length;t++)n[t]=w4(n[t])}function v4(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function $d(n){return typeof n=="string"&&(n=v4(n)),Yl(n),n}function _4(...n){let t=0;for(let r=0;r<n.length;r++){const s=n[r];Yl(s),t+=s.length}const e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}let T1=class{clone(){return this._cloneInto()}};function N1(n){const t=r=>n().update($d(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function Bx(n=32){if(ku&&typeof ku.getRandomValues=="function")return ku.getRandomValues(new Uint8Array(n));if(ku&&typeof ku.randomBytes=="function")return ku.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}function b4(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),i=BigInt(4294967295),u=Number(e>>s&i),f=Number(e&i),p=r?4:0,w=r?0:4;n.setUint32(t+p,u,r),n.setUint32(t+w,f,r)}function E4(n,t,e){return n&t^~n&e}function S4(n,t,e){return n&t^n&e^t&e}let Cx=class extends T1{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=gg(this.buffer)}update(t){Vu(this);const{view:e,buffer:r,blockLen:s}=this;t=$d(t);const i=t.length;for(let u=0;u<i;){const f=Math.min(s-this.pos,i-u);if(f===s){const p=gg(t);for(;s<=i-u;u+=s)this.process(p,u);continue}r.set(t.subarray(u,u+f),this.pos),this.pos+=f,u+=f,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Vu(this),Nx(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:i}=this;let{pos:u}=this;e[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>s-u&&(this.process(r,0),u=0);for(let T=u;T<s;T++)e[T]=0;b4(r,s-8,BigInt(this.length*8),i),this.process(r,0);const f=gg(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=p/4,b=this.get();if(w>b.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<w;T++)f.setUint32(4*T,b[T],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:i,destroyed:u,pos:f}=this;return t.length=s,t.pos=f,t.finished=i,t.destroyed=u,s%e&&t.buffer.set(r),t}};const bh=BigInt(2**32-1),_m=BigInt(32);function Lx(n,t=!1){return t?{h:Number(n&bh),l:Number(n>>_m&bh)}:{h:Number(n>>_m&bh)|0,l:Number(n&bh)|0}}function Ox(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:u}=Lx(n[s],t);[e[s],r[s]]=[i,u]}return[e,r]}const x4=(n,t)=>BigInt(n>>>0)<<_m|BigInt(t>>>0),k4=(n,t,e)=>n>>>e,A4=(n,t,e)=>n<<32-e|t>>>e,I4=(n,t,e)=>n>>>e|t<<32-e,M4=(n,t,e)=>n<<32-e|t>>>e,R4=(n,t,e)=>n<<64-e|t>>>e-32,T4=(n,t,e)=>n>>>e-32|t<<64-e,N4=(n,t)=>t,B4=(n,t)=>n,Px=(n,t,e)=>n<<e|t>>>32-e,Dx=(n,t,e)=>t<<e|n>>>32-e,Ux=(n,t,e)=>t<<e-32|n>>>64-e,zx=(n,t,e)=>n<<e-32|t>>>64-e;function C4(n,t,e,r){const s=(t>>>0)+(r>>>0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const L4=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),O4=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,P4=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),D4=(n,t,e,r,s)=>t+e+r+s+(n/2**32|0)|0,U4=(n,t,e,r,s)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0),z4=(n,t,e,r,s,i)=>t+e+r+s+i+(n/2**32|0)|0,Ot={fromBig:Lx,split:Ox,toBig:x4,shrSH:k4,shrSL:A4,rotrSH:I4,rotrSL:M4,rotrBH:R4,rotrBL:T4,rotr32H:N4,rotr32L:B4,rotlSH:Px,rotlSL:Dx,rotlBH:Ux,rotlBL:zx,add:C4,add3L:L4,add3H:O4,add4L:P4,add4H:D4,add5H:z4,add5L:U4},[F4,$4]=Ot.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Ro=new Uint32Array(80),To=new Uint32Array(80);let j4=class extends Cx{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:i,Cl:u,Dh:f,Dl:p,Eh:w,El:b,Fh:T,Fl:B,Gh:M,Gl:O,Hh:P,Hl:N}=this;return[t,e,r,s,i,u,f,p,w,b,T,B,M,O,P,N]}set(t,e,r,s,i,u,f,p,w,b,T,B,M,O,P,N){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=u|0,this.Dh=f|0,this.Dl=p|0,this.Eh=w|0,this.El=b|0,this.Fh=T|0,this.Fl=B|0,this.Gh=M|0,this.Gl=O|0,this.Hh=P|0,this.Hl=N|0}process(t,e){for(let F=0;F<16;F++,e+=4)Ro[F]=t.getUint32(e),To[F]=t.getUint32(e+=4);for(let F=16;F<80;F++){const Y=Ro[F-15]|0,J=To[F-15]|0,X=Ot.rotrSH(Y,J,1)^Ot.rotrSH(Y,J,8)^Ot.shrSH(Y,J,7),te=Ot.rotrSL(Y,J,1)^Ot.rotrSL(Y,J,8)^Ot.shrSL(Y,J,7),re=Ro[F-2]|0,W=To[F-2]|0,q=Ot.rotrSH(re,W,19)^Ot.rotrBH(re,W,61)^Ot.shrSH(re,W,6),K=Ot.rotrSL(re,W,19)^Ot.rotrBL(re,W,61)^Ot.shrSL(re,W,6),V=Ot.add4L(te,K,To[F-7],To[F-16]),S=Ot.add4H(V,X,q,Ro[F-7],Ro[F-16]);Ro[F]=S|0,To[F]=V|0}let{Ah:r,Al:s,Bh:i,Bl:u,Ch:f,Cl:p,Dh:w,Dl:b,Eh:T,El:B,Fh:M,Fl:O,Gh:P,Gl:N,Hh:$,Hl:j}=this;for(let F=0;F<80;F++){const Y=Ot.rotrSH(T,B,14)^Ot.rotrSH(T,B,18)^Ot.rotrBH(T,B,41),J=Ot.rotrSL(T,B,14)^Ot.rotrSL(T,B,18)^Ot.rotrBL(T,B,41),X=T&M^~T&P,te=B&O^~B&N,re=Ot.add5L(j,J,te,$4[F],To[F]),W=Ot.add5H(re,$,Y,X,F4[F],Ro[F]),q=re|0,K=Ot.rotrSH(r,s,28)^Ot.rotrBH(r,s,34)^Ot.rotrBH(r,s,39),V=Ot.rotrSL(r,s,28)^Ot.rotrBL(r,s,34)^Ot.rotrBL(r,s,39),S=r&i^r&f^i&f,a=s&u^s&p^u&p;$=P|0,j=N|0,P=M|0,N=O|0,M=T|0,O=B|0,{h:T,l:B}=Ot.add(w|0,b|0,W|0,q|0),w=f|0,b=p|0,f=i|0,p=u|0,i=r|0,u=s|0;const h=Ot.add3L(q,V,a);r=Ot.add3H(h,W,K,S),s=h|0}({h:r,l:s}=Ot.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:u}=Ot.add(this.Bh|0,this.Bl|0,i|0,u|0),{h:f,l:p}=Ot.add(this.Ch|0,this.Cl|0,f|0,p|0),{h:w,l:b}=Ot.add(this.Dh|0,this.Dl|0,w|0,b|0),{h:T,l:B}=Ot.add(this.Eh|0,this.El|0,T|0,B|0),{h:M,l:O}=Ot.add(this.Fh|0,this.Fl|0,M|0,O|0),{h:P,l:N}=Ot.add(this.Gh|0,this.Gl|0,P|0,N|0),{h:$,l:j}=Ot.add(this.Hh|0,this.Hl|0,$|0,j|0),this.set(r,s,i,u,f,p,w,b,T,B,M,O,P,N,$,j)}roundClean(){Ro.fill(0),To.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const H4=N1(()=>new j4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jd=BigInt(0),Hd=BigInt(1),W4=BigInt(2);function Ua(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Ql(n){if(!Ua(n))throw new Error("Uint8Array expected")}function no(n,t){if(typeof t!="boolean")throw new Error(n+" boolean expected, got "+t)}const q4=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function za(n){Ql(n);let t="";for(let e=0;e<n.length;e++)t+=q4[n[e]];return t}function Cu(n){const t=n.toString(16);return t.length&1?"0"+t:t}function B1(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?jd:BigInt("0x"+n)}const zs={_0:48,_9:57,A:65,F:70,a:97,f:102};function Rb(n){if(n>=zs._0&&n<=zs._9)return n-zs._0;if(n>=zs.A&&n<=zs.F)return n-(zs.A-10);if(n>=zs.a&&n<=zs.f)return n-(zs.a-10)}function Gu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const t=n.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const u=Rb(n.charCodeAt(i)),f=Rb(n.charCodeAt(i+1));if(u===void 0||f===void 0){const p=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+i)}r[s]=u*16+f}return r}function Pa(n){return B1(za(n))}function zu(n){return Ql(n),B1(za(Uint8Array.from(n).reverse()))}function Zu(n,t){return Gu(n.toString(16).padStart(t*2,"0"))}function Al(n,t){return Zu(n,t).reverse()}function K4(n){return Gu(Cu(n))}function Hn(n,t,e){let r;if(typeof t=="string")try{r=Gu(t)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(Ua(t))r=Uint8Array.from(t);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof e=="number"&&s!==e)throw new Error(n+" of length "+e+" expected, got "+s);return r}function Fa(...n){let t=0;for(let r=0;r<n.length;r++){const s=n[r];Ql(s),t+=s.length}const e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}function V4(n,t){if(n.length!==t.length)return!1;let e=0;for(let r=0;r<n.length;r++)e|=n[r]^t[r];return e===0}function G4(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const yg=n=>typeof n=="bigint"&&jd<=n;function Wd(n,t,e){return yg(n)&&yg(t)&&yg(e)&&t<=n&&n<e}function Di(n,t,e,r){if(!Wd(t,e,r))throw new Error("expected valid "+n+": "+e+" <= n < "+r+", got "+t)}function Fx(n){let t;for(t=0;n>jd;n>>=Hd,t+=1);return t}function Z4(n,t){return n>>BigInt(t)&Hd}function Y4(n,t,e){return n|(e?Hd:jd)<<BigInt(t)}const C1=n=>(W4<<BigInt(n-1))-Hd,mg=n=>new Uint8Array(n),Tb=n=>Uint8Array.from(n);function $x(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=mg(n),s=mg(n),i=0;const u=()=>{r.fill(1),s.fill(0),i=0},f=(...T)=>e(s,r,...T),p=(T=mg())=>{s=f(Tb([0]),T),r=f(),T.length!==0&&(s=f(Tb([1]),T),r=f())},w=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const B=[];for(;T<t;){r=f();const M=r.slice();B.push(M),T+=r.length}return Fa(...B)};return(T,B)=>{u(),p(T);let M;for(;!(M=B(w()));)p();return u(),M}}const Q4={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Ua(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function lc(n,t,e={}){const r=(s,i,u)=>{const f=Q4[i];if(typeof f!="function")throw new Error("invalid validator function");const p=n[s];if(!(u&&p===void 0)&&!f(p,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+p)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(e))r(s,i,!0);return n}const J4=()=>{throw new Error("not implemented")};function Il(n){const t=new WeakMap;return(e,...r)=>{const s=t.get(e);if(s!==void 0)return s;const i=n(e,...r);return t.set(e,i),i}}const X4=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Di,abool:no,abytes:Ql,bitGet:Z4,bitLen:Fx,bitMask:C1,bitSet:Y4,bytesToHex:za,bytesToNumberBE:Pa,bytesToNumberLE:zu,concatBytes:Fa,createHmacDrbg:$x,ensureBytes:Hn,equalBytes:V4,hexToBytes:Gu,hexToNumber:B1,inRange:Wd,isBytes:Ua,memoized:Il,notImplemented:J4,numberToBytesBE:Zu,numberToBytesLE:Al,numberToHexUnpadded:Cu,numberToVarBytesBE:K4,utf8ToBytes:G4,validateObject:lc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ur=BigInt(0),Mn=BigInt(1),Ea=BigInt(2),eN=BigInt(3),bm=BigInt(4),Nb=BigInt(5),Bb=BigInt(8);function bn(n,t){const e=n%t;return e>=ur?e:t+e}function tN(n,t,e){if(t<ur)throw new Error("invalid exponent, negatives unsupported");if(e<=ur)throw new Error("invalid modulus");if(e===Mn)return ur;let r=Mn;for(;t>ur;)t&Mn&&(r=r*n%e),n=n*n%e,t>>=Mn;return r}function On(n,t,e){let r=n;for(;t-- >ur;)r*=r,r%=e;return r}function Em(n,t){if(n===ur)throw new Error("invert: expected non-zero number");if(t<=ur)throw new Error("invert: expected positive modulus, got "+t);let e=bn(n,t),r=t,s=ur,i=Mn;for(;e!==ur;){const f=r/e,p=r%e,w=s-i*f;r=e,e=p,s=i,i=w}if(r!==Mn)throw new Error("invert: does not exist");return bn(s,t)}function nN(n){const t=(n-Mn)/Ea;let e,r,s;for(e=n-Mn,r=0;e%Ea===ur;e/=Ea,r++);for(s=Ea;s<n&&tN(s,t,n)!==n-Mn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const u=(n+Mn)/bm;return function(p,w){const b=p.pow(w,u);if(!p.eql(p.sqr(b),w))throw new Error("Cannot find square root");return b}}const i=(e+Mn)/Ea;return function(f,p){if(f.pow(p,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let w=r,b=f.pow(f.mul(f.ONE,s),e),T=f.pow(p,i),B=f.pow(p,e);for(;!f.eql(B,f.ONE);){if(f.eql(B,f.ZERO))return f.ZERO;let M=1;for(let P=f.sqr(B);M<w&&!f.eql(P,f.ONE);M++)P=f.sqr(P);const O=f.pow(b,Mn<<BigInt(w-M-1));b=f.sqr(O),T=f.mul(T,O),B=f.mul(B,b),w=M}return T}}function rN(n){if(n%bm===eN){const t=(n+Mn)/bm;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Bb===Nb){const t=(n-Nb)/Bb;return function(r,s){const i=r.mul(s,Ea),u=r.pow(i,t),f=r.mul(s,u),p=r.mul(r.mul(f,Ea),u),w=r.mul(f,r.sub(p,r.ONE));if(!r.eql(r.sqr(w),s))throw new Error("Cannot find square root");return w}}return nN(n)}const iN=(n,t)=>(bn(n,t)&Mn)===Mn,sN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oN(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=sN.reduce((r,s)=>(r[s]="function",r),t);return lc(n,e)}function aN(n,t,e){if(e<ur)throw new Error("invalid exponent, negatives unsupported");if(e===ur)return n.ONE;if(e===Mn)return t;let r=n.ONE,s=t;for(;e>ur;)e&Mn&&(r=n.mul(r,s)),s=n.sqr(s),e>>=Mn;return r}function uN(n,t){const e=new Array(t.length),r=t.reduce((i,u,f)=>n.is0(u)?i:(e[f]=i,n.mul(i,u)),n.ONE),s=n.inv(r);return t.reduceRight((i,u,f)=>n.is0(u)?i:(e[f]=n.mul(i,e[f]),n.mul(i,u)),s),e}function jx(n,t){const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function qd(n,t,e=!1,r={}){if(n<=ur)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=jx(n,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:n,isLE:e,BITS:s,BYTES:i,MASK:C1(s),ZERO:ur,ONE:Mn,create:p=>bn(p,n),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return ur<=p&&p<n},is0:p=>p===ur,isOdd:p=>(p&Mn)===Mn,neg:p=>bn(-p,n),eql:(p,w)=>p===w,sqr:p=>bn(p*p,n),add:(p,w)=>bn(p+w,n),sub:(p,w)=>bn(p-w,n),mul:(p,w)=>bn(p*w,n),pow:(p,w)=>aN(f,p,w),div:(p,w)=>bn(p*Em(w,n),n),sqrN:p=>p*p,addN:(p,w)=>p+w,subN:(p,w)=>p-w,mulN:(p,w)=>p*w,inv:p=>Em(p,n),sqrt:r.sqrt||(p=>(u||(u=rN(n)),u(f,p))),invertBatch:p=>uN(f,p),cmov:(p,w,b)=>b?w:p,toBytes:p=>e?Al(p,i):Zu(p,i),fromBytes:p=>{if(p.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+p.length);return e?zu(p):Pa(p)}});return Object.freeze(f)}function Hx(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function Wx(n){const t=Hx(n);return t+Math.ceil(t/2)}function cN(n,t,e=!1){const r=n.length,s=Hx(t),i=Wx(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const u=e?zu(n):Pa(n),f=bn(u,t-Mn)+Mn;return e?Al(f,s):Zu(f,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cb=BigInt(0),Eh=BigInt(1);function wg(n,t){const e=t.negate();return n?e:t}function qx(n,t){if(!Number.isSafeInteger(n)||n<=0||n>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+n)}function vg(n,t){qx(n,t);const e=Math.ceil(t/n)+1,r=2**(n-1);return{windows:e,windowSize:r}}function lN(n,t){if(!Array.isArray(n))throw new Error("array expected");n.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function fN(n,t){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const _g=new WeakMap,Kx=new WeakMap;function bg(n){return Kx.get(n)||1}function Vx(n,t){return{constTimeNegate:wg,hasPrecomputes(e){return bg(e)!==1},unsafeLadder(e,r,s=n.ZERO){let i=e;for(;r>Cb;)r&Eh&&(s=s.add(i)),i=i.double(),r>>=Eh;return s},precomputeWindow(e,r){const{windows:s,windowSize:i}=vg(r,t),u=[];let f=e,p=f;for(let w=0;w<s;w++){p=f,u.push(p);for(let b=1;b<i;b++)p=p.add(f),u.push(p);f=p.double()}return u},wNAF(e,r,s){const{windows:i,windowSize:u}=vg(e,t);let f=n.ZERO,p=n.BASE;const w=BigInt(2**e-1),b=2**e,T=BigInt(e);for(let B=0;B<i;B++){const M=B*u;let O=Number(s&w);s>>=T,O>u&&(O-=b,s+=Eh);const P=M,N=M+Math.abs(O)-1,$=B%2!==0,j=O<0;O===0?p=p.add(wg($,r[P])):f=f.add(wg(j,r[N]))}return{p:f,f:p}},wNAFUnsafe(e,r,s,i=n.ZERO){const{windows:u,windowSize:f}=vg(e,t),p=BigInt(2**e-1),w=2**e,b=BigInt(e);for(let T=0;T<u;T++){const B=T*f;if(s===Cb)break;let M=Number(s&p);if(s>>=b,M>f&&(M-=w,s+=Eh),M===0)continue;let O=r[B+Math.abs(M)-1];M<0&&(O=O.negate()),i=i.add(O)}return i},getPrecomputes(e,r,s){let i=_g.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&_g.set(r,s(i))),i},wNAFCached(e,r,s){const i=bg(e);return this.wNAF(i,this.getPrecomputes(i,e,s),r)},wNAFCachedUnsafe(e,r,s,i){const u=bg(e);return u===1?this.unsafeLadder(e,r,i):this.wNAFUnsafe(u,this.getPrecomputes(u,e,s),r,i)},setWindowSize(e,r){qx(r,t),Kx.set(e,r),_g.delete(e)}}}function Gx(n,t,e,r){if(lN(e,n),fN(r,t),e.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,i=Fx(BigInt(e.length)),u=i>12?i-3:i>4?i-2:i?2:1,f=(1<<u)-1,p=new Array(f+1).fill(s),w=Math.floor((t.BITS-1)/u)*u;let b=s;for(let T=w;T>=0;T-=u){p.fill(s);for(let M=0;M<r.length;M++){const O=r[M],P=Number(O>>BigInt(T)&BigInt(f));p[P]=p[P].add(e[M])}let B=s;for(let M=p.length-1,O=s;M>0;M--)O=O.add(p[M]),B=B.add(O);if(b=b.add(B),T!==0)for(let M=0;M<u;M++)b=b.double()}return b}function L1(n){return oN(n.Fp),lc(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jx(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ji=BigInt(0),ti=BigInt(1),Sh=BigInt(2),hN=BigInt(8),dN={zip215:!0};function pN(n){const t=L1(n);return lc(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function gN(n){const t=pN(n),{Fp:e,n:r,prehash:s,hash:i,randomBytes:u,nByteLength:f,h:p}=t,w=Sh<<BigInt(f*8)-ti,b=e.create,T=qd(t.n,t.nBitLength),B=t.uvRatio||((m,E)=>{try{return{isValid:!0,value:e.sqrt(m*e.inv(E))}}catch{return{isValid:!1,value:Ji}}}),M=t.adjustScalarBytes||(m=>m),O=t.domain||((m,E,A)=>{if(no("phflag",A),E.length||A)throw new Error("Contexts/pre-hash are not supported");return m});function P(m,E){Di("coordinate "+m,E,Ji,w)}function N(m){if(!(m instanceof F))throw new Error("ExtendedPoint expected")}const $=Il((m,E)=>{const{ex:A,ey:I,ez:k}=m,g=m.is0();E==null&&(E=g?hN:e.inv(k));const c=b(A*E),d=b(I*E),R=b(k*E);if(g)return{x:Ji,y:ti};if(R!==ti)throw new Error("invZ was invalid");return{x:c,y:d}}),j=Il(m=>{const{a:E,d:A}=t;if(m.is0())throw new Error("bad point: ZERO");const{ex:I,ey:k,ez:g,et:c}=m,d=b(I*I),R=b(k*k),D=b(g*g),H=b(D*D),ee=b(d*E),oe=b(D*b(ee+R)),fe=b(H+b(A*b(d*R)));if(oe!==fe)throw new Error("bad point: equation left != right (1)");const Ue=b(I*k),Se=b(g*c);if(Ue!==Se)throw new Error("bad point: equation left != right (2)");return!0});class F{constructor(E,A,I,k){this.ex=E,this.ey=A,this.ez=I,this.et=k,P("x",E),P("y",A),P("z",I),P("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof F)throw new Error("extended point not allowed");const{x:A,y:I}=E||{};return P("x",A),P("y",I),new F(A,I,ti,b(A*I))}static normalizeZ(E){const A=e.invertBatch(E.map(I=>I.ez));return E.map((I,k)=>I.toAffine(A[k])).map(F.fromAffine)}static msm(E,A){return Gx(F,T,E,A)}_setWindowSize(E){X.setWindowSize(this,E)}assertValidity(){j(this)}equals(E){N(E);const{ex:A,ey:I,ez:k}=this,{ex:g,ey:c,ez:d}=E,R=b(A*d),D=b(g*k),H=b(I*d),ee=b(c*k);return R===D&&H===ee}is0(){return this.equals(F.ZERO)}negate(){return new F(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){const{a:E}=t,{ex:A,ey:I,ez:k}=this,g=b(A*A),c=b(I*I),d=b(Sh*b(k*k)),R=b(E*g),D=A+I,H=b(b(D*D)-g-c),ee=R+c,oe=ee-d,fe=R-c,Ue=b(H*oe),Se=b(ee*fe),xe=b(H*fe),Bt=b(oe*ee);return new F(Ue,Se,Bt,xe)}add(E){N(E);const{a:A,d:I}=t,{ex:k,ey:g,ez:c,et:d}=this,{ex:R,ey:D,ez:H,et:ee}=E;if(A===BigInt(-1)){const ze=b((g-k)*(D+R)),Oe=b((g+k)*(D-R)),Lt=b(Oe-ze);if(Lt===Ji)return this.double();const $e=b(c*Sh*ee),qe=b(d*Sh*H),Kt=qe+$e,Ke=Oe+ze,C=qe-$e,v=b(Kt*Lt),_=b(Ke*C),U=b(Kt*C),G=b(Lt*Ke);return new F(v,_,G,U)}const oe=b(k*R),fe=b(g*D),Ue=b(d*I*ee),Se=b(c*H),xe=b((k+g)*(R+D)-oe-fe),Bt=Se-Ue,Re=Se+Ue,Be=b(fe-A*oe),Gn=b(xe*Bt),We=b(Re*Be),Qe=b(xe*Be),Fn=b(Bt*Re);return new F(Gn,We,Fn,Qe)}subtract(E){return this.add(E.negate())}wNAF(E){return X.wNAFCached(this,E,F.normalizeZ)}multiply(E){const A=E;Di("scalar",A,ti,r);const{p:I,f:k}=this.wNAF(A);return F.normalizeZ([I,k])[0]}multiplyUnsafe(E,A=F.ZERO){const I=E;return Di("scalar",I,Ji,r),I===Ji?J:this.is0()||I===ti?this:X.wNAFCachedUnsafe(this,I,F.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return X.unsafeLadder(this,r).is0()}toAffine(E){return $(this,E)}clearCofactor(){const{h:E}=t;return E===ti?this:this.multiplyUnsafe(E)}static fromHex(E,A=!1){const{d:I,a:k}=t,g=e.BYTES;E=Hn("pointHex",E,g),no("zip215",A);const c=E.slice(),d=E[g-1];c[g-1]=d&-129;const R=zu(c),D=A?w:e.ORDER;Di("pointHex.y",R,Ji,D);const H=b(R*R),ee=b(H-ti),oe=b(I*H-k);let{isValid:fe,value:Ue}=B(ee,oe);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");const Se=(Ue&ti)===ti,xe=(d&128)!==0;if(!A&&Ue===Ji&&xe)throw new Error("Point.fromHex: x=0 and x_0=1");return xe!==Se&&(Ue=b(-Ue)),F.fromAffine({x:Ue,y:R})}static fromPrivateKey(E){return W(E).point}toRawBytes(){const{x:E,y:A}=this.toAffine(),I=Al(A,e.BYTES);return I[I.length-1]|=E&ti?128:0,I}toHex(){return za(this.toRawBytes())}}F.BASE=new F(t.Gx,t.Gy,ti,b(t.Gx*t.Gy)),F.ZERO=new F(Ji,ti,ti,Ji);const{BASE:Y,ZERO:J}=F,X=Vx(F,f*8);function te(m){return bn(m,r)}function re(m){return te(zu(m))}function W(m){const E=e.BYTES;m=Hn("private key",m,E);const A=Hn("hashed private key",i(m),2*E),I=M(A.slice(0,E)),k=A.slice(E,2*E),g=re(I),c=Y.multiply(g),d=c.toRawBytes();return{head:I,prefix:k,scalar:g,point:c,pointBytes:d}}function q(m){return W(m).pointBytes}function K(m=new Uint8Array,...E){const A=Fa(...E);return re(i(O(A,Hn("context",m),!!s)))}function V(m,E,A={}){m=Hn("message",m),s&&(m=s(m));const{prefix:I,scalar:k,pointBytes:g}=W(E),c=K(A.context,I,m),d=Y.multiply(c).toRawBytes(),R=K(A.context,d,g,m),D=te(c+R*k);Di("signature.s",D,Ji,r);const H=Fa(d,Al(D,e.BYTES));return Hn("result",H,e.BYTES*2)}const S=dN;function a(m,E,A,I=S){const{context:k,zip215:g}=I,c=e.BYTES;m=Hn("signature",m,2*c),E=Hn("message",E),A=Hn("publicKey",A,c),g!==void 0&&no("zip215",g),s&&(E=s(E));const d=zu(m.slice(c,2*c));let R,D,H;try{R=F.fromHex(A,g),D=F.fromHex(m.slice(0,c),g),H=Y.multiplyUnsafe(d)}catch{return!1}if(!g&&R.isSmallOrder())return!1;const ee=K(k,D.toRawBytes(),R.toRawBytes(),E);return D.add(R.multiplyUnsafe(ee)).subtract(H).clearCofactor().equals(F.ZERO)}return Y._setWindowSize(8),{CURVE:t,getPublicKey:q,sign:V,verify:a,ExtendedPoint:F,utils:{getExtendedPublicKey:W,randomPrivateKey:()=>u(e.BYTES),precompute(m=8,E=F.BASE){return E._setWindowSize(m),E.multiply(BigInt(3)),E}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const O1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Lb=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const yN=BigInt(1),Ob=BigInt(2);BigInt(3);const mN=BigInt(5),wN=BigInt(8);function vN(n){const t=BigInt(10),e=BigInt(20),r=BigInt(40),s=BigInt(80),i=O1,f=n*n%i*n%i,p=On(f,Ob,i)*f%i,w=On(p,yN,i)*n%i,b=On(w,mN,i)*w%i,T=On(b,t,i)*b%i,B=On(T,e,i)*T%i,M=On(B,r,i)*B%i,O=On(M,s,i)*M%i,P=On(O,s,i)*M%i,N=On(P,t,i)*b%i;return{pow_p_5_8:On(N,Ob,i)*n%i,b2:f}}function _N(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function bN(n,t){const e=O1,r=bn(t*t*t,e),s=bn(r*r*t,e),i=vN(n*s).pow_p_5_8;let u=bn(n*r*i,e);const f=bn(t*u*u,e),p=u,w=bn(u*Lb,e),b=f===n,T=f===bn(-n,e),B=f===bn(-n*Lb,e);return b&&(u=p),(T||B)&&(u=w),iN(u,e)&&(u=bn(-u,e)),{isValid:b||T,value:u}}const EN=qd(O1,void 0,!0),SN={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:EN,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:wN,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:H4,randomBytes:Bx,adjustScalarBytes:_N,uvRatio:bN},fc=gN(SN);var Jh={exports:{}};const xN={},kN=Object.freeze(Object.defineProperty({__proto__:null,default:xN},Symbol.toStringTag,{value:"Module"})),P1=oc(kN);var AN=Jh.exports,Pb;function D1(){return Pb||(Pb=1,function(n){(function(t,e){function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var h=function(){};h.prototype=a.prototype,S.prototype=new h,S.prototype.constructor=S}function i(S,a,h){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(S||0,a||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=P1.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,h){return a.cmp(h)>0?a:h},i.min=function(a,h){return a.cmp(h)<0?a:h},i.prototype._init=function(a,h,m){if(typeof a=="number")return this._initNumber(a,h,m);if(typeof a=="object")return this._initArray(a,h,m);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var E=0;a[0]==="-"&&(E++,this.negative=1),E<a.length&&(h===16?this._parseHex(a,E,m):(this._parseBase(a,h,E),m==="le"&&this._initArray(this.toArray(),h,m)))},i.prototype._initNumber=function(a,h,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},i.prototype._initArray=function(a,h,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A,I,k=0;if(m==="be")for(E=a.length-1,A=0;E>=0;E-=3)I=a[E]|a[E-1]<<8|a[E-2]<<16,this.words[A]|=I<<k&67108863,this.words[A+1]=I>>>26-k&67108863,k+=24,k>=26&&(k-=26,A++);else if(m==="le")for(E=0,A=0;E<a.length;E+=3)I=a[E]|a[E+1]<<8|a[E+2]<<16,this.words[A]|=I<<k&67108863,this.words[A+1]=I>>>26-k&67108863,k+=24,k>=26&&(k-=26,A++);return this._strip()};function f(S,a){var h=S.charCodeAt(a);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+S)}function p(S,a,h){var m=f(S,h);return h-1>=a&&(m|=f(S,h-1)<<4),m}i.prototype._parseHex=function(a,h,m){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A=0,I=0,k;if(m==="be")for(E=a.length-1;E>=h;E-=2)k=p(a,h,E)<<A,this.words[I]|=k&67108863,A>=18?(A-=18,I+=1,this.words[I]|=k>>>26):A+=8;else{var g=a.length-h;for(E=g%2===0?h+1:h;E<a.length;E+=2)k=p(a,h,E)<<A,this.words[I]|=k&67108863,A>=18?(A-=18,I+=1,this.words[I]|=k>>>26):A+=8}this._strip()};function w(S,a,h,m){for(var E=0,A=0,I=Math.min(S.length,h),k=a;k<I;k++){var g=S.charCodeAt(k)-48;E*=m,g>=49?A=g-49+10:g>=17?A=g-17+10:A=g,r(g>=0&&A<m,"Invalid character"),E+=A}return E}i.prototype._parseBase=function(a,h,m){this.words=[0],this.length=1;for(var E=0,A=1;A<=67108863;A*=h)E++;E--,A=A/h|0;for(var I=a.length-m,k=I%E,g=Math.min(I,I-k)+m,c=0,d=m;d<g;d+=E)c=w(a,d,d+E,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=w(a,d,a.length,h),d=0;d<k;d++)R*=h;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red};function b(S,a){S.words=a.words,S.length=a.length,S.negative=a.negative,S.red=a.red}if(i.prototype._move=function(a){b(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{i.prototype.inspect=T}else i.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,h){a=a||10,h=h|0||1;var m;if(a===16||a==="hex"){m="";for(var E=0,A=0,I=0;I<this.length;I++){var k=this.words[I],g=((k<<E|A)&16777215).toString(16);A=k>>>24-E&16777215,E+=2,E>=26&&(E-=26,I--),A!==0||I!==this.length-1?m=B[6-g.length]+g+m:m=g+m}for(A!==0&&(m=A.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=M[a],d=O[a];m="";var R=this.clone();for(R.negative=0;!R.isZero();){var D=R.modrn(d).toString(a);R=R.idivn(d),R.isZero()?m=D+m:m=B[c-D.length]+D+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(a,h){return this.toArrayLike(u,a,h)}),i.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)};var P=function(a,h){return a.allocUnsafe?a.allocUnsafe(h):new a(h)};i.prototype.toArrayLike=function(a,h,m){this._strip();var E=this.byteLength(),A=m||Math.max(1,E);r(E<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0");var I=P(a,A),k=h==="le"?"LE":"BE";return this["_toArrayLike"+k](I,E),I},i.prototype._toArrayLikeLE=function(a,h){for(var m=0,E=0,A=0,I=0;A<this.length;A++){var k=this.words[A]<<I|E;a[m++]=k&255,m<a.length&&(a[m++]=k>>8&255),m<a.length&&(a[m++]=k>>16&255),I===6?(m<a.length&&(a[m++]=k>>24&255),E=0,I=0):(E=k>>>24,I+=2)}if(m<a.length)for(a[m++]=E;m<a.length;)a[m++]=0},i.prototype._toArrayLikeBE=function(a,h){for(var m=a.length-1,E=0,A=0,I=0;A<this.length;A++){var k=this.words[A]<<I|E;a[m--]=k&255,m>=0&&(a[m--]=k>>8&255),m>=0&&(a[m--]=k>>16&255),I===6?(m>=0&&(a[m--]=k>>24&255),E=0,I=0):(E=k>>>24,I+=2)}if(m>=0)for(a[m--]=E;m>=0;)a[m--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var h=a,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},i.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function N(S){for(var a=new Array(S.bitLength()),h=0;h<a.length;h++){var m=h/26|0,E=h%26;a[h]=S.words[m]>>>E&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this._strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=h.length,this._strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var h,m;this.length>a.length?(h=this,m=a):(h=a,m=this);for(var E=0;E<m.length;E++)this.words[E]=h.words[E]^m.words[E];if(this!==h)for(;E<h.length;E++)this.words[E]=h.words[E];return this.length=h.length,this._strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,m=a%26;this._expand(h),m>0&&h--;for(var E=0;E<h;E++)this.words[E]=~this.words[E]&67108863;return m>0&&(this.words[E]=~this.words[E]&67108863>>26-m),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var m=a/26|0,E=a%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<E:this.words[m]=this.words[m]&~(1<<E),this._strip()},i.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var m,E;this.length>a.length?(m=this,E=a):(m=a,E=this);for(var A=0,I=0;I<E.length;I++)h=(m.words[I]|0)+(E.words[I]|0)+A,this.words[I]=h&67108863,A=h>>>26;for(;A!==0&&I<m.length;I++)h=(m.words[I]|0)+A,this.words[I]=h&67108863,A=h>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},i.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,A;m>0?(E=this,A=a):(E=a,A=this);for(var I=0,k=0;k<A.length;k++)h=(E.words[k]|0)-(A.words[k]|0)+I,I=h>>26,this.words[k]=h&67108863;for(;I!==0&&k<E.length;k++)h=(E.words[k]|0)+I,I=h>>26,this.words[k]=h&67108863;if(I===0&&k<E.length&&E!==this)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=Math.max(this.length,k),E!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function $(S,a,h){h.negative=a.negative^S.negative;var m=S.length+a.length|0;h.length=m,m=m-1|0;var E=S.words[0]|0,A=a.words[0]|0,I=E*A,k=I&67108863,g=I/67108864|0;h.words[0]=k;for(var c=1;c<m;c++){for(var d=g>>>26,R=g&67108863,D=Math.min(c,a.length-1),H=Math.max(0,c-S.length+1);H<=D;H++){var ee=c-H|0;E=S.words[ee]|0,A=a.words[H]|0,I=E*A+R,d+=I/67108864|0,R=I&67108863}h.words[c]=R|0,g=d|0}return g!==0?h.words[c]=g|0:h.length--,h._strip()}var j=function(a,h,m){var E=a.words,A=h.words,I=m.words,k=0,g,c,d,R=E[0]|0,D=R&8191,H=R>>>13,ee=E[1]|0,oe=ee&8191,fe=ee>>>13,Ue=E[2]|0,Se=Ue&8191,xe=Ue>>>13,Bt=E[3]|0,Re=Bt&8191,Be=Bt>>>13,Gn=E[4]|0,We=Gn&8191,Qe=Gn>>>13,Fn=E[5]|0,ze=Fn&8191,Oe=Fn>>>13,Lt=E[6]|0,$e=Lt&8191,qe=Lt>>>13,Kt=E[7]|0,Ke=Kt&8191,C=Kt>>>13,v=E[8]|0,_=v&8191,U=v>>>13,G=E[9]|0,Q=G&8191,ne=G>>>13,Le=A[0]|0,Ee=Le&8191,be=Le>>>13,St=A[1]|0,_e=St&8191,st=St>>>13,Ri=A[2]|0,et=Ri&8191,tt=Ri>>>13,Hi=A[3]|0,lt=Hi&8191,ft=Hi>>>13,Wi=A[4]|0,ht=Wi&8191,ot=Wi>>>13,qi=A[5]|0,nt=qi&8191,at=qi>>>13,jr=A[6]|0,gt=jr&8191,rt=jr>>>13,ci=A[7]|0,it=ci&8191,ut=ci>>>13,os=A[8]|0,yt=os&8191,mt=os>>>13,wr=A[9]|0,dt=wr&8191,pt=wr>>>13;m.negative=a.negative^h.negative,m.length=19,g=Math.imul(D,Ee),c=Math.imul(D,be),c=c+Math.imul(H,Ee)|0,d=Math.imul(H,be);var li=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(li>>>26)|0,li&=67108863,g=Math.imul(oe,Ee),c=Math.imul(oe,be),c=c+Math.imul(fe,Ee)|0,d=Math.imul(fe,be),g=g+Math.imul(D,_e)|0,c=c+Math.imul(D,st)|0,c=c+Math.imul(H,_e)|0,d=d+Math.imul(H,st)|0;var Hr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,g=Math.imul(Se,Ee),c=Math.imul(Se,be),c=c+Math.imul(xe,Ee)|0,d=Math.imul(xe,be),g=g+Math.imul(oe,_e)|0,c=c+Math.imul(oe,st)|0,c=c+Math.imul(fe,_e)|0,d=d+Math.imul(fe,st)|0,g=g+Math.imul(D,et)|0,c=c+Math.imul(D,tt)|0,c=c+Math.imul(H,et)|0,d=d+Math.imul(H,tt)|0;var Wr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,g=Math.imul(Re,Ee),c=Math.imul(Re,be),c=c+Math.imul(Be,Ee)|0,d=Math.imul(Be,be),g=g+Math.imul(Se,_e)|0,c=c+Math.imul(Se,st)|0,c=c+Math.imul(xe,_e)|0,d=d+Math.imul(xe,st)|0,g=g+Math.imul(oe,et)|0,c=c+Math.imul(oe,tt)|0,c=c+Math.imul(fe,et)|0,d=d+Math.imul(fe,tt)|0,g=g+Math.imul(D,lt)|0,c=c+Math.imul(D,ft)|0,c=c+Math.imul(H,lt)|0,d=d+Math.imul(H,ft)|0;var qr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,g=Math.imul(We,Ee),c=Math.imul(We,be),c=c+Math.imul(Qe,Ee)|0,d=Math.imul(Qe,be),g=g+Math.imul(Re,_e)|0,c=c+Math.imul(Re,st)|0,c=c+Math.imul(Be,_e)|0,d=d+Math.imul(Be,st)|0,g=g+Math.imul(Se,et)|0,c=c+Math.imul(Se,tt)|0,c=c+Math.imul(xe,et)|0,d=d+Math.imul(xe,tt)|0,g=g+Math.imul(oe,lt)|0,c=c+Math.imul(oe,ft)|0,c=c+Math.imul(fe,lt)|0,d=d+Math.imul(fe,ft)|0,g=g+Math.imul(D,ht)|0,c=c+Math.imul(D,ot)|0,c=c+Math.imul(H,ht)|0,d=d+Math.imul(H,ot)|0;var Kr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,g=Math.imul(ze,Ee),c=Math.imul(ze,be),c=c+Math.imul(Oe,Ee)|0,d=Math.imul(Oe,be),g=g+Math.imul(We,_e)|0,c=c+Math.imul(We,st)|0,c=c+Math.imul(Qe,_e)|0,d=d+Math.imul(Qe,st)|0,g=g+Math.imul(Re,et)|0,c=c+Math.imul(Re,tt)|0,c=c+Math.imul(Be,et)|0,d=d+Math.imul(Be,tt)|0,g=g+Math.imul(Se,lt)|0,c=c+Math.imul(Se,ft)|0,c=c+Math.imul(xe,lt)|0,d=d+Math.imul(xe,ft)|0,g=g+Math.imul(oe,ht)|0,c=c+Math.imul(oe,ot)|0,c=c+Math.imul(fe,ht)|0,d=d+Math.imul(fe,ot)|0,g=g+Math.imul(D,nt)|0,c=c+Math.imul(D,at)|0,c=c+Math.imul(H,nt)|0,d=d+Math.imul(H,at)|0;var fi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(fi>>>26)|0,fi&=67108863,g=Math.imul($e,Ee),c=Math.imul($e,be),c=c+Math.imul(qe,Ee)|0,d=Math.imul(qe,be),g=g+Math.imul(ze,_e)|0,c=c+Math.imul(ze,st)|0,c=c+Math.imul(Oe,_e)|0,d=d+Math.imul(Oe,st)|0,g=g+Math.imul(We,et)|0,c=c+Math.imul(We,tt)|0,c=c+Math.imul(Qe,et)|0,d=d+Math.imul(Qe,tt)|0,g=g+Math.imul(Re,lt)|0,c=c+Math.imul(Re,ft)|0,c=c+Math.imul(Be,lt)|0,d=d+Math.imul(Be,ft)|0,g=g+Math.imul(Se,ht)|0,c=c+Math.imul(Se,ot)|0,c=c+Math.imul(xe,ht)|0,d=d+Math.imul(xe,ot)|0,g=g+Math.imul(oe,nt)|0,c=c+Math.imul(oe,at)|0,c=c+Math.imul(fe,nt)|0,d=d+Math.imul(fe,at)|0,g=g+Math.imul(D,gt)|0,c=c+Math.imul(D,rt)|0,c=c+Math.imul(H,gt)|0,d=d+Math.imul(H,rt)|0;var hi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(hi>>>26)|0,hi&=67108863,g=Math.imul(Ke,Ee),c=Math.imul(Ke,be),c=c+Math.imul(C,Ee)|0,d=Math.imul(C,be),g=g+Math.imul($e,_e)|0,c=c+Math.imul($e,st)|0,c=c+Math.imul(qe,_e)|0,d=d+Math.imul(qe,st)|0,g=g+Math.imul(ze,et)|0,c=c+Math.imul(ze,tt)|0,c=c+Math.imul(Oe,et)|0,d=d+Math.imul(Oe,tt)|0,g=g+Math.imul(We,lt)|0,c=c+Math.imul(We,ft)|0,c=c+Math.imul(Qe,lt)|0,d=d+Math.imul(Qe,ft)|0,g=g+Math.imul(Re,ht)|0,c=c+Math.imul(Re,ot)|0,c=c+Math.imul(Be,ht)|0,d=d+Math.imul(Be,ot)|0,g=g+Math.imul(Se,nt)|0,c=c+Math.imul(Se,at)|0,c=c+Math.imul(xe,nt)|0,d=d+Math.imul(xe,at)|0,g=g+Math.imul(oe,gt)|0,c=c+Math.imul(oe,rt)|0,c=c+Math.imul(fe,gt)|0,d=d+Math.imul(fe,rt)|0,g=g+Math.imul(D,it)|0,c=c+Math.imul(D,ut)|0,c=c+Math.imul(H,it)|0,d=d+Math.imul(H,ut)|0;var Yt=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,g=Math.imul(_,Ee),c=Math.imul(_,be),c=c+Math.imul(U,Ee)|0,d=Math.imul(U,be),g=g+Math.imul(Ke,_e)|0,c=c+Math.imul(Ke,st)|0,c=c+Math.imul(C,_e)|0,d=d+Math.imul(C,st)|0,g=g+Math.imul($e,et)|0,c=c+Math.imul($e,tt)|0,c=c+Math.imul(qe,et)|0,d=d+Math.imul(qe,tt)|0,g=g+Math.imul(ze,lt)|0,c=c+Math.imul(ze,ft)|0,c=c+Math.imul(Oe,lt)|0,d=d+Math.imul(Oe,ft)|0,g=g+Math.imul(We,ht)|0,c=c+Math.imul(We,ot)|0,c=c+Math.imul(Qe,ht)|0,d=d+Math.imul(Qe,ot)|0,g=g+Math.imul(Re,nt)|0,c=c+Math.imul(Re,at)|0,c=c+Math.imul(Be,nt)|0,d=d+Math.imul(Be,at)|0,g=g+Math.imul(Se,gt)|0,c=c+Math.imul(Se,rt)|0,c=c+Math.imul(xe,gt)|0,d=d+Math.imul(xe,rt)|0,g=g+Math.imul(oe,it)|0,c=c+Math.imul(oe,ut)|0,c=c+Math.imul(fe,it)|0,d=d+Math.imul(fe,ut)|0,g=g+Math.imul(D,yt)|0,c=c+Math.imul(D,mt)|0,c=c+Math.imul(H,yt)|0,d=d+Math.imul(H,mt)|0;var di=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(di>>>26)|0,di&=67108863,g=Math.imul(Q,Ee),c=Math.imul(Q,be),c=c+Math.imul(ne,Ee)|0,d=Math.imul(ne,be),g=g+Math.imul(_,_e)|0,c=c+Math.imul(_,st)|0,c=c+Math.imul(U,_e)|0,d=d+Math.imul(U,st)|0,g=g+Math.imul(Ke,et)|0,c=c+Math.imul(Ke,tt)|0,c=c+Math.imul(C,et)|0,d=d+Math.imul(C,tt)|0,g=g+Math.imul($e,lt)|0,c=c+Math.imul($e,ft)|0,c=c+Math.imul(qe,lt)|0,d=d+Math.imul(qe,ft)|0,g=g+Math.imul(ze,ht)|0,c=c+Math.imul(ze,ot)|0,c=c+Math.imul(Oe,ht)|0,d=d+Math.imul(Oe,ot)|0,g=g+Math.imul(We,nt)|0,c=c+Math.imul(We,at)|0,c=c+Math.imul(Qe,nt)|0,d=d+Math.imul(Qe,at)|0,g=g+Math.imul(Re,gt)|0,c=c+Math.imul(Re,rt)|0,c=c+Math.imul(Be,gt)|0,d=d+Math.imul(Be,rt)|0,g=g+Math.imul(Se,it)|0,c=c+Math.imul(Se,ut)|0,c=c+Math.imul(xe,it)|0,d=d+Math.imul(xe,ut)|0,g=g+Math.imul(oe,yt)|0,c=c+Math.imul(oe,mt)|0,c=c+Math.imul(fe,yt)|0,d=d+Math.imul(fe,mt)|0,g=g+Math.imul(D,dt)|0,c=c+Math.imul(D,pt)|0,c=c+Math.imul(H,dt)|0,d=d+Math.imul(H,pt)|0;var Lr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,g=Math.imul(Q,_e),c=Math.imul(Q,st),c=c+Math.imul(ne,_e)|0,d=Math.imul(ne,st),g=g+Math.imul(_,et)|0,c=c+Math.imul(_,tt)|0,c=c+Math.imul(U,et)|0,d=d+Math.imul(U,tt)|0,g=g+Math.imul(Ke,lt)|0,c=c+Math.imul(Ke,ft)|0,c=c+Math.imul(C,lt)|0,d=d+Math.imul(C,ft)|0,g=g+Math.imul($e,ht)|0,c=c+Math.imul($e,ot)|0,c=c+Math.imul(qe,ht)|0,d=d+Math.imul(qe,ot)|0,g=g+Math.imul(ze,nt)|0,c=c+Math.imul(ze,at)|0,c=c+Math.imul(Oe,nt)|0,d=d+Math.imul(Oe,at)|0,g=g+Math.imul(We,gt)|0,c=c+Math.imul(We,rt)|0,c=c+Math.imul(Qe,gt)|0,d=d+Math.imul(Qe,rt)|0,g=g+Math.imul(Re,it)|0,c=c+Math.imul(Re,ut)|0,c=c+Math.imul(Be,it)|0,d=d+Math.imul(Be,ut)|0,g=g+Math.imul(Se,yt)|0,c=c+Math.imul(Se,mt)|0,c=c+Math.imul(xe,yt)|0,d=d+Math.imul(xe,mt)|0,g=g+Math.imul(oe,dt)|0,c=c+Math.imul(oe,pt)|0,c=c+Math.imul(fe,dt)|0,d=d+Math.imul(fe,pt)|0;var Vr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,g=Math.imul(Q,et),c=Math.imul(Q,tt),c=c+Math.imul(ne,et)|0,d=Math.imul(ne,tt),g=g+Math.imul(_,lt)|0,c=c+Math.imul(_,ft)|0,c=c+Math.imul(U,lt)|0,d=d+Math.imul(U,ft)|0,g=g+Math.imul(Ke,ht)|0,c=c+Math.imul(Ke,ot)|0,c=c+Math.imul(C,ht)|0,d=d+Math.imul(C,ot)|0,g=g+Math.imul($e,nt)|0,c=c+Math.imul($e,at)|0,c=c+Math.imul(qe,nt)|0,d=d+Math.imul(qe,at)|0,g=g+Math.imul(ze,gt)|0,c=c+Math.imul(ze,rt)|0,c=c+Math.imul(Oe,gt)|0,d=d+Math.imul(Oe,rt)|0,g=g+Math.imul(We,it)|0,c=c+Math.imul(We,ut)|0,c=c+Math.imul(Qe,it)|0,d=d+Math.imul(Qe,ut)|0,g=g+Math.imul(Re,yt)|0,c=c+Math.imul(Re,mt)|0,c=c+Math.imul(Be,yt)|0,d=d+Math.imul(Be,mt)|0,g=g+Math.imul(Se,dt)|0,c=c+Math.imul(Se,pt)|0,c=c+Math.imul(xe,dt)|0,d=d+Math.imul(xe,pt)|0;var vr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,g=Math.imul(Q,lt),c=Math.imul(Q,ft),c=c+Math.imul(ne,lt)|0,d=Math.imul(ne,ft),g=g+Math.imul(_,ht)|0,c=c+Math.imul(_,ot)|0,c=c+Math.imul(U,ht)|0,d=d+Math.imul(U,ot)|0,g=g+Math.imul(Ke,nt)|0,c=c+Math.imul(Ke,at)|0,c=c+Math.imul(C,nt)|0,d=d+Math.imul(C,at)|0,g=g+Math.imul($e,gt)|0,c=c+Math.imul($e,rt)|0,c=c+Math.imul(qe,gt)|0,d=d+Math.imul(qe,rt)|0,g=g+Math.imul(ze,it)|0,c=c+Math.imul(ze,ut)|0,c=c+Math.imul(Oe,it)|0,d=d+Math.imul(Oe,ut)|0,g=g+Math.imul(We,yt)|0,c=c+Math.imul(We,mt)|0,c=c+Math.imul(Qe,yt)|0,d=d+Math.imul(Qe,mt)|0,g=g+Math.imul(Re,dt)|0,c=c+Math.imul(Re,pt)|0,c=c+Math.imul(Be,dt)|0,d=d+Math.imul(Be,pt)|0;var pi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(pi>>>26)|0,pi&=67108863,g=Math.imul(Q,ht),c=Math.imul(Q,ot),c=c+Math.imul(ne,ht)|0,d=Math.imul(ne,ot),g=g+Math.imul(_,nt)|0,c=c+Math.imul(_,at)|0,c=c+Math.imul(U,nt)|0,d=d+Math.imul(U,at)|0,g=g+Math.imul(Ke,gt)|0,c=c+Math.imul(Ke,rt)|0,c=c+Math.imul(C,gt)|0,d=d+Math.imul(C,rt)|0,g=g+Math.imul($e,it)|0,c=c+Math.imul($e,ut)|0,c=c+Math.imul(qe,it)|0,d=d+Math.imul(qe,ut)|0,g=g+Math.imul(ze,yt)|0,c=c+Math.imul(ze,mt)|0,c=c+Math.imul(Oe,yt)|0,d=d+Math.imul(Oe,mt)|0,g=g+Math.imul(We,dt)|0,c=c+Math.imul(We,pt)|0,c=c+Math.imul(Qe,dt)|0,d=d+Math.imul(Qe,pt)|0;var Gr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,g=Math.imul(Q,nt),c=Math.imul(Q,at),c=c+Math.imul(ne,nt)|0,d=Math.imul(ne,at),g=g+Math.imul(_,gt)|0,c=c+Math.imul(_,rt)|0,c=c+Math.imul(U,gt)|0,d=d+Math.imul(U,rt)|0,g=g+Math.imul(Ke,it)|0,c=c+Math.imul(Ke,ut)|0,c=c+Math.imul(C,it)|0,d=d+Math.imul(C,ut)|0,g=g+Math.imul($e,yt)|0,c=c+Math.imul($e,mt)|0,c=c+Math.imul(qe,yt)|0,d=d+Math.imul(qe,mt)|0,g=g+Math.imul(ze,dt)|0,c=c+Math.imul(ze,pt)|0,c=c+Math.imul(Oe,dt)|0,d=d+Math.imul(Oe,pt)|0;var _r=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,g=Math.imul(Q,gt),c=Math.imul(Q,rt),c=c+Math.imul(ne,gt)|0,d=Math.imul(ne,rt),g=g+Math.imul(_,it)|0,c=c+Math.imul(_,ut)|0,c=c+Math.imul(U,it)|0,d=d+Math.imul(U,ut)|0,g=g+Math.imul(Ke,yt)|0,c=c+Math.imul(Ke,mt)|0,c=c+Math.imul(C,yt)|0,d=d+Math.imul(C,mt)|0,g=g+Math.imul($e,dt)|0,c=c+Math.imul($e,pt)|0,c=c+Math.imul(qe,dt)|0,d=d+Math.imul(qe,pt)|0;var Cn=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,g=Math.imul(Q,it),c=Math.imul(Q,ut),c=c+Math.imul(ne,it)|0,d=Math.imul(ne,ut),g=g+Math.imul(_,yt)|0,c=c+Math.imul(_,mt)|0,c=c+Math.imul(U,yt)|0,d=d+Math.imul(U,mt)|0,g=g+Math.imul(Ke,dt)|0,c=c+Math.imul(Ke,pt)|0,c=c+Math.imul(C,dt)|0,d=d+Math.imul(C,pt)|0;var gi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,g=Math.imul(Q,yt),c=Math.imul(Q,mt),c=c+Math.imul(ne,yt)|0,d=Math.imul(ne,mt),g=g+Math.imul(_,dt)|0,c=c+Math.imul(_,pt)|0,c=c+Math.imul(U,dt)|0,d=d+Math.imul(U,pt)|0;var Sn=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,g=Math.imul(Q,dt),c=Math.imul(Q,pt),c=c+Math.imul(ne,dt)|0,d=Math.imul(ne,pt);var yi=(k+g|0)+((c&8191)<<13)|0;return k=(d+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,I[0]=li,I[1]=Hr,I[2]=Wr,I[3]=qr,I[4]=Kr,I[5]=fi,I[6]=hi,I[7]=Yt,I[8]=di,I[9]=Lr,I[10]=Vr,I[11]=vr,I[12]=pi,I[13]=Gr,I[14]=_r,I[15]=Cn,I[16]=gi,I[17]=Sn,I[18]=yi,k!==0&&(I[19]=k,m.length++),m};Math.imul||(j=$);function F(S,a,h){h.negative=a.negative^S.negative,h.length=S.length+a.length;for(var m=0,E=0,A=0;A<h.length-1;A++){var I=E;E=0;for(var k=m&67108863,g=Math.min(A,a.length-1),c=Math.max(0,A-S.length+1);c<=g;c++){var d=A-c,R=S.words[d]|0,D=a.words[c]|0,H=R*D,ee=H&67108863;I=I+(H/67108864|0)|0,ee=ee+k|0,k=ee&67108863,I=I+(ee>>>26)|0,E+=I>>>26,I&=67108863}h.words[A]=k,m=I,I=E}return m!==0?h.words[A]=m:h.length--,h._strip()}function Y(S,a,h){return F(S,a,h)}i.prototype.mulTo=function(a,h){var m,E=this.length+a.length;return this.length===10&&a.length===10?m=j(this,a,h):E<63?m=$(this,a,h):E<1024?m=F(this,a,h):m=Y(this,a,h),m},i.prototype.mul=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},i.prototype.mulf=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),Y(this,a,h)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var h=a<0;h&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var m=0,E=0;E<this.length;E++){var A=(this.words[E]|0)*a,I=(A&67108863)+(m&67108863);m>>=26,m+=A/67108864|0,m+=I>>>26,this.words[E]=I&67108863}return m!==0&&(this.words[E]=m,this.length++),h?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var h=N(a);if(h.length===0)return new i(1);for(var m=this,E=0;E<h.length&&h[E]===0;E++,m=m.sqr());if(++E<h.length)for(var A=m.sqr();E<h.length;E++,A=A.sqr())h[E]!==0&&(m=m.mul(A));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26,E=67108863>>>26-h<<26-h,A;if(h!==0){var I=0;for(A=0;A<this.length;A++){var k=this.words[A]&E,g=(this.words[A]|0)-k<<h;this.words[A]=g|I,I=k>>>26-h}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,h,m){r(typeof a=="number"&&a>=0);var E;h?E=(h-h%26)/26:E=0;var A=a%26,I=Math.min((a-A)/26,this.length),k=67108863^67108863>>>A<<A,g=m;if(E-=I,E=Math.max(0,E),g){for(var c=0;c<I;c++)g.words[c]=this.words[c];g.length=I}if(I!==0)if(this.length>I)for(this.length-=I,c=0;c<this.length;c++)this.words[c]=this.words[c+I];else this.words[0]=0,this.length=1;var d=0;for(c=this.length-1;c>=0&&(d!==0||c>=E);c--){var R=this.words[c]|0;this.words[c]=d<<26-A|R>>>A,d=R&k}return g&&d!==0&&(g.words[g.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,h,m){return r(this.negative===0),this.iushrn(a,h,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26,E=1<<h;if(this.length<=m)return!1;var A=this.words[m];return!!(A&E)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var E=67108863^67108863>>>h<<h;this.words[this.length-1]&=E}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,h,m){var E=a.length+m,A;this._expand(E);var I,k=0;for(A=0;A<a.length;A++){I=(this.words[A+m]|0)+k;var g=(a.words[A]|0)*h;I-=g&67108863,k=(I>>26)-(g/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+k,k=I>>26,this.words[A+m]=I&67108863;if(k===0)return this._strip();for(r(k===-1),k=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+k,k=I>>26,this.words[A]=I&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,h){var m=this.length-a.length,E=this.clone(),A=a,I=A.words[A.length-1]|0,k=this._countBits(I);m=26-k,m!==0&&(A=A.ushln(m),E.iushln(m),I=A.words[A.length-1]|0);var g=E.length-A.length,c;if(h!=="mod"){c=new i(null),c.length=g+1,c.words=new Array(c.length);for(var d=0;d<c.length;d++)c.words[d]=0}var R=E.clone()._ishlnsubmul(A,1,g);R.negative===0&&(E=R,c&&(c.words[g]=1));for(var D=g-1;D>=0;D--){var H=(E.words[A.length+D]|0)*67108864+(E.words[A.length+D-1]|0);for(H=Math.min(H/I|0,67108863),E._ishlnsubmul(A,H,D);E.negative!==0;)H--,E.negative=0,E._ishlnsubmul(A,1,D),E.isZero()||(E.negative^=1);c&&(c.words[D]=H)}return c&&c._strip(),E._strip(),h!=="div"&&m!==0&&E.iushrn(m),{div:c||null,mod:E}},i.prototype.divmod=function(a,h,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var E,A,I;return this.negative!==0&&a.negative===0?(I=this.neg().divmod(a,h),h!=="mod"&&(E=I.div.neg()),h!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(a)),{div:E,mod:A}):this.negative===0&&a.negative!==0?(I=this.divmod(a.neg(),h),h!=="mod"&&(E=I.div.neg()),{div:E,mod:I.mod}):this.negative&a.negative?(I=this.neg().divmod(a.neg(),h),h!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(a)),{div:I.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,h)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(a):h.mod,E=a.ushrn(1),A=a.andln(1),I=m.cmp(E);return I<0||A===1&&I===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var m=(1<<26)%a,E=0,A=this.length-1;A>=0;A--)E=(m*E+(this.words[A]|0))%a;return h?-E:E},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var m=0,E=this.length-1;E>=0;E--){var A=(this.words[E]|0)+m*67108864;this.words[E]=A/a|0,m=A%a}return this._strip(),h?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,m=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var E=new i(1),A=new i(0),I=new i(0),k=new i(1),g=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++g;for(var c=m.clone(),d=h.clone();!h.isZero();){for(var R=0,D=1;!(h.words[0]&D)&&R<26;++R,D<<=1);if(R>0)for(h.iushrn(R);R-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(c),A.isub(d)),E.iushrn(1),A.iushrn(1);for(var H=0,ee=1;!(m.words[0]&ee)&&H<26;++H,ee<<=1);if(H>0)for(m.iushrn(H);H-- >0;)(I.isOdd()||k.isOdd())&&(I.iadd(c),k.isub(d)),I.iushrn(1),k.iushrn(1);h.cmp(m)>=0?(h.isub(m),E.isub(I),A.isub(k)):(m.isub(h),I.isub(E),k.isub(A))}return{a:I,b:k,gcd:m.iushln(g)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,m=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var E=new i(1),A=new i(0),I=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var k=0,g=1;!(h.words[0]&g)&&k<26;++k,g<<=1);if(k>0)for(h.iushrn(k);k-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);for(var c=0,d=1;!(m.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(m.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);h.cmp(m)>=0?(h.isub(m),E.isub(A)):(m.isub(h),A.isub(E))}var R;return h.cmpn(1)===0?R=E:R=A,R.cmpn(0)<0&&R.iadd(a),R},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),m=a.clone();h.negative=0,m.negative=0;for(var E=0;h.isEven()&&m.isEven();E++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=h.cmp(m);if(A<0){var I=h;h=m,m=I}else if(A===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(E)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,m=(a-h)/26,E=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=E,this;for(var A=E,I=m;A!==0&&I<this.length;I++){var k=this.words[I]|0;k+=A,A=k>>>26,k&=67108863,this.words[I]=k}return A!==0&&(this.words[I]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var E=this.words[0]|0;m=E===a?0:E<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var E=this.words[m]|0,A=a.words[m]|0;if(E!==A){E<A?h=-1:E>A&&(h=1);break}}return h},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new K(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var J={k256:null,p224:null,p192:null,p25519:null};function X(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},X.prototype.ireduce=function(a){var h=a,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var E=m<this.n?-1:h.ucmp(this.p);return E===0?(h.words[0]=0,h.length=1):E>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},X.prototype.split=function(a,h){a.iushrn(this.n,0,h)},X.prototype.imulK=function(a){return a.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(te,X),te.prototype.split=function(a,h){for(var m=4194303,E=Math.min(a.length,9),A=0;A<E;A++)h.words[A]=a.words[A];if(h.length=E,a.length<=9){a.words[0]=0,a.length=1;return}var I=a.words[9];for(h.words[h.length++]=I&m,A=10;A<a.length;A++){var k=a.words[A]|0;a.words[A-10]=(k&m)<<4|I>>>22,I=k}I>>>=22,a.words[A-10]=I,I===0&&a.length>10?a.length-=10:a.length-=9},te.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,m=0;m<a.length;m++){var E=a.words[m]|0;h+=E*977,a.words[m]=h&67108863,h=E*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function re(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(re,X);function W(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,X);function q(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,X),q.prototype.imulK=function(a){for(var h=0,m=0;m<a.length;m++){var E=(a.words[m]|0)*19+h,A=E&67108863;E>>>=26,a.words[m]=A,h=E}return h!==0&&(a.words[a.length++]=h),a},i._prime=function(a){if(J[a])return J[a];var h;if(a==="k256")h=new te;else if(a==="p224")h=new re;else if(a==="p192")h=new W;else if(a==="p25519")h=new q;else throw new Error("Unknown prime "+a);return J[a]=h,h};function K(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}K.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},K.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},K.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(b(a,a.umod(this.m)._forceRed(this)),a)},K.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},K.prototype.add=function(a,h){this._verify2(a,h);var m=a.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},K.prototype.iadd=function(a,h){this._verify2(a,h);var m=a.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},K.prototype.sub=function(a,h){this._verify2(a,h);var m=a.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},K.prototype.isub=function(a,h){this._verify2(a,h);var m=a.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},K.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},K.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},K.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},K.prototype.isqr=function(a){return this.imul(a,a.clone())},K.prototype.sqr=function(a){return this.mul(a,a)},K.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var E=this.m.subn(1),A=0;!E.isZero()&&E.andln(1)===0;)A++,E.iushrn(1);r(!E.isZero());var I=new i(1).toRed(this),k=I.redNeg(),g=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,g).cmp(k)!==0;)c.redIAdd(k);for(var d=this.pow(c,E),R=this.pow(a,E.addn(1).iushrn(1)),D=this.pow(a,E),H=A;D.cmp(I)!==0;){for(var ee=D,oe=0;ee.cmp(I)!==0;oe++)ee=ee.redSqr();r(oe<H);var fe=this.pow(d,new i(1).iushln(H-oe-1));R=R.redMul(fe),d=fe.redSqr(),D=D.redMul(d),H=oe}return R},K.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},K.prototype.pow=function(a,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var m=4,E=new Array(1<<m);E[0]=new i(1).toRed(this),E[1]=a;for(var A=2;A<E.length;A++)E[A]=this.mul(E[A-1],a);var I=E[0],k=0,g=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var d=h.words[A],R=c-1;R>=0;R--){var D=d>>R&1;if(I!==E[0]&&(I=this.sqr(I)),D===0&&k===0){g=0;continue}k<<=1,k|=D,g++,!(g!==m&&(A!==0||R!==0))&&(I=this.mul(I,E[k]),g=0,k=0)}c=26}return I},K.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},K.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},i.mont=function(a){return new V(a)};function V(S){K.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(V,K),V.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},V.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},V.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(h),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(E).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},V.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new i(0)._forceRed(this);var m=a.mul(h),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(E).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},V.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(n,AN)}(Jh)),Jh.exports}var IN=D1();const pd=ss(IN);var xh={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Db;function MN(){return Db||(Db=1,function(n,t){var e=R1(),r=e.Buffer;function s(u,f){for(var p in u)f[p]=u[p]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(s(e,t),t.Buffer=i);function i(u,f,p){return r(u,f,p)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(u,f,p){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,f,p)},i.alloc=function(u,f,p){if(typeof u!="number")throw new TypeError("Argument must be a number");var w=r(u);return f!==void 0?typeof p=="string"?w.fill(f,p):w.fill(f):w.fill(0),w},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(u)}}(xh,xh.exports)),xh.exports}var Eg,Ub;function RN(){if(Ub)return Eg;Ub=1;var n=MN().Buffer;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var i=0;i<e.length;i++){var u=e.charAt(i),f=u.charCodeAt(0);if(r[f]!==255)throw new TypeError(u+" is ambiguous");r[f]=i}var p=e.length,w=e.charAt(0),b=Math.log(p)/Math.log(256),T=Math.log(256)/Math.log(p);function B(P){if((Array.isArray(P)||P instanceof Uint8Array)&&(P=n.from(P)),!n.isBuffer(P))throw new TypeError("Expected Buffer");if(P.length===0)return"";for(var N=0,$=0,j=0,F=P.length;j!==F&&P[j]===0;)j++,N++;for(var Y=(F-j)*T+1>>>0,J=new Uint8Array(Y);j!==F;){for(var X=P[j],te=0,re=Y-1;(X!==0||te<$)&&re!==-1;re--,te++)X+=256*J[re]>>>0,J[re]=X%p>>>0,X=X/p>>>0;if(X!==0)throw new Error("Non-zero carry");$=te,j++}for(var W=Y-$;W!==Y&&J[W]===0;)W++;for(var q=w.repeat(N);W<Y;++W)q+=e.charAt(J[W]);return q}function M(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return n.alloc(0);for(var N=0,$=0,j=0;P[N]===w;)$++,N++;for(var F=(P.length-N)*b+1>>>0,Y=new Uint8Array(F);N<P.length;){var J=r[P.charCodeAt(N)];if(J===255)return;for(var X=0,te=F-1;(J!==0||X<j)&&te!==-1;te--,X++)J+=p*Y[te]>>>0,Y[te]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");j=X,N++}for(var re=F-j;re!==F&&Y[re]===0;)re++;var W=n.allocUnsafe($+(F-re));W.fill(0,0,$);for(var q=$;re!==F;)W[q++]=Y[re++];return W}function O(P){var N=M(P);if(N)return N;throw new Error("Non-base"+p+" character")}return{encode:B,decodeUnsafe:M,decode:O}}return Eg=t,Eg}var Sg,zb;function Zx(){if(zb)return Sg;zb=1;var n=RN(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Sg=n(t),Sg}var TN=Zx();const ar=ss(TN),NN=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),No=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bo=new Uint32Array(64);let BN=class extends Cx{constructor(){super(64,32,8,!1),this.A=No[0]|0,this.B=No[1]|0,this.C=No[2]|0,this.D=No[3]|0,this.E=No[4]|0,this.F=No[5]|0,this.G=No[6]|0,this.H=No[7]|0}get(){const{A:t,B:e,C:r,D:s,E:i,F:u,G:f,H:p}=this;return[t,e,r,s,i,u,f,p]}set(t,e,r,s,i,u,f,p){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=u|0,this.G=f|0,this.H=p|0}process(t,e){for(let T=0;T<16;T++,e+=4)Bo[T]=t.getUint32(e,!1);for(let T=16;T<64;T++){const B=Bo[T-15],M=Bo[T-2],O=fs(B,7)^fs(B,18)^B>>>3,P=fs(M,17)^fs(M,19)^M>>>10;Bo[T]=P+Bo[T-7]+O+Bo[T-16]|0}let{A:r,B:s,C:i,D:u,E:f,F:p,G:w,H:b}=this;for(let T=0;T<64;T++){const B=fs(f,6)^fs(f,11)^fs(f,25),M=b+B+E4(f,p,w)+NN[T]+Bo[T]|0,P=(fs(r,2)^fs(r,13)^fs(r,22))+S4(r,s,i)|0;b=w,w=p,p=f,f=u+M|0,u=i,i=s,s=r,r=M+P|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,u=u+this.D|0,f=f+this.E|0,p=p+this.F|0,w=w+this.G|0,b=b+this.H|0,this.set(r,s,i,u,f,p,w,b)}roundClean(){Bo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Sm=N1(()=>new BN);var mn={};function Vs(n,t,e){return t<=n&&n<=e}function Kd(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function CN(n){for(var t=String(n),e=t.length,r=0,s=[];r<e;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===e-1)s.push(65533);else{var u=n.charCodeAt(r+1);if(56320<=u&&u<=57343){var f=i&1023,p=u&1023;s.push(65536+(f<<10)+p),r+=1}else s.push(65533)}r+=1}return s}function LN(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var gd=-1;function U1(n){this.tokens=[].slice.call(n)}U1.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():gd},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Yu=-1;function xg(n,t){if(n)throw TypeError("Decoder error");return t||65533}var yd="utf-8";function md(n,t){if(!(this instanceof md))return new md(n,t);if(n=n!==void 0?String(n).toLowerCase():yd,n!==yd)throw new Error("Encoding not supported. Only utf-8 is supported");t=Kd(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}md.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=Kd(e),this._streaming||(this._decoder=new ON({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new U1(r),i=[],u;!s.endOfStream()&&(u=this._decoder.handler(s,s.read()),u!==Yu);)u!==null&&(Array.isArray(u)?i.push.apply(i,u):i.push(u));if(!this._streaming){do{if(u=this._decoder.handler(s,s.read()),u===Yu)break;u!==null&&(Array.isArray(u)?i.push.apply(i,u):i.push(u))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),LN(i)}};function wd(n,t){if(!(this instanceof wd))return new wd(n,t);if(n=n!==void 0?String(n).toLowerCase():yd,n!==yd)throw new Error("Encoding not supported. Only utf-8 is supported");t=Kd(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}wd.prototype={encode:function(t,e){t=t?String(t):"",e=Kd(e),this._streaming||(this._encoder=new PN(this._options)),this._streaming=!!e.stream;for(var r=[],s=new U1(CN(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Yu);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Yu;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function ON(n){var t=n.fatal,e=0,r=0,s=0,i=128,u=191;this.handler=function(f,p){if(p===gd&&s!==0)return s=0,xg(t);if(p===gd)return Yu;if(s===0){if(Vs(p,0,127))return p;if(Vs(p,194,223))s=1,e=p-192;else if(Vs(p,224,239))p===224&&(i=160),p===237&&(u=159),s=2,e=p-224;else if(Vs(p,240,244))p===240&&(i=144),p===244&&(u=143),s=3,e=p-240;else return xg(t);return e=e<<6*s,null}if(!Vs(p,i,u))return e=s=r=0,i=128,u=191,f.prepend(p),xg(t);if(i=128,u=191,r+=1,e+=p-128<<6*(s-r),r!==s)return null;var w=e;return e=s=r=0,w}}function PN(n){n.fatal,this.handler=function(t,e){if(e===gd)return Yu;if(Vs(e,0,127))return e;var r,s;Vs(e,128,2047)?(r=1,s=192):Vs(e,2048,65535)?(r=2,s=224):Vs(e,65536,1114111)&&(r=3,s=240);for(var i=[(e>>6*r)+s];r>0;){var u=e>>6*(r-1);i.push(128|u&63),r-=1}return i}}const DN=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:md,TextEncoder:wd},Symbol.toStringTag,{value:"Module"})),UN=oc(DN);var Fb;function zN(){if(Fb)return mn;Fb=1;var n=mn.__createBinding||(Object.create?function(W,q,K,V){V===void 0&&(V=K),Object.defineProperty(W,V,{enumerable:!0,get:function(){return q[K]}})}:function(W,q,K,V){V===void 0&&(V=K),W[V]=q[K]}),t=mn.__setModuleDefault||(Object.create?function(W,q){Object.defineProperty(W,"default",{enumerable:!0,value:q})}:function(W,q){W.default=q}),e=mn.__decorate||function(W,q,K,V){var S=arguments.length,a=S<3?q:V===null?V=Object.getOwnPropertyDescriptor(q,K):V,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(W,q,K,V);else for(var m=W.length-1;m>=0;m--)(h=W[m])&&(a=(S<3?h(a):S>3?h(q,K,a):h(q,K))||a);return S>3&&a&&Object.defineProperty(q,K,a),a},r=mn.__importStar||function(W){if(W&&W.__esModule)return W;var q={};if(W!=null)for(var K in W)K!=="default"&&Object.hasOwnProperty.call(W,K)&&n(q,W,K);return t(q,W),q},s=mn.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(mn,"__esModule",{value:!0}),mn.deserializeUnchecked=mn.deserialize=mn.serialize=mn.BinaryReader=mn.BinaryWriter=mn.BorshError=mn.baseDecode=mn.baseEncode=void 0;const i=s(D1()),u=s(Zx()),f=r(UN),p=typeof TextDecoder!="function"?f.TextDecoder:TextDecoder,w=new p("utf-8",{fatal:!0});function b(W){return typeof W=="string"&&(W=Buffer.from(W,"utf8")),u.default.encode(Buffer.from(W))}mn.baseEncode=b;function T(W){return Buffer.from(u.default.decode(W))}mn.baseDecode=T;const B=1024;class M extends Error{constructor(q){super(q),this.fieldPath=[],this.originalMessage=q}addToFieldPath(q){this.fieldPath.splice(0,0,q),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mn.BorshError=M;class O{constructor(){this.buf=Buffer.alloc(B),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(B)]))}writeU8(q){this.maybeResize(),this.buf.writeUInt8(q,this.length),this.length+=1}writeU16(q){this.maybeResize(),this.buf.writeUInt16LE(q,this.length),this.length+=2}writeU32(q){this.maybeResize(),this.buf.writeUInt32LE(q,this.length),this.length+=4}writeU64(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",8)))}writeU128(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",16)))}writeU256(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",32)))}writeU512(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",64)))}writeBuffer(q){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),q,Buffer.alloc(B)]),this.length+=q.length}writeString(q){this.maybeResize();const K=Buffer.from(q,"utf8");this.writeU32(K.length),this.writeBuffer(K)}writeFixedArray(q){this.writeBuffer(Buffer.from(q))}writeArray(q,K){this.maybeResize(),this.writeU32(q.length);for(const V of q)this.maybeResize(),K(V)}toArray(){return this.buf.subarray(0,this.length)}}mn.BinaryWriter=O;function P(W,q,K){const V=K.value;K.value=function(...S){try{return V.apply(this,S)}catch(a){if(a instanceof RangeError){const h=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new M("Reached the end of buffer when deserializing")}throw a}}}class N{constructor(q){this.buf=q,this.offset=0}readU8(){const q=this.buf.readUInt8(this.offset);return this.offset+=1,q}readU16(){const q=this.buf.readUInt16LE(this.offset);return this.offset+=2,q}readU32(){const q=this.buf.readUInt32LE(this.offset);return this.offset+=4,q}readU64(){const q=this.readBuffer(8);return new i.default(q,"le")}readU128(){const q=this.readBuffer(16);return new i.default(q,"le")}readU256(){const q=this.readBuffer(32);return new i.default(q,"le")}readU512(){const q=this.readBuffer(64);return new i.default(q,"le")}readBuffer(q){if(this.offset+q>this.buf.length)throw new M(`Expected buffer length ${q} isn't within bounds`);const K=this.buf.slice(this.offset,this.offset+q);return this.offset+=q,K}readString(){const q=this.readU32(),K=this.readBuffer(q);try{return w.decode(K)}catch(V){throw new M(`Error decoding UTF-8 string: ${V}`)}}readFixedArray(q){return new Uint8Array(this.readBuffer(q))}readArray(q){const K=this.readU32(),V=Array();for(let S=0;S<K;++S)V.push(q());return V}}e([P],N.prototype,"readU8",null),e([P],N.prototype,"readU16",null),e([P],N.prototype,"readU32",null),e([P],N.prototype,"readU64",null),e([P],N.prototype,"readU128",null),e([P],N.prototype,"readU256",null),e([P],N.prototype,"readU512",null),e([P],N.prototype,"readString",null),e([P],N.prototype,"readFixedArray",null),e([P],N.prototype,"readArray",null),mn.BinaryReader=N;function $(W){return W.charAt(0).toUpperCase()+W.slice(1)}function j(W,q,K,V,S){try{if(typeof V=="string")S[`write${$(V)}`](K);else if(V instanceof Array)if(typeof V[0]=="number"){if(K.length!==V[0])throw new M(`Expecting byte array of length ${V[0]}, but got ${K.length} bytes`);S.writeFixedArray(K)}else if(V.length===2&&typeof V[1]=="number"){if(K.length!==V[1])throw new M(`Expecting byte array of length ${V[1]}, but got ${K.length} bytes`);for(let a=0;a<V[1];a++)j(W,null,K[a],V[0],S)}else S.writeArray(K,a=>{j(W,q,a,V[0],S)});else if(V.kind!==void 0)switch(V.kind){case"option":{K==null?S.writeU8(0):(S.writeU8(1),j(W,q,K,V.type,S));break}case"map":{S.writeU32(K.size),K.forEach((a,h)=>{j(W,q,h,V.key,S),j(W,q,a,V.value,S)});break}default:throw new M(`FieldType ${V} unrecognized`)}else F(W,K,S)}catch(a){throw a instanceof M&&a.addToFieldPath(q),a}}function F(W,q,K){if(typeof q.borshSerialize=="function"){q.borshSerialize(K);return}const V=W.get(q.constructor);if(!V)throw new M(`Class ${q.constructor.name} is missing in schema`);if(V.kind==="struct")V.fields.map(([S,a])=>{j(W,S,q[S],a,K)});else if(V.kind==="enum"){const S=q[V.field];for(let a=0;a<V.values.length;++a){const[h,m]=V.values[a];if(h===S){K.writeU8(a),j(W,h,q[h],m,K);break}}}else throw new M(`Unexpected schema kind: ${V.kind} for ${q.constructor.name}`)}function Y(W,q,K=O){const V=new K;return F(W,q,V),V.toArray()}mn.serialize=Y;function J(W,q,K,V){try{if(typeof K=="string")return V[`read${$(K)}`]();if(K instanceof Array){if(typeof K[0]=="number")return V.readFixedArray(K[0]);if(typeof K[1]=="number"){const S=[];for(let a=0;a<K[1];a++)S.push(J(W,null,K[0],V));return S}else return V.readArray(()=>J(W,q,K[0],V))}if(K.kind==="option")return V.readU8()?J(W,q,K.type,V):void 0;if(K.kind==="map"){let S=new Map;const a=V.readU32();for(let h=0;h<a;h++){const m=J(W,q,K.key,V),E=J(W,q,K.value,V);S.set(m,E)}return S}return X(W,K,V)}catch(S){throw S instanceof M&&S.addToFieldPath(q),S}}function X(W,q,K){if(typeof q.borshDeserialize=="function")return q.borshDeserialize(K);const V=W.get(q);if(!V)throw new M(`Class ${q.name} is missing in schema`);if(V.kind==="struct"){const S={};for(const[a,h]of W.get(q).fields)S[a]=J(W,a,h,K);return new q(S)}if(V.kind==="enum"){const S=K.readU8();if(S>=V.values.length)throw new M(`Enum index: ${S} is out of range`);const[a,h]=V.values[S],m=J(W,a,h,K);return new q({[a]:m})}throw new M(`Unexpected schema kind: ${V.kind} for ${q.constructor.name}`)}function te(W,q,K,V=N){const S=new V(K),a=X(W,q,S);if(S.offset<K.length)throw new M(`Unexpected ${K.length-S.offset} bytes after deserialized data`);return a}mn.deserialize=te;function re(W,q,K,V=N){const S=new V(K);return X(W,q,S)}return mn.deserializeUnchecked=re,mn}var kg=zN(),me={},$b;function FN(){if($b)return me;$b=1,Object.defineProperty(me,"__esModule",{value:!0}),me.s16=me.s8=me.nu64be=me.u48be=me.u40be=me.u32be=me.u24be=me.u16be=me.nu64=me.u48=me.u40=me.u32=me.u24=me.u16=me.u8=me.offset=me.greedy=me.Constant=me.UTF8=me.CString=me.Blob=me.Boolean=me.BitField=me.BitStructure=me.VariantLayout=me.Union=me.UnionLayoutDiscriminator=me.UnionDiscriminator=me.Structure=me.Sequence=me.DoubleBE=me.Double=me.FloatBE=me.Float=me.NearInt64BE=me.NearInt64=me.NearUInt64BE=me.NearUInt64=me.IntBE=me.Int=me.UIntBE=me.UInt=me.OffsetLayout=me.GreedyCount=me.ExternalLayout=me.bindConstructorLayout=me.nameWithProperty=me.Layout=me.uint8ArrayToBuffer=me.checkUint8Array=void 0,me.constant=me.utf8=me.cstr=me.blob=me.unionLayoutDiscriminator=me.union=me.seq=me.bits=me.struct=me.f64be=me.f64=me.f32be=me.f32=me.ns64be=me.s48be=me.s40be=me.s32be=me.s24be=me.s16be=me.ns64=me.s48=me.s40=me.s32=me.s24=void 0;const n=R1();function t(c){if(!(c instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}me.checkUint8Array=t;function e(c){return t(c),n.Buffer.from(c.buffer,c.byteOffset,c.length)}me.uint8ArrayToBuffer=e;class r{constructor(d,R){if(!Number.isInteger(d))throw new TypeError("span must be an integer");this.span=d,this.property=R}makeDestinationObject(){return{}}getSpan(d,R){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(d){const R=Object.create(this.constructor.prototype);return Object.assign(R,this),R.property=d,R}fromArray(d){}}me.Layout=r;function s(c,d){return d.property?c+"["+d.property+"]":c}me.nameWithProperty=s;function i(c,d){if(typeof c!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(c,"layout_"))throw new Error("Class is already bound to a layout");if(!(d&&d instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(d,"boundConstructor_"))throw new Error("layout is already bound to a constructor");c.layout_=d,d.boundConstructor_=c,d.makeDestinationObject=()=>new c,Object.defineProperty(c.prototype,"encode",{value(R,D){return d.encode(this,R,D)},writable:!0}),Object.defineProperty(c,"decode",{value(R,D){return d.decode(R,D)},writable:!0})}me.bindConstructorLayout=i;class u extends r{isCount(){throw new Error("ExternalLayout is abstract")}}me.ExternalLayout=u;class f extends u{constructor(d=1,R){if(!Number.isInteger(d)||0>=d)throw new TypeError("elementSpan must be a (positive) integer");super(-1,R),this.elementSpan=d}isCount(){return!0}decode(d,R=0){t(d);const D=d.length-R;return Math.floor(D/this.elementSpan)}encode(d,R,D){return 0}}me.GreedyCount=f;class p extends u{constructor(d,R=0,D){if(!(d instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(R))throw new TypeError("offset must be integer or undefined");super(d.span,D||d.property),this.layout=d,this.offset=R}isCount(){return this.layout instanceof w||this.layout instanceof b}decode(d,R=0){return this.layout.decode(d,R+this.offset)}encode(d,R,D=0){return this.layout.encode(d,R,D+this.offset)}}me.OffsetLayout=p;class w extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readUIntLE(R,this.span)}encode(d,R,D=0){return e(R).writeUIntLE(d,D,this.span),this.span}}me.UInt=w;class b extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readUIntBE(R,this.span)}encode(d,R,D=0){return e(R).writeUIntBE(d,D,this.span),this.span}}me.UIntBE=b;class T extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readIntLE(R,this.span)}encode(d,R,D=0){return e(R).writeIntLE(d,D,this.span),this.span}}me.Int=T;class B extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readIntBE(R,this.span)}encode(d,R,D=0){return e(R).writeIntBE(d,D,this.span),this.span}}me.IntBE=B;const M=Math.pow(2,32);function O(c){const d=Math.floor(c/M),R=c-d*M;return{hi32:d,lo32:R}}function P(c,d){return c*M+d}class N extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readUInt32LE(R),ee=D.readUInt32LE(R+4);return P(ee,H)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeUInt32LE(H.lo32,D),ee.writeUInt32LE(H.hi32,D+4),8}}me.NearUInt64=N;class $ extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readUInt32BE(R),ee=D.readUInt32BE(R+4);return P(H,ee)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeUInt32BE(H.hi32,D),ee.writeUInt32BE(H.lo32,D+4),8}}me.NearUInt64BE=$;class j extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readUInt32LE(R),ee=D.readInt32LE(R+4);return P(ee,H)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeUInt32LE(H.lo32,D),ee.writeInt32LE(H.hi32,D+4),8}}me.NearInt64=j;class F extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readInt32BE(R),ee=D.readUInt32BE(R+4);return P(H,ee)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeInt32BE(H.hi32,D),ee.writeUInt32BE(H.lo32,D+4),8}}me.NearInt64BE=F;class Y extends r{constructor(d){super(4,d)}decode(d,R=0){return e(d).readFloatLE(R)}encode(d,R,D=0){return e(R).writeFloatLE(d,D),4}}me.Float=Y;class J extends r{constructor(d){super(4,d)}decode(d,R=0){return e(d).readFloatBE(R)}encode(d,R,D=0){return e(R).writeFloatBE(d,D),4}}me.FloatBE=J;class X extends r{constructor(d){super(8,d)}decode(d,R=0){return e(d).readDoubleLE(R)}encode(d,R,D=0){return e(R).writeDoubleLE(d,D),8}}me.Double=X;class te extends r{constructor(d){super(8,d)}decode(d,R=0){return e(d).readDoubleBE(R)}encode(d,R,D=0){return e(R).writeDoubleBE(d,D),8}}me.DoubleBE=te;class re extends r{constructor(d,R,D){if(!(d instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(R instanceof u&&R.isCount()||Number.isInteger(R)&&0<=R))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let H=-1;!(R instanceof u)&&0<d.span&&(H=R*d.span),super(H,D),this.elementLayout=d,this.count=R}getSpan(d,R=0){if(0<=this.span)return this.span;let D=0,H=this.count;if(H instanceof u&&(H=H.decode(d,R)),0<this.elementLayout.span)D=H*this.elementLayout.span;else{let ee=0;for(;ee<H;)D+=this.elementLayout.getSpan(d,R+D),++ee}return D}decode(d,R=0){const D=[];let H=0,ee=this.count;for(ee instanceof u&&(ee=ee.decode(d,R));H<ee;)D.push(this.elementLayout.decode(d,R)),R+=this.elementLayout.getSpan(d,R),H+=1;return D}encode(d,R,D=0){const H=this.elementLayout,ee=d.reduce((oe,fe)=>oe+H.encode(fe,R,D+oe),0);return this.count instanceof u&&this.count.encode(d.length,R,D),ee}}me.Sequence=re;class W extends r{constructor(d,R,D){if(!(Array.isArray(d)&&d.reduce((ee,oe)=>ee&&oe instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof R=="boolean"&&D===void 0&&(D=R,R=void 0);for(const ee of d)if(0>ee.span&&ee.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let H=-1;try{H=d.reduce((ee,oe)=>ee+oe.getSpan(),0)}catch{}super(H,R),this.fields=d,this.decodePrefixes=!!D}getSpan(d,R=0){if(0<=this.span)return this.span;let D=0;try{D=this.fields.reduce((H,ee)=>{const oe=ee.getSpan(d,R);return R+=oe,H+oe},0)}catch{throw new RangeError("indeterminate span")}return D}decode(d,R=0){t(d);const D=this.makeDestinationObject();for(const H of this.fields)if(H.property!==void 0&&(D[H.property]=H.decode(d,R)),R+=H.getSpan(d,R),this.decodePrefixes&&d.length===R)break;return D}encode(d,R,D=0){const H=D;let ee=0,oe=0;for(const fe of this.fields){let Ue=fe.span;if(oe=0<Ue?Ue:0,fe.property!==void 0){const Se=d[fe.property];Se!==void 0&&(oe=fe.encode(Se,R,D),0>Ue&&(Ue=fe.getSpan(R,D)))}ee=D,D+=Ue}return ee+oe-H}fromArray(d){const R=this.makeDestinationObject();for(const D of this.fields)D.property!==void 0&&0<d.length&&(R[D.property]=d.shift());return R}layoutFor(d){if(typeof d!="string")throw new TypeError("property must be string");for(const R of this.fields)if(R.property===d)return R}offsetOf(d){if(typeof d!="string")throw new TypeError("property must be string");let R=0;for(const D of this.fields){if(D.property===d)return R;0>D.span?R=-1:0<=R&&(R+=D.span)}}}me.Structure=W;class q{constructor(d){this.property=d}decode(d,R){throw new Error("UnionDiscriminator is abstract")}encode(d,R,D){throw new Error("UnionDiscriminator is abstract")}}me.UnionDiscriminator=q;class K extends q{constructor(d,R){if(!(d instanceof u&&d.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(R||d.property||"variant"),this.layout=d}decode(d,R){return this.layout.decode(d,R)}encode(d,R,D){return this.layout.encode(d,R,D)}}me.UnionLayoutDiscriminator=K;class V extends r{constructor(d,R,D){let H;if(d instanceof w||d instanceof b)H=new K(new p(d));else if(d instanceof u&&d.isCount())H=new K(d);else if(d instanceof q)H=d;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(R===void 0&&(R=null),!(R===null||R instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(R!==null){if(0>R.span)throw new Error("defaultLayout must have constant span");R.property===void 0&&(R=R.replicate("content"))}let ee=-1;R&&(ee=R.span,0<=ee&&(d instanceof w||d instanceof b)&&(ee+=H.layout.span)),super(ee,D),this.discriminator=H,this.usesPrefixDiscriminator=d instanceof w||d instanceof b,this.defaultLayout=R,this.registry={};let oe=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(fe){return oe(fe)},this.configGetSourceVariant=function(fe){oe=fe.bind(this)}}getSpan(d,R=0){if(0<=this.span)return this.span;const D=this.getVariant(d,R);if(!D)throw new Error("unable to determine span for unrecognized variant");return D.getSpan(d,R)}defaultGetSourceVariant(d){if(Object.prototype.hasOwnProperty.call(d,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(d,this.defaultLayout.property))return;const R=this.registry[d[this.discriminator.property]];if(R&&(!R.layout||R.property&&Object.prototype.hasOwnProperty.call(d,R.property)))return R}else for(const R in this.registry){const D=this.registry[R];if(D.property&&Object.prototype.hasOwnProperty.call(d,D.property))return D}throw new Error("unable to infer src variant")}decode(d,R=0){let D;const H=this.discriminator,ee=H.decode(d,R),oe=this.registry[ee];if(oe===void 0){const fe=this.defaultLayout;let Ue=0;this.usesPrefixDiscriminator&&(Ue=H.layout.span),D=this.makeDestinationObject(),D[H.property]=ee,D[fe.property]=fe.decode(d,R+Ue)}else D=oe.decode(d,R);return D}encode(d,R,D=0){const H=this.getSourceVariant(d);if(H===void 0){const ee=this.discriminator,oe=this.defaultLayout;let fe=0;return this.usesPrefixDiscriminator&&(fe=ee.layout.span),ee.encode(d[ee.property],R,D),fe+oe.encode(d[oe.property],R,D+fe)}return H.encode(d,R,D)}addVariant(d,R,D){const H=new S(this,d,R,D);return this.registry[d]=H,H}getVariant(d,R=0){let D;return d instanceof Uint8Array?D=this.discriminator.decode(d,R):D=d,this.registry[D]}}me.Union=V;class S extends r{constructor(d,R,D,H){if(!(d instanceof V))throw new TypeError("union must be a Union");if(!Number.isInteger(R)||0>R)throw new TypeError("variant must be a (non-negative) integer");if(typeof D=="string"&&H===void 0&&(H=D,D=null),D){if(!(D instanceof r))throw new TypeError("layout must be a Layout");if(d.defaultLayout!==null&&0<=D.span&&D.span>d.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof H!="string")throw new TypeError("variant must have a String property")}let ee=d.span;0>d.span&&(ee=D?D.span:0,0<=ee&&d.usesPrefixDiscriminator&&(ee+=d.discriminator.layout.span)),super(ee,H),this.union=d,this.variant=R,this.layout=D||null}getSpan(d,R=0){if(0<=this.span)return this.span;let D=0;this.union.usesPrefixDiscriminator&&(D=this.union.discriminator.layout.span);let H=0;return this.layout&&(H=this.layout.getSpan(d,R+D)),D+H}decode(d,R=0){const D=this.makeDestinationObject();if(this!==this.union.getVariant(d,R))throw new Error("variant mismatch");let H=0;return this.union.usesPrefixDiscriminator&&(H=this.union.discriminator.layout.span),this.layout?D[this.property]=this.layout.decode(d,R+H):this.property?D[this.property]=!0:this.union.usesPrefixDiscriminator&&(D[this.union.discriminator.property]=this.variant),D}encode(d,R,D=0){let H=0;if(this.union.usesPrefixDiscriminator&&(H=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(d,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,R,D);let ee=H;if(this.layout&&(this.layout.encode(d[this.property],R,D+H),ee+=this.layout.getSpan(R,D+H),0<=this.union.span&&ee>this.union.span))throw new Error("encoded variant overruns containing union");return ee}fromArray(d){if(this.layout)return this.layout.fromArray(d)}}me.VariantLayout=S;function a(c){return 0>c&&(c+=4294967296),c}class h extends r{constructor(d,R,D){if(!(d instanceof w||d instanceof b))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof R=="string"&&D===void 0&&(D=R,R=!1),4<d.span)throw new RangeError("word cannot exceed 32 bits");super(d.span,D),this.word=d,this.msb=!!R,this.fields=[];let H=0;this._packedSetValue=function(ee){return H=a(ee),this},this._packedGetValue=function(){return H}}decode(d,R=0){const D=this.makeDestinationObject(),H=this.word.decode(d,R);this._packedSetValue(H);for(const ee of this.fields)ee.property!==void 0&&(D[ee.property]=ee.decode(d));return D}encode(d,R,D=0){const H=this.word.decode(R,D);this._packedSetValue(H);for(const ee of this.fields)if(ee.property!==void 0){const oe=d[ee.property];oe!==void 0&&ee.encode(oe)}return this.word.encode(this._packedGetValue(),R,D)}addField(d,R){const D=new m(this,d,R);return this.fields.push(D),D}addBoolean(d){const R=new E(this,d);return this.fields.push(R),R}fieldFor(d){if(typeof d!="string")throw new TypeError("property must be string");for(const R of this.fields)if(R.property===d)return R}}me.BitStructure=h;class m{constructor(d,R,D){if(!(d instanceof h))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(R)||0>=R)throw new TypeError("bits must be positive integer");const H=8*d.span,ee=d.fields.reduce((oe,fe)=>oe+fe.bits,0);if(R+ee>H)throw new Error("bits too long for span remainder ("+(H-ee)+" of "+H+" remain)");this.container=d,this.bits=R,this.valueMask=(1<<R)-1,R===32&&(this.valueMask=4294967295),this.start=ee,this.container.msb&&(this.start=H-ee-R),this.wordMask=a(this.valueMask<<this.start),this.property=D}decode(d,R){const D=this.container._packedGetValue();return a(D&this.wordMask)>>>this.start}encode(d){if(typeof d!="number"||!Number.isInteger(d)||d!==a(d&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const R=this.container._packedGetValue(),D=a(d<<this.start);this.container._packedSetValue(a(R&~this.wordMask)|D)}}me.BitField=m;class E extends m{constructor(d,R){super(d,1,R)}decode(d,R){return!!super.decode(d,R)}encode(d){typeof d=="boolean"&&(d=+d),super.encode(d)}}me.Boolean=E;class A extends r{constructor(d,R){if(!(d instanceof u&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let D=-1;d instanceof u||(D=d),super(D,R),this.length=d}getSpan(d,R){let D=this.span;return 0>D&&(D=this.length.decode(d,R)),D}decode(d,R=0){let D=this.span;return 0>D&&(D=this.length.decode(d,R)),e(d).slice(R,R+D)}encode(d,R,D){let H=this.length;if(this.length instanceof u&&(H=d.length),!(d instanceof Uint8Array&&H===d.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+H+") Uint8Array as src");if(D+H>R.length)throw new RangeError("encoding overruns Uint8Array");const ee=e(d);return e(R).write(ee.toString("hex"),D,H,"hex"),this.length instanceof u&&this.length.encode(H,R,D),H}}me.Blob=A;class I extends r{constructor(d){super(-1,d)}getSpan(d,R=0){t(d);let D=R;for(;D<d.length&&d[D]!==0;)D+=1;return 1+D-R}decode(d,R=0){const D=this.getSpan(d,R);return e(d).slice(R,R+D-1).toString("utf-8")}encode(d,R,D=0){typeof d!="string"&&(d=String(d));const H=n.Buffer.from(d,"utf8"),ee=H.length;if(D+ee>R.length)throw new RangeError("encoding overruns Buffer");const oe=e(R);return H.copy(oe,D),oe[D+ee]=0,ee+1}}me.CString=I;class k extends r{constructor(d,R){if(typeof d=="string"&&R===void 0&&(R=d,d=void 0),d===void 0)d=-1;else if(!Number.isInteger(d))throw new TypeError("maxSpan must be an integer");super(-1,R),this.maxSpan=d}getSpan(d,R=0){return t(d),d.length-R}decode(d,R=0){const D=this.getSpan(d,R);if(0<=this.maxSpan&&this.maxSpan<D)throw new RangeError("text length exceeds maxSpan");return e(d).slice(R,R+D).toString("utf-8")}encode(d,R,D=0){typeof d!="string"&&(d=String(d));const H=n.Buffer.from(d,"utf8"),ee=H.length;if(0<=this.maxSpan&&this.maxSpan<ee)throw new RangeError("text length exceeds maxSpan");if(D+ee>R.length)throw new RangeError("encoding overruns Buffer");return H.copy(e(R),D),ee}}me.UTF8=k;class g extends r{constructor(d,R){super(0,R),this.value=d}decode(d,R){return this.value}encode(d,R,D){return 0}}return me.Constant=g,me.greedy=(c,d)=>new f(c,d),me.offset=(c,d,R)=>new p(c,d,R),me.u8=c=>new w(1,c),me.u16=c=>new w(2,c),me.u24=c=>new w(3,c),me.u32=c=>new w(4,c),me.u40=c=>new w(5,c),me.u48=c=>new w(6,c),me.nu64=c=>new N(c),me.u16be=c=>new b(2,c),me.u24be=c=>new b(3,c),me.u32be=c=>new b(4,c),me.u40be=c=>new b(5,c),me.u48be=c=>new b(6,c),me.nu64be=c=>new $(c),me.s8=c=>new T(1,c),me.s16=c=>new T(2,c),me.s24=c=>new T(3,c),me.s32=c=>new T(4,c),me.s40=c=>new T(5,c),me.s48=c=>new T(6,c),me.ns64=c=>new j(c),me.s16be=c=>new B(2,c),me.s24be=c=>new B(3,c),me.s32be=c=>new B(4,c),me.s40be=c=>new B(5,c),me.s48be=c=>new B(6,c),me.ns64be=c=>new F(c),me.f32=c=>new Y(c),me.f32be=c=>new J(c),me.f64=c=>new X(c),me.f64be=c=>new te(c),me.struct=(c,d,R)=>new W(c,d,R),me.bits=(c,d,R)=>new h(c,d,R),me.seq=(c,d,R)=>new re(c,d,R),me.union=(c,d,R)=>new V(c,d,R),me.unionLayoutDiscriminator=(c,d)=>new K(c,d),me.blob=(c,d)=>new A(c,d),me.cstr=c=>new I(c),me.utf8=(c,d)=>new k(c,d),me.constant=(c,d)=>new g(c,d),me}var se=FN(),wa={},jb;function $N(){if(jb)return wa;jb=1,Object.defineProperty(wa,"__esModule",{value:!0});function n(s){{const i=Buffer.from(s);i.reverse();const u=i.toString("hex");return u.length===0?BigInt(0):BigInt(`0x${u}`)}}wa.toBigIntLE=n;function t(s){{const i=s.toString("hex");return i.length===0?BigInt(0):BigInt(`0x${i}`)}}wa.toBigIntBE=t;function e(s,i){{const u=s.toString(16),f=Buffer.from(u.padStart(i*2,"0").slice(0,i*2),"hex");return f.reverse(),f}}wa.toBufferLE=e;function r(s,i){{const u=s.toString(16);return Buffer.from(u.padStart(i*2,"0").slice(0,i*2),"hex")}}return wa.toBufferBE=r,wa}var xm=$N();let jN=class extends TypeError{constructor(t,e){let r;const{message:s,explanation:i,...u}=t,{path:f}=t,p=f.length===0?s:`At path: ${f.join(".")} -- ${s}`;super(i??p),i!=null&&(this.cause=p),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}};function HN(n){return Jl(n)&&typeof n[Symbol.iterator]=="function"}function Jl(n){return typeof n=="object"&&n!=null}function vd(n){return Jl(n)&&!Array.isArray(n)}function rs(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function WN(n){const{done:t,value:e}=n.next();return t?void 0:e}function qN(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=t,{type:u}=e,{refinement:f,message:p=`Expected a value of type \`${u}\`${f?` with refinement \`${f}\``:""}, but received: \`${rs(r)}\``}=n;return{value:r,type:u,refinement:f,key:s[s.length-1],path:s,branch:i,...n,message:p}}function*Hb(n,t,e,r){HN(n)||(n=[n]);for(const s of n){const i=qN(s,t,e,r);i&&(yield i)}}function*z1(n,t,e={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:u=!1}=e,f={path:r,branch:s,mask:u};i&&(n=t.coercer(n,f));let p="valid";for(const w of t.validator(n,f))w.explanation=e.message,p="not_valid",yield[w,void 0];for(let[w,b,T]of t.entries(n,f)){const B=z1(b,T,{path:w===void 0?r:[...r,w],branch:w===void 0?s:[...s,b],coerce:i,mask:u,message:e.message});for(const M of B)M[0]?(p=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):i&&(b=M[1],w===void 0?n=b:n instanceof Map?n.set(w,b):n instanceof Set?n.add(b):Jl(n)&&(b!==void 0||w in n)&&(n[w]=b))}if(p!=="not_valid")for(const w of t.refiner(n,f))w.explanation=e.message,p="not_refined",yield[w,void 0];p==="valid"&&(yield[void 0,n])}let Rs=class{constructor(t){const{type:e,schema:r,validator:s,refiner:i,coercer:u=p=>p,entries:f=function*(){}}=t;this.type=e,this.schema=r,this.entries=f,this.coercer=u,s?this.validator=(p,w)=>{const b=s(p,w);return Hb(b,w,this,p)}:this.validator=()=>[],i?this.refiner=(p,w)=>{const b=i(p,w);return Hb(b,w,this,p)}:this.refiner=()=>[]}assert(t,e){return Yx(t,this,e)}create(t,e){return je(t,this,e)}is(t){return Qx(t,this)}mask(t,e){return KN(t,this,e)}validate(t,e={}){return Xl(t,this,e)}};function Yx(n,t,e){const r=Xl(n,t,{message:e});if(r[0])throw r[0]}function je(n,t,e){const r=Xl(n,t,{coerce:!0,message:e});if(r[0])throw r[0];return r[1]}function KN(n,t,e){const r=Xl(n,t,{coerce:!0,mask:!0,message:e});if(r[0])throw r[0];return r[1]}function Qx(n,t){return!Xl(n,t)[0]}function Xl(n,t,e={}){const r=z1(n,t,e),s=WN(r);return s[0]?[new jN(s[0],function*(){for(const u of r)u[0]&&(yield u[0])}),void 0]:[void 0,s[1]]}function Ga(n,t){return new Rs({type:n,schema:null,validator:t})}function VN(){return Ga("any",()=>!0)}function Ve(n){return new Rs({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${rs(t)}`}})}function As(){return Ga("boolean",n=>typeof n=="boolean")}function F1(n){return Ga("instance",t=>t instanceof n||`Expected a \`${n.name}\` instance, but received: ${rs(t)}`)}function An(n){const t=rs(n),e=typeof n;return new Rs({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${t}\`, but received: ${rs(r)}`}})}function GN(){return Ga("never",()=>!1)}function Ze(n){return new Rs({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function de(){return Ga("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${rs(n)}`)}function Rt(n){return new Rs({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function Jx(n,t){return new Rs({type:"record",schema:null,*entries(e){if(Jl(e))for(const r in e){const s=e[r];yield[r,r,n],yield[r,s,t]}},validator(e){return vd(e)||`Expected an object, but received: ${rs(e)}`},coercer(e){return vd(e)?{...e}:e}})}function Pe(){return Ga("string",n=>typeof n=="string"||`Expected a string, but received: ${rs(n)}`)}function $1(n){const t=GN();return new Rs({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let s=0;s<r;s++)yield[s,e[s],n[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${rs(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function Ie(n){const t=Object.keys(n);return new Rs({type:"type",schema:n,*entries(e){if(Jl(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return vd(e)||`Expected an object, but received: ${rs(e)}`},coercer(e){return vd(e)?{...e}:e}})}function Fr(n){const t=n.map(e=>e.type).join(" | ");return new Rs({type:"union",schema:null,coercer(e,r){for(const s of n){const[i,u]=s.validate(e,{coerce:!0,mask:r.mask});if(!i)return u}return e},validator(e,r){const s=[];for(const i of n){const[...u]=z1(e,i,r),[f]=u;if(f[0])for(const[p]of u)p&&s.push(p);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${rs(e)}`,...s]}})}function hc(){return Ga("unknown",()=>!0)}function ef(n,t,e){return new Rs({...n,coercer:(r,s)=>Qx(r,t)?n.coercer(e(r,s),s):n.coercer(r,s)})}var kh,ZN=new Uint8Array(16);function Xx(){if(!kh&&(kh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!kh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kh(ZN)}const YN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vd(n){return typeof n=="string"&&YN.test(n)}var hr=[];for(var Ag=0;Ag<256;++Ag)hr.push((Ag+256).toString(16).substr(1));function Gd(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(hr[n[t+0]]+hr[n[t+1]]+hr[n[t+2]]+hr[n[t+3]]+"-"+hr[n[t+4]]+hr[n[t+5]]+"-"+hr[n[t+6]]+hr[n[t+7]]+"-"+hr[n[t+8]]+hr[n[t+9]]+"-"+hr[n[t+10]]+hr[n[t+11]]+hr[n[t+12]]+hr[n[t+13]]+hr[n[t+14]]+hr[n[t+15]]).toLowerCase();if(!Vd(e))throw TypeError("Stringified UUID is invalid");return e}var Wb,Ig,Mg=0,Rg=0;function QN(n,t,e){var r=t&&e||0,s=t||new Array(16);n=n||{};var i=n.node||Wb,u=n.clockseq!==void 0?n.clockseq:Ig;if(i==null||u==null){var f=n.random||(n.rng||Xx)();i==null&&(i=Wb=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),u==null&&(u=Ig=(f[6]<<8|f[7])&16383)}var p=n.msecs!==void 0?n.msecs:Date.now(),w=n.nsecs!==void 0?n.nsecs:Rg+1,b=p-Mg+(w-Rg)/1e4;if(b<0&&n.clockseq===void 0&&(u=u+1&16383),(b<0||p>Mg)&&n.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Mg=p,Rg=w,Ig=u,p+=122192928e5;var T=((p&268435455)*1e4+w)%4294967296;s[r++]=T>>>24&255,s[r++]=T>>>16&255,s[r++]=T>>>8&255,s[r++]=T&255;var B=p/4294967296*1e4&268435455;s[r++]=B>>>8&255,s[r++]=B&255,s[r++]=B>>>24&15|16,s[r++]=B>>>16&255,s[r++]=u>>>8|128,s[r++]=u&255;for(var M=0;M<6;++M)s[r+M]=i[M];return t||Gd(s)}function ek(n){if(!Vd(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function JN(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var XN="6ba7b810-9dad-11d1-80b4-00c04fd430c8",eB="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function tk(n,t,e){function r(s,i,u,f){if(typeof s=="string"&&(s=JN(s)),typeof i=="string"&&(i=ek(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+s.length);if(p.set(i),p.set(s,i.length),p=e(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,u){f=f||0;for(var w=0;w<16;++w)u[f+w]=p[w];return u}return Gd(p)}try{r.name=n}catch{}return r.DNS=XN,r.URL=eB,r}function tB(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return nB(rB(iB(n),n.length*8))}function nB(n){for(var t=[],e=n.length*32,r="0123456789abcdef",s=0;s<e;s+=8){var i=n[s>>5]>>>s%32&255,u=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(u)}return t}function nk(n){return(n+64>>>9<<4)+14+1}function rB(n,t){n[t>>5]|=128<<t%32,n[nk(t)-1]=t;for(var e=1732584193,r=-271733879,s=-1732584194,i=271733878,u=0;u<n.length;u+=16){var f=e,p=r,w=s,b=i;e=kr(e,r,s,i,n[u],7,-680876936),i=kr(i,e,r,s,n[u+1],12,-389564586),s=kr(s,i,e,r,n[u+2],17,606105819),r=kr(r,s,i,e,n[u+3],22,-1044525330),e=kr(e,r,s,i,n[u+4],7,-176418897),i=kr(i,e,r,s,n[u+5],12,1200080426),s=kr(s,i,e,r,n[u+6],17,-1473231341),r=kr(r,s,i,e,n[u+7],22,-45705983),e=kr(e,r,s,i,n[u+8],7,1770035416),i=kr(i,e,r,s,n[u+9],12,-1958414417),s=kr(s,i,e,r,n[u+10],17,-42063),r=kr(r,s,i,e,n[u+11],22,-1990404162),e=kr(e,r,s,i,n[u+12],7,1804603682),i=kr(i,e,r,s,n[u+13],12,-40341101),s=kr(s,i,e,r,n[u+14],17,-1502002290),r=kr(r,s,i,e,n[u+15],22,1236535329),e=Ar(e,r,s,i,n[u+1],5,-165796510),i=Ar(i,e,r,s,n[u+6],9,-1069501632),s=Ar(s,i,e,r,n[u+11],14,643717713),r=Ar(r,s,i,e,n[u],20,-373897302),e=Ar(e,r,s,i,n[u+5],5,-701558691),i=Ar(i,e,r,s,n[u+10],9,38016083),s=Ar(s,i,e,r,n[u+15],14,-660478335),r=Ar(r,s,i,e,n[u+4],20,-405537848),e=Ar(e,r,s,i,n[u+9],5,568446438),i=Ar(i,e,r,s,n[u+14],9,-1019803690),s=Ar(s,i,e,r,n[u+3],14,-187363961),r=Ar(r,s,i,e,n[u+8],20,1163531501),e=Ar(e,r,s,i,n[u+13],5,-1444681467),i=Ar(i,e,r,s,n[u+2],9,-51403784),s=Ar(s,i,e,r,n[u+7],14,1735328473),r=Ar(r,s,i,e,n[u+12],20,-1926607734),e=Ir(e,r,s,i,n[u+5],4,-378558),i=Ir(i,e,r,s,n[u+8],11,-2022574463),s=Ir(s,i,e,r,n[u+11],16,1839030562),r=Ir(r,s,i,e,n[u+14],23,-35309556),e=Ir(e,r,s,i,n[u+1],4,-1530992060),i=Ir(i,e,r,s,n[u+4],11,1272893353),s=Ir(s,i,e,r,n[u+7],16,-155497632),r=Ir(r,s,i,e,n[u+10],23,-1094730640),e=Ir(e,r,s,i,n[u+13],4,681279174),i=Ir(i,e,r,s,n[u],11,-358537222),s=Ir(s,i,e,r,n[u+3],16,-722521979),r=Ir(r,s,i,e,n[u+6],23,76029189),e=Ir(e,r,s,i,n[u+9],4,-640364487),i=Ir(i,e,r,s,n[u+12],11,-421815835),s=Ir(s,i,e,r,n[u+15],16,530742520),r=Ir(r,s,i,e,n[u+2],23,-995338651),e=Mr(e,r,s,i,n[u],6,-198630844),i=Mr(i,e,r,s,n[u+7],10,1126891415),s=Mr(s,i,e,r,n[u+14],15,-1416354905),r=Mr(r,s,i,e,n[u+5],21,-57434055),e=Mr(e,r,s,i,n[u+12],6,1700485571),i=Mr(i,e,r,s,n[u+3],10,-1894986606),s=Mr(s,i,e,r,n[u+10],15,-1051523),r=Mr(r,s,i,e,n[u+1],21,-2054922799),e=Mr(e,r,s,i,n[u+8],6,1873313359),i=Mr(i,e,r,s,n[u+15],10,-30611744),s=Mr(s,i,e,r,n[u+6],15,-1560198380),r=Mr(r,s,i,e,n[u+13],21,1309151649),e=Mr(e,r,s,i,n[u+4],6,-145523070),i=Mr(i,e,r,s,n[u+11],10,-1120210379),s=Mr(s,i,e,r,n[u+2],15,718787259),r=Mr(r,s,i,e,n[u+9],21,-343485551),e=$o(e,f),r=$o(r,p),s=$o(s,w),i=$o(i,b)}return[e,r,s,i]}function iB(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(nk(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function $o(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function sB(n,t){return n<<t|n>>>32-t}function Zd(n,t,e,r,s,i){return $o(sB($o($o(t,n),$o(r,i)),s),e)}function kr(n,t,e,r,s,i,u){return Zd(t&e|~t&r,n,t,s,i,u)}function Ar(n,t,e,r,s,i,u){return Zd(t&r|e&~r,n,t,s,i,u)}function Ir(n,t,e,r,s,i,u){return Zd(t^e^r,n,t,s,i,u)}function Mr(n,t,e,r,s,i,u){return Zd(e^(t|~r),n,t,s,i,u)}var oB=tk("v3",48,tB);function aB(n,t,e){n=n||{};var r=n.random||(n.rng||Xx)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=r[s];return t}return Gd(r)}function uB(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function Tg(n,t){return n<<t|n>>>32-t}function cB(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,u=Math.ceil(i/16),f=new Array(u),p=0;p<u;++p){for(var w=new Uint32Array(16),b=0;b<16;++b)w[b]=n[p*64+b*4]<<24|n[p*64+b*4+1]<<16|n[p*64+b*4+2]<<8|n[p*64+b*4+3];f[p]=w}f[u-1][14]=(n.length-1)*8/Math.pow(2,32),f[u-1][14]=Math.floor(f[u-1][14]),f[u-1][15]=(n.length-1)*8&4294967295;for(var T=0;T<u;++T){for(var B=new Uint32Array(80),M=0;M<16;++M)B[M]=f[T][M];for(var O=16;O<80;++O)B[O]=Tg(B[O-3]^B[O-8]^B[O-14]^B[O-16],1);for(var P=e[0],N=e[1],$=e[2],j=e[3],F=e[4],Y=0;Y<80;++Y){var J=Math.floor(Y/20),X=Tg(P,5)+uB(J,N,$,j)+F+t[J]+B[Y]>>>0;F=j,j=$,$=Tg(N,30)>>>0,N=P,P=X}e[0]=e[0]+P>>>0,e[1]=e[1]+N>>>0,e[2]=e[2]+$>>>0,e[3]=e[3]+j>>>0,e[4]=e[4]+F>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var lB=tk("v5",80,cB);const fB="00000000-0000-0000-0000-000000000000";function hB(n){if(!Vd(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const dB=Object.freeze(Object.defineProperty({__proto__:null,NIL:fB,parse:ek,stringify:Gd,v1:QN,v3:oB,v4:aB,v5:lB,validate:Vd,version:hB},Symbol.toStringTag,{value:"Module"})),rk=oc(dB);var Ng,qb;function pB(){if(qb)return Ng;qb=1;const n=rk.v4;return Ng=function(e,r,s,i){if(typeof e!="string")throw new TypeError(e+" must be a string");i=i||{};const u=typeof i.version=="number"?i.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const f={method:e};if(u===2&&(f.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");f.params=r}if(typeof s>"u"){const p=typeof i.generator=="function"?i.generator:function(){return n()};f.id=p(f,i)}else u===2&&s===null?i.notificationIdNull&&(f.id=null):f.id=s;return f},Ng}var Bg,Kb;function gB(){if(Kb)return Bg;Kb=1;const n=rk.v4,t=pB(),e=function(r,s){if(!(this instanceof e))return new e(r,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return n()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=r};return Bg=e,e.prototype.request=function(r,s,i,u){const f=this;let p=null;const w=Array.isArray(r)&&typeof s=="function";if(this.options.version===1&&w)throw new TypeError("JSON-RPC 1.0 does not support batching");if(w||!w&&r&&typeof r=="object"&&typeof s=="function")u=s,p=r;else{typeof i=="function"&&(u=i,i=void 0);const B=typeof u=="function";try{p=t(r,s,i,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(M){if(B)return u(M);throw M}if(!B)return p}let T;try{T=JSON.stringify(p,this.options.replacer)}catch(B){return u(B)}return this.callServer(T,function(B,M){f._parseResponse(B,M,u)}),p},e.prototype._parseResponse=function(r,s,i){if(r){i(r);return}if(!s)return i();let u;try{u=JSON.parse(s,this.options.reviver)}catch(f){return i(f)}if(i.length===3)if(Array.isArray(u)){const f=function(w){return typeof w.error<"u"},p=function(w){return!f(w)};return i(null,u.filter(f),u.filter(p))}else return i(null,u.error,u.result);i(null,u)},Bg}var yB=gB();const mB=ss(yB);var Cg={exports:{}},Vb;function wB(){return Vb||(Vb=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(p,w,b){this.fn=p,this.context=w,this.once=b||!1}function i(p,w,b,T,B){if(typeof b!="function")throw new TypeError("The listener must be a function");var M=new s(b,T||p,B),O=e?e+w:w;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],M]:p._events[O].push(M):(p._events[O]=M,p._eventsCount++),p}function u(p,w){--p._eventsCount===0?p._events=new r:delete p._events[w]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var w=[],b,T;if(this._eventsCount===0)return w;for(T in b=this._events)t.call(b,T)&&w.push(e?T.slice(1):T);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(b)):w},f.prototype.listeners=function(w){var b=e?e+w:w,T=this._events[b];if(!T)return[];if(T.fn)return[T.fn];for(var B=0,M=T.length,O=new Array(M);B<M;B++)O[B]=T[B].fn;return O},f.prototype.listenerCount=function(w){var b=e?e+w:w,T=this._events[b];return T?T.fn?1:T.length:0},f.prototype.emit=function(w,b,T,B,M,O){var P=e?e+w:w;if(!this._events[P])return!1;var N=this._events[P],$=arguments.length,j,F;if(N.fn){switch(N.once&&this.removeListener(w,N.fn,void 0,!0),$){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,b),!0;case 3:return N.fn.call(N.context,b,T),!0;case 4:return N.fn.call(N.context,b,T,B),!0;case 5:return N.fn.call(N.context,b,T,B,M),!0;case 6:return N.fn.call(N.context,b,T,B,M,O),!0}for(F=1,j=new Array($-1);F<$;F++)j[F-1]=arguments[F];N.fn.apply(N.context,j)}else{var Y=N.length,J;for(F=0;F<Y;F++)switch(N[F].once&&this.removeListener(w,N[F].fn,void 0,!0),$){case 1:N[F].fn.call(N[F].context);break;case 2:N[F].fn.call(N[F].context,b);break;case 3:N[F].fn.call(N[F].context,b,T);break;case 4:N[F].fn.call(N[F].context,b,T,B);break;default:if(!j)for(J=1,j=new Array($-1);J<$;J++)j[J-1]=arguments[J];N[F].fn.apply(N[F].context,j)}}return!0},f.prototype.on=function(w,b,T){return i(this,w,b,T,!1)},f.prototype.once=function(w,b,T){return i(this,w,b,T,!0)},f.prototype.removeListener=function(w,b,T,B){var M=e?e+w:w;if(!this._events[M])return this;if(!b)return u(this,M),this;var O=this._events[M];if(O.fn)O.fn===b&&(!B||O.once)&&(!T||O.context===T)&&u(this,M);else{for(var P=0,N=[],$=O.length;P<$;P++)(O[P].fn!==b||B&&!O[P].once||T&&O[P].context!==T)&&N.push(O[P]);N.length?this._events[M]=N.length===1?N[0]:N:u(this,M)}return this},f.prototype.removeAllListeners=function(w){var b;return w?(b=e?e+w:w,this._events[b]&&u(this,b)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,n.exports=f}(Cg)),Cg.exports}var vB=wB();const ik=ss(vB);var _B=class extends ik{constructor(e,r,s){super();Ht(this,"socket");this.socket=new window.WebSocket(e,s),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,r,s){const i=s||r;try{this.socket.send(e),i()}catch(u){i(u)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,s){this.socket.addEventListener(e,r,s)}};function bB(n,t){return new _B(n,t)}var EB=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},SB=class extends ik{constructor(e,r="ws://localhost:8080",{autoconnect:s=!0,reconnect:i=!0,reconnect_interval:u=1e3,max_reconnects:f=5,...p}={},w,b){super();Ht(this,"address");Ht(this,"rpc_id");Ht(this,"queue");Ht(this,"options");Ht(this,"autoconnect");Ht(this,"ready");Ht(this,"reconnect");Ht(this,"reconnect_timer_id");Ht(this,"reconnect_interval");Ht(this,"max_reconnects");Ht(this,"rest_options");Ht(this,"current_reconnects");Ht(this,"generate_request_id");Ht(this,"socket");Ht(this,"webSocketFactory");Ht(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=s,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=u,this.max_reconnects=f,this.rest_options=p,this.current_reconnects=0,this.generate_request_id=w||(()=>++this.rpc_id),b?this.dataPack=b:this.dataPack=new EB,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,s,i){return!i&&typeof s=="object"&&(i=s,s=null),new Promise((u,f)=>{if(!this.ready)return f(new Error("socket not ready"));const p=this.generate_request_id(e,r),w={jsonrpc:"2.0",method:e,params:r||void 0,id:p};this.socket.send(this.dataPack.encode(w),i,b=>{if(b)return f(b);this.queue[p]={promise:[u,f]},s&&(this.queue[p].timeout=setTimeout(()=>{delete this.queue[p],f(new Error("reply timeout"))},s))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));const u={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(u),f=>{if(f)return i(f);s()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:s})=>{s instanceof ArrayBuffer&&(s=Nt.Buffer.from(s).toString());try{s=this.dataPack.decode(s)}catch{return}if(s.notification&&this.listeners(s.notification).length){if(!Object.keys(s.params).length)return this.emit(s.notification);const i=[s.notification];if(s.params.constructor===Object)i.push(s.params);else for(let u=0;u<s.params.length;u++)i.push(s.params[u]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[s.id])return s.method?Promise.resolve().then(()=>{this.emit(s.method,s==null?void 0:s.params)}):void 0;"error"in s=="result"in s&&this.queue[s.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[s.id].timeout&&clearTimeout(this.queue[s.id].timeout),s.error?this.queue[s.id].promise[1](s.error):this.queue[s.id].promise[0](s.result),delete this.queue[s.id]}),this.socket.addEventListener("error",s=>this.emit("error",s)),this.socket.addEventListener("close",({code:s,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",s,i),0),this.ready=!1,this.socket=void 0,s!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const sk=[],ok=[],ak=[],xB=BigInt(0),sl=BigInt(1),kB=BigInt(2),AB=BigInt(7),IB=BigInt(256),MB=BigInt(113);for(let n=0,t=sl,e=1,r=0;n<24;n++){[e,r]=[r,(2*e+3*r)%5],sk.push(2*(5*r+e)),ok.push((n+1)*(n+2)/2%64);let s=xB;for(let i=0;i<7;i++)t=(t<<sl^(t>>AB)*MB)%IB,t&kB&&(s^=sl<<(sl<<BigInt(i))-sl);ak.push(s)}const[RB,TB]=Ox(ak,!0),Gb=(n,t,e)=>e>32?Ux(n,t,e):Px(n,t,e),Zb=(n,t,e)=>e>32?zx(n,t,e):Dx(n,t,e);function NB(n,t=24){const e=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let u=0;u<10;u++)e[u]=n[u]^n[u+10]^n[u+20]^n[u+30]^n[u+40];for(let u=0;u<10;u+=2){const f=(u+8)%10,p=(u+2)%10,w=e[p],b=e[p+1],T=Gb(w,b,1)^e[f],B=Zb(w,b,1)^e[f+1];for(let M=0;M<50;M+=10)n[u+M]^=T,n[u+M+1]^=B}let s=n[2],i=n[3];for(let u=0;u<24;u++){const f=ok[u],p=Gb(s,i,f),w=Zb(s,i,f),b=sk[u];s=n[b],i=n[b+1],n[b]=p,n[b+1]=w}for(let u=0;u<50;u+=10){for(let f=0;f<10;f++)e[f]=n[u+f];for(let f=0;f<10;f++)n[u+f]^=~e[(f+2)%10]&e[(f+4)%10]}n[0]^=RB[r],n[1]^=TB[r]}e.fill(0)}class j1 extends T1{constructor(t,e,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,dd(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=m4(this.state)}keccak(){Ib||Mb(this.state32),NB(this.state32,this.rounds),Ib||Mb(this.state32),this.posOut=0,this.pos=0}update(t){Vu(this);const{blockLen:e,state:r}=this;t=$d(t);const s=t.length;for(let i=0;i<s;){const u=Math.min(e-this.pos,s-i);for(let f=0;f<u;f++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,e&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Vu(this,!1),Yl(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const u=Math.min(r-this.posOut,i-s);t.set(e.subarray(this.posOut,this.posOut+u),s),this.posOut+=u,s+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return dd(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Nx(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:i,enableXOF:u}=this;return t||(t=new j1(e,r,s,u,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=u,t.destroyed=this.destroyed,t}}const BB=(n,t,e)=>N1(()=>new j1(t,n,e)),Yb=BB(1,136,256/8);let uk=class extends T1{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,y4(t);const r=$d(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let u=0;u<i.length;u++)i[u]^=54;this.iHash.update(i),this.oHash=t.create();for(let u=0;u<i.length;u++)i[u]^=106;this.oHash.update(i),i.fill(0)}update(t){return Vu(this),this.iHash.update(t),this}digestInto(t){Vu(this),Yl(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:i,blockLen:u,outputLen:f}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=u,t.outputLen=f,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ck=(n,t,e)=>new uk(n,t).update(e).digest();ck.create=(n,t)=>new uk(n,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qb(n){n.lowS!==void 0&&no("lowS",n.lowS),n.prehash!==void 0&&no("prehash",n.prehash)}function CB(n){const t=L1(n);lc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:r,a:s}=t;if(e){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:LB,hexToBytes:OB}=X4;let PB=class extends Error{constructor(t=""){super(t)}};const Hs={Err:PB,_tlv:{encode:(n,t)=>{const{Err:e}=Hs;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const r=t.length/2,s=Cu(r);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=r>127?Cu(s.length/2|128):"";return Cu(n)+i+s+t},decode(n,t){const{Err:e}=Hs;let r=0;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[r++]!==n)throw new e("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let u=0;if(!i)u=s;else{const p=s&127;if(!p)throw new e("tlv.decode(long): indefinite length not supported");if(p>4)throw new e("tlv.decode(long): byte length is too big");const w=t.subarray(r,r+p);if(w.length!==p)throw new e("tlv.decode: length bytes not complete");if(w[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const b of w)u=u<<8|b;if(r+=p,u<128)throw new e("tlv.decode(long): not minimal encoding")}const f=t.subarray(r,r+u);if(f.length!==u)throw new e("tlv.decode: wrong value length");return{v:f,l:t.subarray(r+u)}}},_int:{encode(n){const{Err:t}=Hs;if(n<Gs)throw new t("integer: negative integers are not allowed");let e=Cu(n);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(n){const{Err:t}=Hs;if(n[0]&128)throw new t("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return LB(n)}},toSig(n){const{Err:t,_int:e,_tlv:r}=Hs,s=typeof n=="string"?OB(n):n;Ql(s);const{v:i,l:u}=r.decode(48,s);if(u.length)throw new t("invalid signature: left bytes after parsing");const{v:f,l:p}=r.decode(2,i),{v:w,l:b}=r.decode(2,p);if(b.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(f),s:e.decode(w)}},hexFromSig(n){const{_tlv:t,_int:e}=Hs,r=t.encode(2,e.encode(n.r)),s=t.encode(2,e.encode(n.s)),i=r+s;return t.encode(48,i)}},Gs=BigInt(0),nr=BigInt(1);BigInt(2);const Jb=BigInt(3);BigInt(4);function DB(n){const t=CB(n),{Fp:e}=t,r=qd(t.n,t.nBitLength),s=t.toBytes||((P,N,$)=>{const j=N.toAffine();return Fa(Uint8Array.from([4]),e.toBytes(j.x),e.toBytes(j.y))}),i=t.fromBytes||(P=>{const N=P.subarray(1),$=e.fromBytes(N.subarray(0,e.BYTES)),j=e.fromBytes(N.subarray(e.BYTES,2*e.BYTES));return{x:$,y:j}});function u(P){const{a:N,b:$}=t,j=e.sqr(P),F=e.mul(j,P);return e.add(e.add(F,e.mul(P,N)),$)}if(!e.eql(e.sqr(t.Gy),u(t.Gx)))throw new Error("bad generator point: equation left != right");function f(P){return Wd(P,nr,t.n)}function p(P){const{allowedPrivateKeyLengths:N,nByteLength:$,wrapPrivateKey:j,n:F}=t;if(N&&typeof P!="bigint"){if(Ua(P)&&(P=za(P)),typeof P!="string"||!N.includes(P.length))throw new Error("invalid private key");P=P.padStart($*2,"0")}let Y;try{Y=typeof P=="bigint"?P:Pa(Hn("private key",P,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof P)}return j&&(Y=bn(Y,F)),Di("private key",Y,nr,F),Y}function w(P){if(!(P instanceof B))throw new Error("ProjectivePoint expected")}const b=Il((P,N)=>{const{px:$,py:j,pz:F}=P;if(e.eql(F,e.ONE))return{x:$,y:j};const Y=P.is0();N==null&&(N=Y?e.ONE:e.inv(F));const J=e.mul($,N),X=e.mul(j,N),te=e.mul(F,N);if(Y)return{x:e.ZERO,y:e.ZERO};if(!e.eql(te,e.ONE))throw new Error("invZ was invalid");return{x:J,y:X}}),T=Il(P=>{if(P.is0()){if(t.allowInfinityPoint&&!e.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:N,y:$}=P.toAffine();if(!e.isValid(N)||!e.isValid($))throw new Error("bad point: x or y not FE");const j=e.sqr($),F=u(N);if(!e.eql(j,F))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class B{constructor(N,$,j){if(this.px=N,this.py=$,this.pz=j,N==null||!e.isValid(N))throw new Error("x required");if($==null||!e.isValid($))throw new Error("y required");if(j==null||!e.isValid(j))throw new Error("z required");Object.freeze(this)}static fromAffine(N){const{x:$,y:j}=N||{};if(!N||!e.isValid($)||!e.isValid(j))throw new Error("invalid affine point");if(N instanceof B)throw new Error("projective point not allowed");const F=Y=>e.eql(Y,e.ZERO);return F($)&&F(j)?B.ZERO:new B($,j,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const $=e.invertBatch(N.map(j=>j.pz));return N.map((j,F)=>j.toAffine($[F])).map(B.fromAffine)}static fromHex(N){const $=B.fromAffine(i(Hn("pointHex",N)));return $.assertValidity(),$}static fromPrivateKey(N){return B.BASE.multiply(p(N))}static msm(N,$){return Gx(B,r,N,$)}_setWindowSize(N){O.setWindowSize(this,N)}assertValidity(){T(this)}hasEvenY(){const{y:N}=this.toAffine();if(e.isOdd)return!e.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){w(N);const{px:$,py:j,pz:F}=this,{px:Y,py:J,pz:X}=N,te=e.eql(e.mul($,X),e.mul(Y,F)),re=e.eql(e.mul(j,X),e.mul(J,F));return te&&re}negate(){return new B(this.px,e.neg(this.py),this.pz)}double(){const{a:N,b:$}=t,j=e.mul($,Jb),{px:F,py:Y,pz:J}=this;let X=e.ZERO,te=e.ZERO,re=e.ZERO,W=e.mul(F,F),q=e.mul(Y,Y),K=e.mul(J,J),V=e.mul(F,Y);return V=e.add(V,V),re=e.mul(F,J),re=e.add(re,re),X=e.mul(N,re),te=e.mul(j,K),te=e.add(X,te),X=e.sub(q,te),te=e.add(q,te),te=e.mul(X,te),X=e.mul(V,X),re=e.mul(j,re),K=e.mul(N,K),V=e.sub(W,K),V=e.mul(N,V),V=e.add(V,re),re=e.add(W,W),W=e.add(re,W),W=e.add(W,K),W=e.mul(W,V),te=e.add(te,W),K=e.mul(Y,J),K=e.add(K,K),W=e.mul(K,V),X=e.sub(X,W),re=e.mul(K,q),re=e.add(re,re),re=e.add(re,re),new B(X,te,re)}add(N){w(N);const{px:$,py:j,pz:F}=this,{px:Y,py:J,pz:X}=N;let te=e.ZERO,re=e.ZERO,W=e.ZERO;const q=t.a,K=e.mul(t.b,Jb);let V=e.mul($,Y),S=e.mul(j,J),a=e.mul(F,X),h=e.add($,j),m=e.add(Y,J);h=e.mul(h,m),m=e.add(V,S),h=e.sub(h,m),m=e.add($,F);let E=e.add(Y,X);return m=e.mul(m,E),E=e.add(V,a),m=e.sub(m,E),E=e.add(j,F),te=e.add(J,X),E=e.mul(E,te),te=e.add(S,a),E=e.sub(E,te),W=e.mul(q,m),te=e.mul(K,a),W=e.add(te,W),te=e.sub(S,W),W=e.add(S,W),re=e.mul(te,W),S=e.add(V,V),S=e.add(S,V),a=e.mul(q,a),m=e.mul(K,m),S=e.add(S,a),a=e.sub(V,a),a=e.mul(q,a),m=e.add(m,a),V=e.mul(S,m),re=e.add(re,V),V=e.mul(E,m),te=e.mul(h,te),te=e.sub(te,V),V=e.mul(h,S),W=e.mul(E,W),W=e.add(W,V),new B(te,re,W)}subtract(N){return this.add(N.negate())}is0(){return this.equals(B.ZERO)}wNAF(N){return O.wNAFCached(this,N,B.normalizeZ)}multiplyUnsafe(N){const{endo:$,n:j}=t;Di("scalar",N,Gs,j);const F=B.ZERO;if(N===Gs)return F;if(this.is0()||N===nr)return this;if(!$||O.hasPrecomputes(this))return O.wNAFCachedUnsafe(this,N,B.normalizeZ);let{k1neg:Y,k1:J,k2neg:X,k2:te}=$.splitScalar(N),re=F,W=F,q=this;for(;J>Gs||te>Gs;)J&nr&&(re=re.add(q)),te&nr&&(W=W.add(q)),q=q.double(),J>>=nr,te>>=nr;return Y&&(re=re.negate()),X&&(W=W.negate()),W=new B(e.mul(W.px,$.beta),W.py,W.pz),re.add(W)}multiply(N){const{endo:$,n:j}=t;Di("scalar",N,nr,j);let F,Y;if($){const{k1neg:J,k1:X,k2neg:te,k2:re}=$.splitScalar(N);let{p:W,f:q}=this.wNAF(X),{p:K,f:V}=this.wNAF(re);W=O.constTimeNegate(J,W),K=O.constTimeNegate(te,K),K=new B(e.mul(K.px,$.beta),K.py,K.pz),F=W.add(K),Y=q.add(V)}else{const{p:J,f:X}=this.wNAF(N);F=J,Y=X}return B.normalizeZ([F,Y])[0]}multiplyAndAddUnsafe(N,$,j){const F=B.BASE,Y=(X,te)=>te===Gs||te===nr||!X.equals(F)?X.multiplyUnsafe(te):X.multiply(te),J=Y(this,$).add(Y(N,j));return J.is0()?void 0:J}toAffine(N){return b(this,N)}isTorsionFree(){const{h:N,isTorsionFree:$}=t;if(N===nr)return!0;if($)return $(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:$}=t;return N===nr?this:$?$(B,this):this.multiplyUnsafe(t.h)}toRawBytes(N=!0){return no("isCompressed",N),this.assertValidity(),s(B,this,N)}toHex(N=!0){return no("isCompressed",N),za(this.toRawBytes(N))}}B.BASE=new B(t.Gx,t.Gy,e.ONE),B.ZERO=new B(e.ZERO,e.ONE,e.ZERO);const M=t.nBitLength,O=Vx(B,t.endo?Math.ceil(M/2):M);return{CURVE:t,ProjectivePoint:B,normPrivateKeyToScalar:p,weierstrassEquation:u,isWithinCurveOrder:f}}function UB(n){const t=L1(n);return lc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function zB(n){const t=UB(n),{Fp:e,n:r}=t,s=e.BYTES+1,i=2*e.BYTES+1;function u(a){return bn(a,r)}function f(a){return Em(a,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:T}=DB({...t,toBytes(a,h,m){const E=h.toAffine(),A=e.toBytes(E.x),I=Fa;return no("isCompressed",m),m?I(Uint8Array.from([h.hasEvenY()?2:3]),A):I(Uint8Array.from([4]),A,e.toBytes(E.y))},fromBytes(a){const h=a.length,m=a[0],E=a.subarray(1);if(h===s&&(m===2||m===3)){const A=Pa(E);if(!Wd(A,nr,e.ORDER))throw new Error("Point is not on curve");const I=b(A);let k;try{k=e.sqrt(I)}catch(d){const R=d instanceof Error?": "+d.message:"";throw new Error("Point is not on curve"+R)}const g=(k&nr)===nr;return(m&1)===1!==g&&(k=e.neg(k)),{x:A,y:k}}else if(h===i&&m===4){const A=e.fromBytes(E.subarray(0,e.BYTES)),I=e.fromBytes(E.subarray(e.BYTES,2*e.BYTES));return{x:A,y:I}}else{const A=s,I=i;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+I+", got "+h)}}}),B=a=>za(Zu(a,t.nByteLength));function M(a){const h=r>>nr;return a>h}function O(a){return M(a)?u(-a):a}const P=(a,h,m)=>Pa(a.slice(h,m));class N{constructor(h,m,E){this.r=h,this.s=m,this.recovery=E,this.assertValidity()}static fromCompact(h){const m=t.nByteLength;return h=Hn("compactSignature",h,m*2),new N(P(h,0,m),P(h,m,2*m))}static fromDER(h){const{r:m,s:E}=Hs.toSig(Hn("DER",h));return new N(m,E)}assertValidity(){Di("r",this.r,nr,r),Di("s",this.s,nr,r)}addRecoveryBit(h){return new N(this.r,this.s,h)}recoverPublicKey(h){const{r:m,s:E,recovery:A}=this,I=X(Hn("msgHash",h));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const k=A===2||A===3?m+t.n:m;if(k>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const g=A&1?"03":"02",c=p.fromHex(g+B(k)),d=f(k),R=u(-I*d),D=u(E*d),H=p.BASE.multiplyAndAddUnsafe(c,R,D);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Gu(this.toDERHex())}toDERHex(){return Hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gu(this.toCompactHex())}toCompactHex(){return B(this.r)+B(this.s)}}const $={isValidPrivateKey(a){try{return w(a),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const a=Wx(t.n);return cN(t.randomBytes(a),t.n)},precompute(a=8,h=p.BASE){return h._setWindowSize(a),h.multiply(BigInt(3)),h}};function j(a,h=!0){return p.fromPrivateKey(a).toRawBytes(h)}function F(a){const h=Ua(a),m=typeof a=="string",E=(h||m)&&a.length;return h?E===s||E===i:m?E===2*s||E===2*i:a instanceof p}function Y(a,h,m=!0){if(F(a))throw new Error("first arg must be private key");if(!F(h))throw new Error("second arg must be public key");return p.fromHex(h).multiply(w(a)).toRawBytes(m)}const J=t.bits2int||function(a){if(a.length>8192)throw new Error("input is too large");const h=Pa(a),m=a.length*8-t.nBitLength;return m>0?h>>BigInt(m):h},X=t.bits2int_modN||function(a){return u(J(a))},te=C1(t.nBitLength);function re(a){return Di("num < 2^"+t.nBitLength,a,Gs,te),Zu(a,t.nByteLength)}function W(a,h,m=q){if(["recovered","canonical"].some(oe=>oe in m))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:A}=t;let{lowS:I,prehash:k,extraEntropy:g}=m;I==null&&(I=!0),a=Hn("msgHash",a),Qb(m),k&&(a=Hn("prehashed msgHash",E(a)));const c=X(a),d=w(h),R=[re(d),re(c)];if(g!=null&&g!==!1){const oe=g===!0?A(e.BYTES):g;R.push(Hn("extraEntropy",oe))}const D=Fa(...R),H=c;function ee(oe){const fe=J(oe);if(!T(fe))return;const Ue=f(fe),Se=p.BASE.multiply(fe).toAffine(),xe=u(Se.x);if(xe===Gs)return;const Bt=u(Ue*u(H+xe*d));if(Bt===Gs)return;let Re=(Se.x===xe?0:2)|Number(Se.y&nr),Be=Bt;return I&&M(Bt)&&(Be=O(Bt),Re^=1),new N(xe,Be,Re)}return{seed:D,k2sig:ee}}const q={lowS:t.lowS,prehash:!1},K={lowS:t.lowS,prehash:!1};function V(a,h,m=q){const{seed:E,k2sig:A}=W(a,h,m),I=t;return $x(I.hash.outputLen,I.nByteLength,I.hmac)(E,A)}p.BASE._setWindowSize(8);function S(a,h,m,E=K){var Re;const A=a;h=Hn("msgHash",h),m=Hn("publicKey",m);const{lowS:I,prehash:k,format:g}=E;if(Qb(E),"strict"in E)throw new Error("options.strict was renamed to lowS");if(g!==void 0&&g!=="compact"&&g!=="der")throw new Error("format must be compact or der");const c=typeof A=="string"||Ua(A),d=!c&&!g&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!c&&!d)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let R,D;try{if(d&&(R=new N(A.r,A.s)),c){try{g!=="compact"&&(R=N.fromDER(A))}catch(Be){if(!(Be instanceof Hs.Err))throw Be}!R&&g!=="der"&&(R=N.fromCompact(A))}D=p.fromHex(m)}catch{return!1}if(!R||I&&R.hasHighS())return!1;k&&(h=t.hash(h));const{r:H,s:ee}=R,oe=X(h),fe=f(ee),Ue=u(oe*fe),Se=u(H*fe),xe=(Re=p.BASE.multiplyAndAddUnsafe(D,Ue,Se))==null?void 0:Re.toAffine();return xe?u(xe.x)===H:!1}return{CURVE:t,getPublicKey:j,getSharedSecret:Y,sign:V,verify:S,ProjectivePoint:p,Signature:N,utils:$}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function FB(n){return{hash:n,hmac:(t,...e)=>ck(n,t,_4(...e)),randomBytes:Bx}}function $B(n,t){const e=r=>zB({...n,...FB(r)});return{...e(t),create:e}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jB=BigInt(1),km=BigInt(2),eE=(n,t)=>(n+t/km)/t;function HB(n){const t=lk,e=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),u=BigInt(23),f=BigInt(44),p=BigInt(88),w=n*n*n%t,b=w*w*n%t,T=On(b,e,t)*b%t,B=On(T,e,t)*b%t,M=On(B,km,t)*w%t,O=On(M,s,t)*M%t,P=On(O,i,t)*O%t,N=On(P,f,t)*P%t,$=On(N,p,t)*N%t,j=On($,f,t)*P%t,F=On(j,e,t)*b%t,Y=On(F,u,t)*O%t,J=On(Y,r,t)*w%t,X=On(J,km,t);if(!Am.eql(Am.sqr(X),n))throw new Error("Cannot find square root");return X}const Am=qd(lk,void 0,void 0,{sqrt:HB}),Yd=$B({a:BigInt(0),b:BigInt(7),Fp:Am,n:Xb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=Xb,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-jB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,u=BigInt("0x100000000000000000000000000000000"),f=eE(i*n,t),p=eE(-r*n,t);let w=bn(n-f*e-p*s,t),b=bn(-f*r-p*i,t);const T=w>u,B=b>u;if(T&&(w=t-w),B&&(b=t-b),w>u||b>u)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:T,k1:w,k2neg:B,k2:b}}}},Sm);BigInt(0);Yd.ProjectivePoint;const WB=fc.utils.randomPrivateKey,tE=()=>{const n=fc.utils.randomPrivateKey(),t=_d(n),e=new Uint8Array(64);return e.set(n),e.set(t,32),{publicKey:t,secretKey:e}},_d=fc.getPublicKey;function nE(n){try{return fc.ExtendedPoint.fromHex(n),!0}catch{return!1}}const H1=(n,t)=>fc.sign(n,t.slice(0,32)),qB=fc.verify,Ft=n=>Nt.Buffer.isBuffer(n)?n:n instanceof Uint8Array?Nt.Buffer.from(n.buffer,n.byteOffset,n.byteLength):Nt.Buffer.from(n);let W1=class{constructor(t){Object.assign(this,t)}encode(){return Nt.Buffer.from(kg.serialize(vl,this))}static decode(t){return kg.deserialize(vl,this,t)}static decodeUnchecked(t){return kg.deserializeUnchecked(vl,this,t)}};class KB extends W1{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(e=>{this.enum=e})}}const vl=new Map;var fk;const hk=32,bs=32;function VB(n){return n._bn!==void 0}let rE=1,Fe=class Tu extends W1{constructor(t){if(super({}),this._bn=void 0,VB(t))this._bn=t._bn;else{if(typeof t=="string"){const e=ar.decode(t);if(e.length!=bs)throw new Error("Invalid public key input");this._bn=new pd(e)}else this._bn=new pd(t);if(this._bn.byteLength()>bs)throw new Error("Invalid public key input")}}static unique(){const t=new Tu(rE);return rE+=1,new Tu(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ar.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Nt.Buffer);if(t.length===bs)return t;const e=Nt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const s=Nt.Buffer.concat([t.toBuffer(),Nt.Buffer.from(e),r.toBuffer()]),i=Sm(s);return new Tu(i)}static createProgramAddressSync(t,e){let r=Nt.Buffer.alloc(0);t.forEach(function(i){if(i.length>hk)throw new TypeError("Max seed length exceeded");r=Nt.Buffer.concat([r,Ft(i)])}),r=Nt.Buffer.concat([r,e.toBuffer(),Nt.Buffer.from("ProgramDerivedAddress")]);const s=Sm(r);if(nE(s))throw new Error("Invalid seeds, address must fall off the curve");return new Tu(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,s;for(;r!=0;){try{const i=t.concat(Nt.Buffer.from([r]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new Tu(t);return nE(e.toBytes())}};fk=Fe;Fe.default=new fk("11111111111111111111111111111111");vl.set(Fe,{kind:"struct",fields:[["_bn","u256"]]});class GB{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=Ft(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=Ft(WB()),this._publicKey=Ft(_d(this._secretKey))}get publicKey(){return new Fe(this._publicKey)}get secretKey(){return Nt.Buffer.concat([this._secretKey,this._publicKey],64)}}const ZB=new Fe("BPFLoader1111111111111111111111111111111111"),Go=1232,Qd=127,Ml=64;let q1=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(q1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let K1=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(K1.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Lu=class extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Lu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Rl=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,u)=>{r.set(i.toBase58(),u)});const s=i=>{const u=r.get(i.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(u=>s(u.pubkey)),data:i.data}))}};const Wt=(n="publicKey")=>se.blob(32,n),YB=(n="signature")=>se.blob(64,n),ka=(n="string")=>{const t=se.struct([se.u32("length"),se.u32("lengthPadding"),se.blob(se.offset(se.u32(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,u)=>e(i,u).chars.toString(),s.encode=(i,u,f)=>{const p={chars:Nt.Buffer.from(i,"utf8")};return r(p,u,f)},s.alloc=i=>se.u32().span+se.u32().span+Nt.Buffer.from(i,"utf8").length,s},QB=(n="authorized")=>se.struct([Wt("staker"),Wt("withdrawer")],n),JB=(n="lockup")=>se.struct([se.ns64("unixTimestamp"),se.ns64("epoch"),Wt("custodian")],n),XB=(n="voteInit")=>se.struct([Wt("nodePubkey"),Wt("authorizedVoter"),Wt("authorizedWithdrawer"),se.u8("commission")],n),eC=(n="voteAuthorizeWithSeedArgs")=>se.struct([se.u32("voteAuthorizationType"),Wt("currentAuthorityDerivedKeyOwnerPubkey"),ka("currentAuthorityDerivedKeySeed"),Wt("newAuthorized")],n);function dk(n,t){const e=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const i=t[s.property];if(Array.isArray(i))return i.length*e(s.elementLayout)}else if("fields"in s)return dk({layout:s},t[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=e(s)}),r}function si(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function Si(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function tn(n,t){if(!n)throw new Error(t||"Assertion failed")}let pk=class gk{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,s=u=>{const f=u.toBase58();let p=r.get(f);return p===void 0&&(p={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(f,p)),p},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const u of t){s(u.programId).isInvoked=!0;for(const f of u.keys){const p=s(f.pubkey);p.isSigner||(p.isSigner=f.isSigner),p.isWritable||(p.isWritable=f.isWritable)}}return new gk(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];tn(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,p])=>p.isSigner&&p.isWritable),r=t.filter(([,p])=>p.isSigner&&!p.isWritable),s=t.filter(([,p])=>!p.isSigner&&p.isWritable),i=t.filter(([,p])=>!p.isSigner&&!p.isWritable),u={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{tn(e.length>0,"Expected at least one writable signer key");const[p]=e[0];tn(p===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...e.map(([p])=>new Fe(p)),...r.map(([p])=>new Fe(p)),...s.map(([p])=>new Fe(p)),...i.map(([p])=>new Fe(p))];return[u,f]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,s=new Array;for(const[i,u]of this.keyMetaMap.entries())if(e(u)){const f=new Fe(i),p=t.findIndex(w=>w.equals(f));p>=0&&(tn(p<256,"Max lookup table index exceeded"),r.push(p),s.push(f),this.keyMetaMap.delete(i))}return[r,s]}};const yk="Reached end of buffer unexpectedly";function ys(n){if(n.length===0)throw new Error(yk);return n.shift()}function oi(n,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>n.length:e>=n.length)throw new Error(yk);return n.splice(...t)}let na=class Im{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new Fe(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ar.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Rl(this.staticAccountKeys)}static compile(t){const e=pk.compile(t.instructions,t.payerKey),[r,s]=e.getMessageComponents(),u=new Rl(s).compileInstructions(t.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:ar.encode(f.data)}));return new Im({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:u})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Si(e,t);const r=this.instructions.map(T=>{const{accounts:B,programIdIndex:M}=T,O=Array.from(ar.decode(T.data));let P=[];Si(P,B.length);let N=[];return Si(N,O.length),{programIdIndex:M,keyIndicesCount:Nt.Buffer.from(P),keyIndices:B,dataLength:Nt.Buffer.from(N),data:O}});let s=[];Si(s,r.length);let i=Nt.Buffer.alloc(Go);Nt.Buffer.from(s).copy(i);let u=s.length;r.forEach(T=>{const M=se.struct([se.u8("programIdIndex"),se.blob(T.keyIndicesCount.length,"keyIndicesCount"),se.seq(se.u8("keyIndex"),T.keyIndices.length,"keyIndices"),se.blob(T.dataLength.length,"dataLength"),se.seq(se.u8("userdatum"),T.data.length,"data")]).encode(T,i,u);u+=M}),i=i.slice(0,u);const f=se.struct([se.blob(1,"numRequiredSignatures"),se.blob(1,"numReadonlySignedAccounts"),se.blob(1,"numReadonlyUnsignedAccounts"),se.blob(e.length,"keyCount"),se.seq(Wt("key"),t,"keys"),Wt("recentBlockhash")]),p={numRequiredSignatures:Nt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Nt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Nt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Nt.Buffer.from(e),keys:this.accountKeys.map(T=>Ft(T.toBytes())),recentBlockhash:ar.decode(this.recentBlockhash)};let w=Nt.Buffer.alloc(2048);const b=f.encode(p,w);return i.copy(w,b),w.slice(0,b+i.length)}static from(t){let e=[...t];const r=ys(e);if(r!==(r&Qd))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=ys(e),i=ys(e),u=si(e);let f=[];for(let B=0;B<u;B++){const M=oi(e,0,bs);f.push(new Fe(Nt.Buffer.from(M)))}const p=oi(e,0,bs),w=si(e);let b=[];for(let B=0;B<w;B++){const M=ys(e),O=si(e),P=oi(e,0,O),N=si(e),$=oi(e,0,N),j=ar.encode(Nt.Buffer.from($));b.push({programIdIndex:M,accounts:P,data:j})}const T={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:ar.encode(Nt.Buffer.from(p)),accountKeys:f,instructions:b};return new Im(T)}},Jd=class Mm{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Rl(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,i=this.addressTableLookups.reduce((u,f)=>u+f.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,u=r-e-this.header.numReadonlyUnsignedAccounts;return s<u}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=pk.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const b of i){const T=e.extractTableLookup(b);if(T!==void 0){const[B,{writable:M,readonly:O}]=T;r.push(B),s.writable.push(...M),s.readonly.push(...O)}}const[u,f]=e.getMessageComponents(),w=new Rl(f,s).compileInstructions(t.instructions);return new Mm({header:u,staticAccountKeys:f,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:r})}serialize(){const t=Array();Si(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Si(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Si(i,this.addressTableLookups.length);const u=se.struct([se.u8("prefix"),se.struct([se.u8("numRequiredSignatures"),se.u8("numReadonlySignedAccounts"),se.u8("numReadonlyUnsignedAccounts")],"header"),se.blob(t.length,"staticAccountKeysLength"),se.seq(Wt(),this.staticAccountKeys.length,"staticAccountKeys"),Wt("recentBlockhash"),se.blob(r.length,"instructionsLength"),se.blob(e.length,"serializedInstructions"),se.blob(i.length,"addressTableLookupsLength"),se.blob(s.length,"serializedAddressTableLookups")]),f=new Uint8Array(Go),w=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(b=>b.toBytes()),recentBlockhash:ar.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},f);return f.slice(0,w)}serializeInstructions(){let t=0;const e=new Uint8Array(Go);for(const r of this.compiledInstructions){const s=Array();Si(s,r.accountKeyIndexes.length);const i=Array();Si(i,r.data.length);const u=se.struct([se.u8("programIdIndex"),se.blob(s.length,"encodedAccountKeyIndexesLength"),se.seq(se.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),se.blob(i.length,"encodedDataLength"),se.blob(r.data.length,"data")]);t+=u.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Go);for(const r of this.addressTableLookups){const s=Array();Si(s,r.writableIndexes.length);const i=Array();Si(i,r.readonlyIndexes.length);const u=se.struct([Wt("accountKey"),se.blob(s.length,"encodedWritableIndexesLength"),se.seq(se.u8(),r.writableIndexes.length,"writableIndexes"),se.blob(i.length,"encodedReadonlyIndexesLength"),se.seq(se.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=u.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=ys(e),s=r&Qd;tn(r!==s,"Expected versioned message but received legacy message");const i=s;tn(i===0,`Expected versioned message with version 0 but found version ${i}`);const u={numRequiredSignatures:ys(e),numReadonlySignedAccounts:ys(e),numReadonlyUnsignedAccounts:ys(e)},f=[],p=si(e);for(let O=0;O<p;O++)f.push(new Fe(oi(e,0,bs)));const w=ar.encode(oi(e,0,bs)),b=si(e),T=[];for(let O=0;O<b;O++){const P=ys(e),N=si(e),$=oi(e,0,N),j=si(e),F=new Uint8Array(oi(e,0,j));T.push({programIdIndex:P,accountKeyIndexes:$,data:F})}const B=si(e),M=[];for(let O=0;O<B;O++){const P=new Fe(oi(e,0,bs)),N=si(e),$=oi(e,0,N),j=si(e),F=oi(e,0,j);M.push({accountKey:P,writableIndexes:$,readonlyIndexes:F})}return new Mm({header:u,staticAccountKeys:f,recentBlockhash:w,compiledInstructions:T,addressTableLookups:M})}};const V1={deserializeMessageVersion(n){const t=n[0],e=t&Qd;return e===t?"legacy":e},deserialize:n=>{const t=V1.deserializeMessageVersion(n);if(t==="legacy")return na.from(n);if(t===0)return Jd.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let js=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const tC=Nt.Buffer.alloc(Ml).fill(0);let cn=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Nt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},un=class Rm{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new cn(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let P=0;P<e.length;P++)if(e[P].programId===void 0)throw new Error(`Transaction instruction index ${P} has undefined program id`);const s=[],i=[];e.forEach(P=>{P.keys.forEach($=>{i.push({...$})});const N=P.programId.toString();s.includes(N)||s.push(N)}),s.forEach(P=>{i.push({pubkey:new Fe(P),isSigner:!1,isWritable:!1})});const u=[];i.forEach(P=>{const N=P.pubkey.toString(),$=u.findIndex(j=>j.pubkey.toString()===N);$>-1?(u[$].isWritable=u[$].isWritable||P.isWritable,u[$].isSigner=u[$].isSigner||P.isSigner):u.push(P)}),u.sort(function(P,N){if(P.isSigner!==N.isSigner)return P.isSigner?-1:1;if(P.isWritable!==N.isWritable)return P.isWritable?-1:1;const $={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return P.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",$)});const f=u.findIndex(P=>P.pubkey.equals(r));if(f>-1){const[P]=u.splice(f,1);P.isSigner=!0,P.isWritable=!0,u.unshift(P)}else u.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const P of this.signatures){const N=u.findIndex($=>$.pubkey.equals(P.publicKey));if(N>-1)u[N].isSigner||(u[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${P.publicKey.toString()}`)}let p=0,w=0,b=0;const T=[],B=[];u.forEach(({pubkey:P,isSigner:N,isWritable:$})=>{N?(T.push(P.toString()),p+=1,$||(w+=1)):(B.push(P.toString()),$||(b+=1))});const M=T.concat(B),O=e.map(P=>{const{data:N,programId:$}=P;return{programIdIndex:M.indexOf($.toString()),accounts:P.keys.map(j=>M.indexOf(j.pubkey.toString())),data:ar.encode(N)}});return O.forEach(P=>{tn(P.programIdIndex>=0),P.accounts.forEach(N=>tn(N>=0))}),new na({header:{numRequiredSignatures:p,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:b},accountKeys:M,recentBlockhash:t,instructions:O})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const s=r.toString();return e.has(s)?!1:(e.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const u=i.publicKey.toString();e.has(u)||(e.add(u),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const u=i.publicKey.toString();e.has(u)||(e.add(u),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(s=>{const i=H1(r,s.secretKey);this._addSignature(s.publicKey,Ft(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){tn(e.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Nt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(r.missing||(r.missing=[])).push(i):qB(s,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,e);if(i){let u="Signature verification failed.";throw i.invalid&&(u+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),i.missing&&(u+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,r=[];Si(r,e.length);const s=r.length+e.length*64+t.length,i=Nt.Buffer.alloc(s);return tn(e.length<256),Nt.Buffer.from(r).copy(i,0),e.forEach(({signature:u},f)=>{u!==null&&(tn(u.length===64,"signature has invalid length"),Nt.Buffer.from(u).copy(i,r.length+f*64))}),t.copy(i,r.length+e.length*64),tn(i.length<=Go,`Transaction too large: ${i.length} > ${Go}`),i}get keys(){return tn(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return tn(this.instructions.length===1),this.instructions[0].programId}get data(){return tn(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=si(e);let s=[];for(let i=0;i<r;i++){const u=oi(e,0,Ml);s.push(ar.encode(Nt.Buffer.from(u)))}return Rm.populate(na.from(e),s)}static populate(t,e=[]){const r=new Rm;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const u={signature:s==ar.encode(tC)?null:ar.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(u)}),t.instructions.forEach(s=>{const i=s.accounts.map(u=>{const f=t.accountKeys[u];return{pubkey:f,isSigner:r.signatures.some(p=>p.publicKey.toString()===f.toString())||t.isAccountSigner(u),isWritable:t.isAccountWritable(u)}});r.instructions.push(new cn({keys:i,programId:t.accountKeys[s.programIdIndex],data:ar.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}};class G1{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:r,compiledInstructions:s,recentBlockhash:i}=t,{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:p}=r,w=u-f;tn(w>0,"Message header is invalid");const b=t.staticAccountKeys.length-u-p;tn(b>=0,"Message header is invalid");const T=t.getAccountKeys(e),B=T.get(0);if(B===void 0)throw new Error("Failed to decompile message because no account keys were found");const M=[];for(const O of s){const P=[];for(const $ of O.accountKeyIndexes){const j=T.get($);if(j===void 0)throw new Error(`Failed to find key for account key index ${$}`);const F=$<u;let Y;F?Y=$<w:$<T.staticAccountKeys.length?Y=$-u<b:Y=$-T.staticAccountKeys.length<T.accountKeysFromLookups.writable.length,P.push({pubkey:j,isSigner:$<r.numRequiredSignatures,isWritable:Y})}const N=T.get(O.programIdIndex);if(N===void 0)throw new Error(`Failed to find program id for program id index ${O.programIdIndex}`);M.push(new cn({programId:N,data:Ft(O.data),keys:P}))}return new G1({payerKey:B,instructions:M,recentBlockhash:i})}compileToLegacyMessage(){return na.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Jd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}let nC=class mk{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)tn(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(Ml));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Si(e,this.signatures.length);const r=se.struct([se.blob(e.length,"encodedSignaturesLength"),se.seq(YB(),this.signatures.length,"signatures"),se.blob(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const r=[],s=si(e);for(let u=0;u<s;u++)r.push(new Uint8Array(oi(e,0,Ml)));const i=V1.deserialize(new Uint8Array(e));return new mk(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=r.findIndex(u=>u.equals(s.publicKey));tn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=H1(e,s.secretKey)}}addSignature(t,e){tn(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));tn(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}};const rC=160,iC=64,sC=rC/iC,wk=1e3/sC,gs=new Fe("SysvarC1ock11111111111111111111111111111111"),oC=new Fe("SysvarEpochSchedu1e111111111111111111111111"),aC=new Fe("Sysvar1nstructions1111111111111111111111111"),Xh=new Fe("SysvarRecentB1ockHashes11111111111111111111"),Qu=new Fe("SysvarRent111111111111111111111111111111111"),uC=new Fe("SysvarRewards111111111111111111111111111111"),cC=new Fe("SysvarS1otHashes111111111111111111111111111"),lC=new Fe("SysvarS1otHistory11111111111111111111111111"),ed=new Fe("SysvarStakeHistory1111111111111111111111111");let ra=class extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let f;switch(t){case"send":f=`Transaction ${e} resulted in an error. 
${r}. `+i+u;break;case"simulate":f=`Simulation failed. 
Message: ${r}. 
`+i+u;break;default:f=`Unknown action '${(p=>p)(t)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const fC={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let Et=class extends Error{constructor({code:t,message:e,data:r},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}};async function Tm(n,t,e,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(t,e,s);let u;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)u=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:f}=t.nonceInfo,p=f.keys[0].pubkey;u=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:p,nonceValue:t.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),u=(await n.confirmTransaction(i,r&&r.commitment)).value;if(u.err)throw i!=null?new ra({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(u)})`);return i}function Sa(n){return new Promise(t=>setTimeout(t,n))}function Zt(n,t){const e=n.layout.span>=0?n.layout.span:dk(n,t),r=Nt.Buffer.alloc(e),s=Object.assign({instruction:n.index},t);return n.layout.encode(s,r),r}function sn(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${e.instruction} != ${n.index}`);return e}const vk=se.nu64("lamportsPerSignature"),_k=se.struct([se.u32("version"),se.u32("state"),Wt("authorizedPubkey"),Wt("nonce"),se.struct([vk],"feeCalculator")]),Nm=_k.span;let bk=class Ek{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=_k.decode(Ft(t),0);return new Ek({authorizedPubkey:new Fe(e.authorizedPubkey),nonce:new Fe(e.nonce).toString(),feeCalculator:e.feeCalculator})}};const hC=n=>{const t=n.decode.bind(n),e=n.encode.bind(n);return{decode:t,encode:e}},dC=n=>t=>{const e=se.blob(n,t),{encode:r,decode:s}=hC(e),i=e;return i.decode=(u,f)=>{const p=s(u,f);return xm.toBigIntLE(Nt.Buffer.from(p))},i.encode=(u,f,p)=>{const w=xm.toBufferLE(u,n);return r(w,f,p)},i},Ju=dC(8);class pC{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=se.u32("instruction").decode(t.data);let s;for(const[i,u]of Object.entries(dn))if(u.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:r,programId:s}=sn(dn.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new Fe(s)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=sn(dn.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:r,programId:s}=sn(dn.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new Fe(s)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=sn(dn.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,space:s,programId:i}=sn(dn.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Fe(e),seed:r,space:s,programId:new Fe(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=sn(dn.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new Fe(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,programId:s}=sn(dn.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Fe(e),seed:r,programId:new Fe(s)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:r,lamports:s,space:i,programId:u}=sn(dn.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new Fe(e),seed:r,lamports:s,space:i,programId:new Fe(u)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=sn(dn.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new Fe(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),sn(dn.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=sn(dn.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=sn(dn.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new Fe(e)}}static checkProgramId(t){if(!t.equals(Qn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const dn=Object.freeze({Create:{index:0,layout:se.struct([se.u32("instruction"),se.ns64("lamports"),se.ns64("space"),Wt("programId")])},Assign:{index:1,layout:se.struct([se.u32("instruction"),Wt("programId")])},Transfer:{index:2,layout:se.struct([se.u32("instruction"),Ju("lamports")])},CreateWithSeed:{index:3,layout:se.struct([se.u32("instruction"),Wt("base"),ka("seed"),se.ns64("lamports"),se.ns64("space"),Wt("programId")])},AdvanceNonceAccount:{index:4,layout:se.struct([se.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:se.struct([se.u32("instruction"),se.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:se.struct([se.u32("instruction"),Wt("authorized")])},AuthorizeNonceAccount:{index:7,layout:se.struct([se.u32("instruction"),Wt("authorized")])},Allocate:{index:8,layout:se.struct([se.u32("instruction"),se.ns64("space")])},AllocateWithSeed:{index:9,layout:se.struct([se.u32("instruction"),Wt("base"),ka("seed"),se.ns64("space"),Wt("programId")])},AssignWithSeed:{index:10,layout:se.struct([se.u32("instruction"),Wt("base"),ka("seed"),Wt("programId")])},TransferWithSeed:{index:11,layout:se.struct([se.u32("instruction"),Ju("lamports"),ka("seed"),Wt("programId")])},UpgradeNonceAccount:{index:12,layout:se.struct([se.u32("instruction")])}});class Qn{constructor(){}static createAccount(t){const e=dn.Create,r=Zt(e,{lamports:t.lamports,space:t.space,programId:Ft(t.programId.toBuffer())});return new cn({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let e,r;if("basePubkey"in t){const s=dn.TransferWithSeed;e=Zt(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:Ft(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=dn.Transfer;e=Zt(s,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new cn({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){const s=dn.AssignWithSeed;e=Zt(s,{base:Ft(t.basePubkey.toBuffer()),seed:t.seed,programId:Ft(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=dn.Assign;e=Zt(s,{programId:Ft(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new cn({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=dn.CreateWithSeed,r=Zt(e,{base:Ft(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Ft(t.programId.toBuffer())});let s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new cn({keys:s,programId:this.programId,data:r})}static createNonceAccount(t){const e=new un;"basePubkey"in t&&"seed"in t?e.add(Qn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Nm,programId:this.programId})):e.add(Qn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Nm,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=dn.InitializeNonceAccount,r=Zt(e,{authorized:Ft(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Xh,isSigner:!1,isWritable:!1},{pubkey:Qu,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new cn(s)}static nonceAdvance(t){const e=dn.AdvanceNonceAccount,r=Zt(e),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Xh,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new cn(s)}static nonceWithdraw(t){const e=dn.WithdrawNonceAccount,r=Zt(e,{lamports:t.lamports});return new cn({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Xh,isSigner:!1,isWritable:!1},{pubkey:Qu,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const e=dn.AuthorizeNonceAccount,r=Zt(e,{authorized:Ft(t.newAuthorizedPubkey.toBuffer())});return new cn({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let e,r;if("basePubkey"in t){const s=dn.AllocateWithSeed;e=Zt(s,{base:Ft(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Ft(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=dn.Allocate;e=Zt(s,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new cn({keys:r,programId:this.programId,data:e})}}Qn.programId=new Fe("11111111111111111111111111111111");const gC=Go-300;class $a{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/$a.chunkSize)+1+1)}static async load(t,e,r,s,i){{const T=await t.getMinimumBalanceForRentExemption(i.length),B=await t.getAccountInfo(r.publicKey,"confirmed");let M=null;if(B!==null){if(B.executable)return console.error("Program load failed, account is already executable"),!1;B.data.length!==i.length&&(M=M||new un,M.add(Qn.allocate({accountPubkey:r.publicKey,space:i.length}))),B.owner.equals(s)||(M=M||new un,M.add(Qn.assign({accountPubkey:r.publicKey,programId:s}))),B.lamports<T&&(M=M||new un,M.add(Qn.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:T-B.lamports})))}else M=new un().add(Qn.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:T>0?T:1,space:i.length,programId:s}));M!==null&&await Tm(t,M,[e,r],{commitment:"confirmed"})}const u=se.struct([se.u32("instruction"),se.u32("offset"),se.u32("bytesLength"),se.u32("bytesLengthPadding"),se.seq(se.u8("byte"),se.offset(se.u32(),-8),"bytes")]),f=$a.chunkSize;let p=0,w=i,b=[];for(;w.length>0;){const T=w.slice(0,f),B=Nt.Buffer.alloc(f+16);u.encode({instruction:0,offset:p,bytes:T,bytesLength:0,bytesLengthPadding:0},B);const M=new un().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:B});b.push(Tm(t,M,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Sa(1e3/4),p+=f,w=w.slice(f)}await Promise.all(b);{const T=se.struct([se.u32("instruction")]),B=Nt.Buffer.alloc(T.span);T.encode({instruction:1},B);const M=new un().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Qu,isSigner:!1,isWritable:!1}],programId:s,data:B}),O="processed",P=await t.sendTransaction(M,[e,r],{preflightCommitment:O}),{context:N,value:$}=await t.confirmTransaction({signature:P,lastValidBlockHeight:M.lastValidBlockHeight,blockhash:M.recentBlockhash},O);if($.err)throw new Error(`Transaction ${P} failed (${JSON.stringify($)})`);for(;;){try{if(await t.getSlot({commitment:O})>N.slot)break}catch{}await new Promise(j=>setTimeout(j,Math.round(wk/2)))}}return!0}}$a.chunkSize=gC;const yC=new Fe("BPFLoader2111111111111111111111111111111111");class mC{static getMinNumSignatures(t){return $a.getMinNumSignatures(t)}static load(t,e,r,s,i){return $a.load(t,e,r,i,s)}}function wC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lg,iE;function vC(){if(iE)return Lg;iE=1;var n=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function e(r,s){var i,u,f,p,w,b,T;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return e(r.toJSON(),s);if(T=n.call(r),T==="[object Array]"){for(f="[",u=r.length-1,i=0;i<u;i++)f+=e(r[i],!0)+",";return u>-1&&(f+=e(r[i],!0)),f+"]"}else if(T==="[object Object]"){for(p=t(r).sort(),u=p.length,f="",i=0;i<u;)w=p[i],b=e(r[w],!1),b!==void 0&&(f&&(f+=","),f+=JSON.stringify(w)+":"+b),i++;return"{"+f+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Lg=function(r){var s=e(r,!1);if(s!==void 0)return""+s},Lg}var _C=vC(),sE=wC(_C);const ol=32;function Og(n){let t=0;for(;n>1;)n/=2,t++;return t}function bC(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let Sk=class{constructor(t,e,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Og(bC(t+ol+1))-Og(ol)-1,r=this.getSlotsInEpoch(e),s=t-(r-ol);return[e,s]}else{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*ol:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Og(ol)):this.slotsPerEpoch}};var EC=globalThis.fetch;let SC=class extends SB{constructor(t,e,r){const s=i=>{const u=bB(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(s,t,e,r),this.underlyingSocket=void 0}call(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}};function xC(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}const oE=56;let Bm=class{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=xC(kC,t),r=t.length-oE;tn(r>=0,"lookup table is invalid"),tn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=se.struct([se.seq(Wt(),s,"addresses")]).decode(t.slice(oE));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new Fe(e.authority[0]):void 0,addresses:i.map(u=>new Fe(u))}}};const kC={index:1,layout:se.struct([se.u32("typeIndex"),Ju("deactivationSlot"),se.nu64("lastExtendedSlot"),se.u8("lastExtendedStartIndex"),se.u8(),se.seq(Wt(),se.offset(se.u8(),-1),"authority")])},AC=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function IC(n){const t=n.match(AC);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[e,r,s,i]=t,u=n.startsWith("https:")?"wss:":"ws:",f=s==null?null:parseInt(s.slice(1),10),p=f==null?"":`:${f+1}`;return`${u}//${r}${p}${i}`}const Nn=ef(F1(Fe),Pe(),n=>new Fe(n)),xk=$1([Pe(),An("base64")]),Z1=ef(F1(Nt.Buffer),xk,n=>Nt.Buffer.from(n[0],"base64")),kk=30*1e3;function MC(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function fn(n){let t,e;if(typeof n=="string")t=n;else if(n){const{commitment:r,...s}=n;t=r,e=s}return{commitment:t,config:e}}function aE(n){return n.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function Ak(n){return Fr([Ie({jsonrpc:An("2.0"),id:Pe(),result:n}),Ie({jsonrpc:An("2.0"),id:Pe(),error:Ie({code:hc(),message:Pe(),data:Rt(VN())})})])}const RC=Ak(hc());function Dt(n){return ef(Ak(n),RC,t=>"error"in t?t:{...t,result:je(t.result,n)})}function Un(n){return Dt(Ie({context:Ie({slot:de()}),value:n}))}function Xd(n){return Ie({context:Ie({slot:de()}),value:n})}function Pg(n,t){return n===0?new Jd({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new Fe(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ar.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new na(t)}const TC=Ie({foundation:de(),foundationTerm:de(),initial:de(),taper:de(),terminal:de()}),NC=Dt(Ve(Ze(Ie({epoch:de(),effectiveSlot:de(),amount:de(),postBalance:de(),commission:Rt(Ze(de()))})))),BC=Ve(Ie({slot:de(),prioritizationFee:de()})),CC=Ie({total:de(),validator:de(),foundation:de(),epoch:de()}),LC=Ie({epoch:de(),slotIndex:de(),slotsInEpoch:de(),absoluteSlot:de(),blockHeight:Rt(de()),transactionCount:Rt(de())}),OC=Ie({slotsPerEpoch:de(),leaderScheduleSlotOffset:de(),warmup:As(),firstNormalEpoch:de(),firstNormalSlot:de()}),PC=Jx(Pe(),Ve(de())),Za=Ze(Fr([Ie({}),Pe()])),DC=Ie({err:Za}),UC=An("receivedSignature"),zC=Ie({"solana-core":Pe(),"feature-set":Rt(de())}),FC=Ie({program:Pe(),programId:Nn,parsed:hc()}),$C=Ie({programId:Nn,accounts:Ve(Nn),data:Pe()}),uE=Un(Ie({err:Ze(Fr([Ie({}),Pe()])),logs:Ze(Ve(Pe())),accounts:Rt(Ze(Ve(Ze(Ie({executable:As(),owner:Pe(),lamports:de(),data:Ve(Pe()),rentEpoch:Rt(de())}))))),unitsConsumed:Rt(de()),returnData:Rt(Ze(Ie({programId:Pe(),data:$1([Pe(),An("base64")])}))),innerInstructions:Rt(Ze(Ve(Ie({index:de(),instructions:Ve(Fr([FC,$C]))}))))})),jC=Un(Ie({byIdentity:Jx(Pe(),Ve(de())),range:Ie({firstSlot:de(),lastSlot:de()})}));function HC(n,t,e,r,s,i){const u=e||EC;let f;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let p;return r&&(p=async(b,T)=>{const B=await new Promise((M,O)=>{try{r(b,T,(P,N)=>M([P,N]))}catch(P){O(P)}});return await u(...B)}),new mB(async(b,T)=>{const B={method:"POST",body:b,agent:f,headers:Object.assign({"Content-Type":"application/json"},t||{},H6)};try{let M=5,O,P=500;for(;p?O=await p(n,B):O=await u(n,B),!(O.status!==429||s===!0||(M-=1,M===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${P}ms delay...`),await Sa(P),P*=2;const N=await O.text();O.ok?T(null,N):T(new Error(`${O.status} ${O.statusText}: ${N}`))}catch(M){M instanceof Error&&T(M)}},{})}function WC(n){return(t,e)=>new Promise((r,s)=>{n.request(t,e,(i,u)=>{if(i){s(i);return}r(u)})})}function qC(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);const s=t.map(i=>n.request(i.methodName,i.args));n.request(s,(i,u)=>{if(i){r(i);return}e(u)})})}const KC=Dt(TC),VC=Dt(CC),GC=Dt(BC),ZC=Dt(LC),YC=Dt(OC),QC=Dt(PC),JC=Dt(de()),XC=Un(Ie({total:de(),circulating:de(),nonCirculating:de(),nonCirculatingAccounts:Ve(Nn)})),Cm=Ie({amount:Pe(),uiAmount:Ze(de()),decimals:de(),uiAmountString:Rt(Pe())}),e6=Un(Ve(Ie({address:Nn,amount:Pe(),uiAmount:Ze(de()),decimals:de(),uiAmountString:Rt(Pe())}))),t6=Un(Ve(Ie({pubkey:Nn,account:Ie({executable:As(),owner:Nn,lamports:de(),data:Z1,rentEpoch:de()})}))),Lm=Ie({program:Pe(),parsed:hc(),space:de()}),n6=Un(Ve(Ie({pubkey:Nn,account:Ie({executable:As(),owner:Nn,lamports:de(),data:Lm,rentEpoch:de()})}))),r6=Un(Ve(Ie({lamports:de(),address:Nn}))),Tl=Ie({executable:As(),owner:Nn,lamports:de(),data:Z1,rentEpoch:de()}),i6=Ie({pubkey:Nn,account:Tl}),s6=ef(Fr([F1(Nt.Buffer),Lm]),Fr([xk,Lm]),n=>Array.isArray(n)?je(n,Z1):n),Om=Ie({executable:As(),owner:Nn,lamports:de(),data:s6,rentEpoch:de()}),o6=Ie({pubkey:Nn,account:Om}),a6=Ie({state:Fr([An("active"),An("inactive"),An("activating"),An("deactivating")]),active:de(),inactive:de()}),u6=Dt(Ve(Ie({signature:Pe(),slot:de(),err:Za,memo:Ze(Pe()),blockTime:Rt(Ze(de()))}))),c6=Dt(Ve(Ie({signature:Pe(),slot:de(),err:Za,memo:Ze(Pe()),blockTime:Rt(Ze(de()))}))),l6=Ie({subscription:de(),result:Xd(Tl)}),f6=Ie({pubkey:Nn,account:Tl}),h6=Ie({subscription:de(),result:Xd(f6)}),d6=Ie({parent:de(),slot:de(),root:de()}),p6=Ie({subscription:de(),result:d6}),g6=Fr([Ie({type:Fr([An("firstShredReceived"),An("completed"),An("optimisticConfirmation"),An("root")]),slot:de(),timestamp:de()}),Ie({type:An("createdBank"),parent:de(),slot:de(),timestamp:de()}),Ie({type:An("frozen"),slot:de(),timestamp:de(),stats:Ie({numTransactionEntries:de(),numSuccessfulTransactions:de(),numFailedTransactions:de(),maxTransactionsPerEntry:de()})}),Ie({type:An("dead"),slot:de(),timestamp:de(),err:Pe()})]),y6=Ie({subscription:de(),result:g6}),m6=Ie({subscription:de(),result:Xd(Fr([DC,UC]))}),w6=Ie({subscription:de(),result:de()}),v6=Ie({pubkey:Pe(),gossip:Ze(Pe()),tpu:Ze(Pe()),rpc:Ze(Pe()),version:Ze(Pe())}),cE=Ie({votePubkey:Pe(),nodePubkey:Pe(),activatedStake:de(),epochVoteAccount:As(),epochCredits:Ve($1([de(),de(),de()])),commission:de(),lastVote:de(),rootSlot:Ze(de())}),_6=Dt(Ie({current:Ve(cE),delinquent:Ve(cE)})),b6=Fr([An("processed"),An("confirmed"),An("finalized")]),E6=Ie({slot:de(),confirmations:Ze(de()),err:Za,confirmationStatus:Rt(b6)}),S6=Un(Ve(Ze(E6))),x6=Dt(de()),Ik=Ie({accountKey:Nn,writableIndexes:Ve(de()),readonlyIndexes:Ve(de())}),Y1=Ie({signatures:Ve(Pe()),message:Ie({accountKeys:Ve(Pe()),header:Ie({numRequiredSignatures:de(),numReadonlySignedAccounts:de(),numReadonlyUnsignedAccounts:de()}),instructions:Ve(Ie({accounts:Ve(de()),data:Pe(),programIdIndex:de()})),recentBlockhash:Pe(),addressTableLookups:Rt(Ve(Ik))})}),Mk=Ie({pubkey:Nn,signer:As(),writable:As(),source:Rt(Fr([An("transaction"),An("lookupTable")]))}),Rk=Ie({accountKeys:Ve(Mk),signatures:Ve(Pe())}),Tk=Ie({parsed:hc(),program:Pe(),programId:Nn}),Nk=Ie({accounts:Ve(Nn),data:Pe(),programId:Nn}),k6=Fr([Nk,Tk]),A6=Fr([Ie({parsed:hc(),program:Pe(),programId:Pe()}),Ie({accounts:Ve(Pe()),data:Pe(),programId:Pe()})]),Bk=ef(k6,A6,n=>"accounts"in n?je(n,Nk):je(n,Tk)),Ck=Ie({signatures:Ve(Pe()),message:Ie({accountKeys:Ve(Mk),instructions:Ve(Bk),recentBlockhash:Pe(),addressTableLookups:Rt(Ze(Ve(Ik)))})}),bd=Ie({accountIndex:de(),mint:Pe(),owner:Rt(Pe()),programId:Rt(Pe()),uiTokenAmount:Cm}),Lk=Ie({writable:Ve(Nn),readonly:Ve(Nn)}),e0=Ie({err:Za,fee:de(),innerInstructions:Rt(Ze(Ve(Ie({index:de(),instructions:Ve(Ie({accounts:Ve(de()),data:Pe(),programIdIndex:de()}))})))),preBalances:Ve(de()),postBalances:Ve(de()),logMessages:Rt(Ze(Ve(Pe()))),preTokenBalances:Rt(Ze(Ve(bd))),postTokenBalances:Rt(Ze(Ve(bd))),loadedAddresses:Rt(Lk),computeUnitsConsumed:Rt(de())}),Q1=Ie({err:Za,fee:de(),innerInstructions:Rt(Ze(Ve(Ie({index:de(),instructions:Ve(Bk)})))),preBalances:Ve(de()),postBalances:Ve(de()),logMessages:Rt(Ze(Ve(Pe()))),preTokenBalances:Rt(Ze(Ve(bd))),postTokenBalances:Rt(Ze(Ve(bd))),loadedAddresses:Rt(Lk),computeUnitsConsumed:Rt(de())}),dc=Fr([An(0),An("legacy")]),Ya=Ie({pubkey:Pe(),lamports:de(),postBalance:Ze(de()),rewardType:Ze(Pe()),commission:Rt(Ze(de()))}),I6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),transactions:Ve(Ie({transaction:Y1,meta:Ze(e0),version:Rt(dc)})),rewards:Rt(Ve(Ya)),blockTime:Ze(de()),blockHeight:Ze(de())}))),M6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),rewards:Rt(Ve(Ya)),blockTime:Ze(de()),blockHeight:Ze(de())}))),R6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),transactions:Ve(Ie({transaction:Rk,meta:Ze(e0),version:Rt(dc)})),rewards:Rt(Ve(Ya)),blockTime:Ze(de()),blockHeight:Ze(de())}))),T6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),transactions:Ve(Ie({transaction:Ck,meta:Ze(Q1),version:Rt(dc)})),rewards:Rt(Ve(Ya)),blockTime:Ze(de()),blockHeight:Ze(de())}))),N6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),transactions:Ve(Ie({transaction:Rk,meta:Ze(Q1),version:Rt(dc)})),rewards:Rt(Ve(Ya)),blockTime:Ze(de()),blockHeight:Ze(de())}))),B6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),rewards:Rt(Ve(Ya)),blockTime:Ze(de()),blockHeight:Ze(de())}))),C6=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),transactions:Ve(Ie({transaction:Y1,meta:Ze(e0)})),rewards:Rt(Ve(Ya)),blockTime:Ze(de())}))),lE=Dt(Ze(Ie({blockhash:Pe(),previousBlockhash:Pe(),parentSlot:de(),signatures:Ve(Pe()),blockTime:Ze(de())}))),Dg=Dt(Ze(Ie({slot:de(),meta:Ze(e0),blockTime:Rt(Ze(de())),transaction:Y1,version:Rt(dc)}))),Ah=Dt(Ze(Ie({slot:de(),transaction:Ck,meta:Ze(Q1),blockTime:Rt(Ze(de())),version:Rt(dc)}))),L6=Un(Ie({blockhash:Pe(),lastValidBlockHeight:de()})),O6=Un(As()),P6=Ie({slot:de(),numTransactions:de(),numSlots:de(),samplePeriodSecs:de()}),D6=Dt(Ve(P6)),U6=Un(Ze(Ie({feeCalculator:Ie({lamportsPerSignature:de()})}))),z6=Dt(Pe()),F6=Dt(Pe()),$6=Ie({err:Za,logs:Ve(Pe()),signature:Pe()}),j6=Ie({result:Xd($6),subscription:de()}),H6={"solana-client":"js/1.0.0-maintenance"};let W6=class{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async b=>{const{commitment:T,config:B}=fn(b),M=this._buildArgs([],T,void 0,B),O=sE(M);return w[O]=w[O]??(async()=>{try{const P=await this._rpcRequest("getBlockHeight",M),N=je(P,Dt(de()));if("error"in N)throw new Et(N.error,"failed to get block height information");return N.result}finally{delete w[O]}})(),await w[O]}})();let r,s,i,u,f,p;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,u=e.fetchMiddleware,f=e.disableRetryOnRateLimit,p=e.httpAgent),this._rpcEndpoint=MC(t),this._rpcWsEndpoint=r||IC(t),this._rpcClient=HC(t,s,i,u,f,p),this._rpcRequest=WC(this._rpcClient),this._rpcBatchRequest=qC(this._rpcClient),this._rpcWebSocket=new SC(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgs([t.toBase58()],r,void 0,s),u=await this._rpcRequest("getBalance",i),f=je(u,Un(de()));if("error"in f)throw new Et(f.error,`failed to get balance for ${t.toBase58()}`);return f.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=je(e,Dt(Ze(de())));if("error"in r)throw new Et(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=je(t,Dt(de()));if("error"in e)throw new Et(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=je(t,JC);if("error"in e)throw new Et(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),s=je(r,XC);if("error"in s)throw new Et(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",r),i=je(s,Un(Cm));if("error"in i)throw new Et(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",r),i=je(s,Un(Cm));if("error"in i)throw new Et(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){const{commitment:s,config:i}=fn(r);let u=[t.toBase58()];"mint"in e?u.push({mint:e.mint.toBase58()}):u.push({programId:e.programId.toBase58()});const f=this._buildArgs(u,s,"base64",i),p=await this._rpcRequest("getTokenAccountsByOwner",f),w=je(p,t6);if("error"in w)throw new Et(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,e,r){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",i),f=je(u,n6);if("error"in f)throw new Et(f.error,`failed to get token accounts owned by account ${t.toBase58()}`);return f.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",r),i=je(s,r6);if("error"in i)throw new Et(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",r),i=je(s,e6);if("error"in i)throw new Et(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgs([t.toBase58()],r,"base64",s),u=await this._rpcRequest("getAccountInfo",i),f=je(u,Un(Ze(Tl)));if("error"in f)throw new Et(f.error,`failed to get info about account ${t.toBase58()}`);return f.result}async getParsedAccountInfo(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),u=await this._rpcRequest("getAccountInfo",i),f=je(u,Un(Ze(Om)));if("error"in f)throw new Et(f.error,`failed to get info about account ${t.toBase58()}`);return f.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:s}=fn(e),i=t.map(w=>w.toBase58()),u=this._buildArgs([i],r,"jsonParsed",s),f=await this._rpcRequest("getMultipleAccounts",u),p=je(f,Un(Ve(Ze(Om))));if("error"in p)throw new Et(p.error,`failed to get info for accounts ${i}`);return p.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:s}=fn(e),i=t.map(w=>w.toBase58()),u=this._buildArgs([i],r,"base64",s),f=await this._rpcRequest("getMultipleAccounts",u),p=je(f,Un(Ve(Ze(Tl))));if("error"in p)throw new Et(p.error,`failed to get info for accounts ${i}`);return p.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:s,config:i}=fn(e),u=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),f=await this._rpcRequest("getStakeActivation",u),p=je(f,Dt(a6));if("error"in p)throw new Et(p.error,`failed to get Stake Activation ${t.toBase58()}`);return p.result}async getProgramAccounts(t,e){const{commitment:r,config:s}=fn(e),{encoding:i,...u}=s||{},f=this._buildArgs([t.toBase58()],r,i||"base64",{...u,...u.filters?{filters:aE(u.filters)}:null}),p=await this._rpcRequest("getProgramAccounts",f),w=Ve(i6),b=u.withContext===!0?je(p,Un(w)):je(p,Dt(w));if("error"in b)throw new Et(b.error,`failed to get accounts owned by program ${t.toBase58()}`);return b.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),u=await this._rpcRequest("getProgramAccounts",i),f=je(u,Dt(Ve(o6)));if("error"in f)throw new Et(f.error,`failed to get accounts owned by program ${t.toBase58()}`);return f.result}async confirmTransaction(t,e){var i;let r;if(typeof t=="string")r=t;else{const u=t;if((i=u.abortSignal)!=null&&i.aborted)return Promise.reject(u.abortSignal.reason);r=u.signature}let s;try{s=ar.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return tn(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,s,i=!1;const u=new Promise((p,w)=>{try{r=this.onSignature(e,(T,B)=>{r=void 0;const M={context:B,value:T};p({__type:js.PROCESSED,response:M})},t);const b=new Promise(T=>{r==null?T():s=this._onSubscriptionStateChange(r,B=>{B==="subscribed"&&T()})});(async()=>{if(await b,i)return;const T=await this.getSignatureStatus(e);if(i||T==null)return;const{context:B,value:M}=T;if(M!=null)if(M!=null&&M.err)w(M.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(M.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(M.confirmationStatus==="processed"||M.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,p({__type:js.PROCESSED,response:{context:B,value:M}})}})()}catch(b){w(b)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:s}}){let i=!1;const u=new Promise(T=>{const B=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let M=await B();if(!i){for(;M<=r;)if(await Sa(1e3),i||(M=await B(),i))return;T({__type:js.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),w=this.getCancellationPromise(e);let b;try{const T=await Promise.race([w,p,u]);if(T.__type===js.PROCESSED)b=T.response;else throw new q1(s)}finally{i=!0,f()}return b}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:u}}){let f=!1;const p=new Promise(M=>{let O=i,P=null;const N=async()=>{try{const{context:$,value:j}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return P=$.slot,j==null?void 0:j.nonce}catch{return O}};(async()=>{if(O=await N(),!f)for(;;){if(i!==O){M({__type:js.NONCE_INVALID,slotInWhichNonceDidAdvance:P});return}if(await Sa(2e3),f||(O=await N(),f))return}})()}),{abortConfirmation:w,confirmationPromise:b}=this.getTransactionConfirmationPromise({commitment:t,signature:u}),T=this.getCancellationPromise(e);let B;try{const M=await Promise.race([T,b,p]);if(M.__type===js.PROCESSED)B=M.response;else{let O;for(;;){const P=await this.getSignatureStatus(u);if(P==null)break;if(P.context.slot<(M.slotInWhichNonceDidAdvance??r)){await Sa(400);continue}O=P;break}if(O!=null&&O.value){const P=t||"finalized",{confirmationStatus:N}=O.value;switch(P){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new Lu(u);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new Lu(u);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new Lu(u);break;default:}B={context:O.context,value:{err:O.value.err}}}else throw new Lu(u)}}finally{f=!0,w()}return B}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const s=new Promise(p=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>p({__type:js.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:i,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let f;try{const p=await Promise.race([u,s]);if(p.__type===js.PROCESSED)f=p.response;else throw new K1(e,p.timeoutMs/1e3)}finally{clearTimeout(r),i()}return f}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=je(t,Dt(Ve(v6)));if("error"in e)throw new Et(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),s=je(r,_6);if("error"in s)throw new Et(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:r}=fn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlot",s),u=je(i,Dt(de()));if("error"in u)throw new Et(u.error,"failed to get slot");return u.result}async getSlotLeader(t){const{commitment:e,config:r}=fn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlotLeader",s),u=je(i,Dt(Pe()));if("error"in u)throw new Et(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(t,e){const r=[t,e],s=await this._rpcRequest("getSlotLeaders",r),i=je(s,Dt(Ve(Nn)));if("error"in i)throw new Et(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:r,value:s}=await this.getSignatureStatuses([t],e);tn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const s=await this._rpcRequest("getSignatureStatuses",r),i=je(s,S6);if("error"in i)throw new Et(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:r}=fn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getTransactionCount",s),u=je(i,Dt(de()));if("error"in u)throw new Et(u.error,"failed to get transaction count");return u.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),s=je(r,KC);if("error"in s)throw new Et(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,r){const{commitment:s,config:i}=fn(r),u=this._buildArgs([t.map(w=>w.toBase58())],s,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),f=await this._rpcRequest("getInflationReward",u),p=je(f,NC);if("error"in p)throw new Et(p.error,"failed to get inflation reward");return p.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=je(t,VC);if("error"in e)throw new Et(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:r}=fn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getEpochInfo",s),u=je(i,ZC);if("error"in u)throw new Et(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=je(t,YC);if("error"in e)throw new Et(e.error,"failed to get epoch schedule");const r=e.result;return new Sk(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=je(t,QC);if("error"in e)throw new Et(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=je(s,x6);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=je(e,D6);if("error"in r)throw new Et(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=je(s,U6);if("error"in i)throw new Et(i.error,"failed to get fee calculator");const{context:u,value:f}=i.result;return{context:u,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(t,e){const r=Ft(t.serialize()).toString("base64"),s=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",s),u=je(i,Un(Ze(de())));if("error"in u)throw new Et(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(t){var u;const e=(u=t==null?void 0:t.lockedWritableAccounts)==null?void 0:u.map(f=>f.toBase58()),r=e!=null&&e.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=je(s,GC);if("error"in i)throw new Et(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=fn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),u=je(i,L6);if("error"in u)throw new Et(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgs([t],r,void 0,s),u=await this._rpcRequest("isBlockhashValid",i),f=je(u,O6);if("error"in f)throw new Et(f.error,"failed to determine if the blockhash `"+t+"`is valid");return f.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=je(t,Dt(zC));if("error"in e)throw new Et(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=je(t,Dt(Pe()));if("error"in e)throw new Et(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),u=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const f=je(u,R6);if("error"in f)throw f.error;return f.result}case"none":{const f=je(u,M6);if("error"in f)throw f.error;return f.result}default:{const f=je(u,I6);if("error"in f)throw f.error;const{result:p}=f;return p?{...p,transactions:p.transactions.map(({transaction:w,meta:b,version:T})=>({meta:b,transaction:{...w,message:Pg(T,w.message)},version:T}))}:null}}}catch(f){throw new Et(f,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),u=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const f=je(u,N6);if("error"in f)throw f.error;return f.result}case"none":{const f=je(u,B6);if("error"in f)throw f.error;return f.result}default:{const f=je(u,T6);if("error"in f)throw f.error;return f.result}}}catch(f){throw new Et(f,"failed to get block")}}async getBlockProduction(t){let e,r;if(typeof t=="string")r=t;else if(t){const{commitment:f,...p}=t;r=f,e=p}const s=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",s),u=je(i,jC);if("error"in u)throw new Et(u.error,"failed to get block production information");return u.result}async getTransaction(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),u=await this._rpcRequest("getTransaction",i),f=je(u,Dg);if("error"in f)throw new Et(f.error,"failed to get transaction");const p=f.result;return p&&{...p,transaction:{...p.transaction,message:Pg(p.version,p.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:r,config:s}=fn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),u=await this._rpcRequest("getTransaction",i),f=je(u,Ah);if("error"in f)throw new Et(f.error,"failed to get transaction");return f.result}async getParsedTransactions(t,e){const{commitment:r,config:s}=fn(e),i=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(p=>{const w=je(p,Ah);if("error"in w)throw new Et(w.error,"failed to get transactions");return w.result})}async getTransactions(t,e){const{commitment:r,config:s}=fn(e),i=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(p=>{const w=je(p,Dg);if("error"in w)throw new Et(w.error,"failed to get transactions");const b=w.result;return b&&{...b,transaction:{...b.transaction,message:Pg(b.version,b.transaction.message)}}})}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getBlock",r),i=je(s,C6);if("error"in i)throw new Et(i.error,"failed to get confirmed block");const u=i.result;if(!u)throw new Error("Confirmed block "+t+" not found");const f={...u,transactions:u.transactions.map(({transaction:p,meta:w})=>{const b=new na(p.message);return{meta:w,transaction:{...p,message:b}}})};return{...f,transactions:f.transactions.map(({transaction:p,meta:w})=>({meta:w,transaction:un.populate(p.message,p.signatures)}))}}async getBlocks(t,e,r){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",s),u=je(i,Dt(Ve(de())));if("error"in u)throw new Et(u.error,"failed to get blocks");return u.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=je(s,lE);if("error"in i)throw new Et(i.error,"failed to get block");const u=i.result;if(!u)throw new Error("Block "+t+" not found");return u}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=je(s,lE);if("error"in i)throw new Et(i.error,"failed to get confirmed block");const u=i.result;if(!u)throw new Error("Confirmed block "+t+" not found");return u}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getTransaction",r),i=je(s,Dg);if("error"in i)throw new Et(i.error,"failed to get transaction");const u=i.result;if(!u)return u;const f=new na(u.transaction.message),p=u.transaction.signatures;return{...u,transaction:un.populate(f,p)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=je(s,Ah);if("error"in i)throw new Et(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],e,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(u=>{const f=je(u,Ah);if("error"in f)throw new Et(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(t,e,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const p=await this.getConfirmedBlockSignatures(e,"finalized");p.signatures.length>0&&(s.until=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}let u=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>u));)try{const p=await this.getConfirmedBlockSignatures(r);p.signatures.length>0&&(s.before=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(p=>p.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),u=je(i,u6);if("error"in u)throw new Et(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),u=je(i,c6);if("error"in u)throw new Et(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new Bm({key:t,state:Bm.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=bk.fromAccountData(s.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=je(r,z6);if("error"in s)throw new Et(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Sa(100);const r=Date.now()-this._blockhashInfo.lastFetch>=kk;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Sa(wk/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=fn(t),s=this._buildArgs([],e,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),u=je(i,Un(de()));if("error"in u)throw new Et(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(t,e,r){if("message"in t){const P=t.serialize(),N=Nt.Buffer.from(P).toString("base64");if(Array.isArray(e)||r!==void 0)throw new Error("Invalid arguments");const $=e||{};$.encoding="base64","commitment"in $||($.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&($.innerInstructions=e.innerInstructions);const j=[N,$],F=await this._rpcRequest("simulateTransaction",j),Y=je(F,uE);if("error"in Y)throw new Error("failed to simulate transaction: "+Y.error.message);return Y.result}let s;if(t instanceof un){let O=t;s=new un,s.feePayer=O.feePayer,s.instructions=t.instructions,s.nonceInfo=O.nonceInfo,s.signatures=O.signatures}else s=un.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let O=this._disableBlockhashCaching;for(;;){const P=await this._blockhashWithExpiryBlockHeight(O);if(s.lastValidBlockHeight=P.lastValidBlockHeight,s.recentBlockhash=P.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const N=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else O=!0}}const u=s._compile(),f=u.serialize(),w=s._serialize(f).toString("base64"),b={encoding:"base64",commitment:this.commitment};if(r){const O=(Array.isArray(r)?r:u.nonProgramIds()).map(P=>P.toBase58());b.accounts={encoding:"base64",addresses:O}}i&&(b.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(b.innerInstructions=e.innerInstructions);const T=[w,b],B=await this._rpcRequest("simulateTransaction",T),M=je(B,uE);if("error"in M){let O;if("data"in M.error&&(O=M.error.data.logs,O&&Array.isArray(O))){const P=`
    `,N=P+O.join(P);console.error(M.error.message,N)}throw new ra({action:"simulate",signature:"",transactionMessage:M.error.message,logs:O})}return M.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const u=t.serialize();return await this.sendRawTransaction(u,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let u=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(u);if(t.lastValidBlockHeight=f.lastValidBlockHeight,t.recentBlockhash=f.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const p=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(p))u=!0;else{this._blockhashInfo.transactionSignatures.push(p);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=Ft(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const u=[t,r],f=await this._rpcRequest("sendTransaction",u),p=je(f,F6);if("error"in p){let w;throw"data"in p.error&&(w=p.error.data.logs),new ra({action:s?"send":"simulate",signature:"",transactionMessage:p.error.message,logs:w})}return p.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:"pending"})})}_setSubscription(t,e){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(u=>{try{u(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:u}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const f=await this._rpcWebSocket.call(u,i);this._setSubscription(r,{...s,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=s.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:i,error:f}),!e())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:u}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[i])}catch(f){if(f instanceof Error&&console.error(`${u} error:`,f.message),!e())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:r}=je(t,l6);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,s=sE([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const u=this._subscriptionsByHash[s];tn(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),u.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:s,config:i}=fn(r),u=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=je(t,h6);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,s){const{commitment:i,config:u}=fn(r),f=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",u||(s?{filters:aE(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=je(t,j6);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=je(t,p6);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=je(t,y6);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,s){const i=e||this._commitment;if(i||r||s){let u={};r&&(u.encoding=r),i&&(u.commitment=i),s&&(u=Object.assign(u,s)),t.push(u)}return t}_buildArgsAtLeastConfirmed(t,e,r,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,s)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=je(t,m6);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(u,f)=>{if(u.type==="status"){e(u.result,f);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},u=this._buildArgs([t],s,void 0,i),f=this._makeSubscription({callback:(p,w)=>{e(p,w);try{this.removeSignatureListener(f)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return f}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=je(t,w6);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}};class Fu{constructor(t){this._keypair=void 0,this._keypair=t??tE()}static generate(){return new Fu(tE())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const s=t.slice(0,32),i=_d(s);for(let u=0;u<32;u++)if(r[u]!==i[u])throw new Error("provided secretKey is invalid")}return new Fu({publicKey:r,secretKey:t})}static fromSeed(t){const e=_d(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Fu({publicKey:e,secretKey:r})}get publicKey(){return new Fe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Zs=Object.freeze({CreateLookupTable:{index:0,layout:se.struct([se.u32("instruction"),Ju("recentSlot"),se.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:se.struct([se.u32("instruction")])},ExtendLookupTable:{index:2,layout:se.struct([se.u32("instruction"),Ju(),se.seq(Wt(),se.offset(se.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:se.struct([se.u32("instruction")])},CloseLookupTable:{index:4,layout:se.struct([se.u32("instruction")])}});class q6{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=se.u32("instruction").decode(t.data);let s;for(const[i,u]of Object.entries(Zs))if(u.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=sn(Zs.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=sn(Zs.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map(r=>new Fe(r))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(J1.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class J1{constructor(){}static createLookupTable(t){const[e,r]=Fe.findProgramAddressSync([t.authority.toBuffer(),xm.toBufferLE(BigInt(t.recentSlot),8)],this.programId),s=Zs.CreateLookupTable,i=Zt(s,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Qn.programId,isSigner:!1,isWritable:!1}];return[new cn({programId:this.programId,keys:u,data:i}),e]}static freezeLookupTable(t){const e=Zs.FreezeLookupTable,r=Zt(e),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new cn({programId:this.programId,keys:s,data:r})}static extendLookupTable(t){const e=Zs.ExtendLookupTable,r=Zt(e,{addresses:t.addresses.map(i=>i.toBytes())}),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&s.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Qn.programId,isSigner:!1,isWritable:!1}),new cn({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(t){const e=Zs.DeactivateLookupTable,r=Zt(e),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new cn({programId:this.programId,keys:s,data:r})}static closeLookupTable(t){const e=Zs.CloseLookupTable,r=Zt(e),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new cn({programId:this.programId,keys:s,data:r})}}J1.programId=new Fe("AddressLookupTab1e1111111111111111111111111");class K6{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=se.u8("instruction").decode(t.data);let s;for(const[i,u]of Object.entries(ms))if(u.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:r}=sn(ms.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=sn(ms.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=sn(ms.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=sn(ms.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(X1.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ms=Object.freeze({RequestUnits:{index:0,layout:se.struct([se.u8("instruction"),se.u32("units"),se.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:se.struct([se.u8("instruction"),se.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:se.struct([se.u8("instruction"),se.u32("units")])},SetComputeUnitPrice:{index:3,layout:se.struct([se.u8("instruction"),Ju("microLamports")])}});class X1{constructor(){}static requestUnits(t){const e=ms.RequestUnits,r=Zt(e,t);return new cn({keys:[],programId:this.programId,data:r})}static requestHeapFrame(t){const e=ms.RequestHeapFrame,r=Zt(e,t);return new cn({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(t){const e=ms.SetComputeUnitLimit,r=Zt(e,t);return new cn({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(t){const e=ms.SetComputeUnitPrice,r=Zt(e,{microLamports:BigInt(t.microLamports)});return new cn({keys:[],programId:this.programId,data:r})}}X1.programId=new Fe("ComputeBudget111111111111111111111111111111");const fE=64,hE=32,dE=64,pE=se.struct([se.u8("numSignatures"),se.u8("padding"),se.u16("signatureOffset"),se.u16("signatureInstructionIndex"),se.u16("publicKeyOffset"),se.u16("publicKeyInstructionIndex"),se.u16("messageDataOffset"),se.u16("messageDataSize"),se.u16("messageInstructionIndex")]);class t0{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:s,instructionIndex:i}=t;tn(e.length===hE,`Public Key must be ${hE} bytes but received ${e.length} bytes`),tn(s.length===dE,`Signature must be ${dE} bytes but received ${s.length} bytes`);const u=pE.span,f=u+e.length,p=f+s.length,w=1,b=Nt.Buffer.alloc(p+r.length),T=i??65535;return pE.encode({numSignatures:w,padding:0,signatureOffset:f,signatureInstructionIndex:T,publicKeyOffset:u,publicKeyInstructionIndex:T,messageDataOffset:p,messageDataSize:r.length,messageInstructionIndex:T},b),b.fill(e,u),b.fill(s,f),b.fill(r,p),new cn({keys:[],programId:t0.programId,data:b})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:s}=t;tn(e.length===fE,`Private key must be ${fE} bytes but received ${e.length} bytes`);try{const i=Fu.fromSecretKey(e),u=i.publicKey.toBytes(),f=H1(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:u,message:r,signature:f,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}t0.programId=new Fe("Ed25519SigVerify111111111111111111111111111");const V6=(n,t)=>{const e=Yd.sign(n,t);return[e.toCompactRawBytes(),e.recovery]};Yd.utils.isValidPrivateKey;const G6=Yd.getPublicKey,gE=32,Ug=20,yE=64,Z6=11,zg=se.struct([se.u8("numSignatures"),se.u16("signatureOffset"),se.u8("signatureInstructionIndex"),se.u16("ethAddressOffset"),se.u8("ethAddressInstructionIndex"),se.u16("messageDataOffset"),se.u16("messageDataSize"),se.u8("messageInstructionIndex"),se.blob(20,"ethAddress"),se.blob(64,"signature"),se.u8("recoveryId")]);class $u{constructor(){}static publicKeyToEthAddress(t){tn(t.length===yE,`Public key must be ${yE} bytes but received ${t.length} bytes`);try{return Nt.Buffer.from(Yb(Ft(t))).slice(-Ug)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:s,recoveryId:i,instructionIndex:u}=t;return $u.createInstructionWithEthAddress({ethAddress:$u.publicKeyToEthAddress(e),message:r,signature:s,recoveryId:i,instructionIndex:u})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:s,recoveryId:i,instructionIndex:u=0}=t;let f;typeof e=="string"?e.startsWith("0x")?f=Nt.Buffer.from(e.substr(2),"hex"):f=Nt.Buffer.from(e,"hex"):f=e,tn(f.length===Ug,`Address must be ${Ug} bytes but received ${f.length} bytes`);const p=1+Z6,w=p,b=p+f.length,T=b+s.length+1,B=1,M=Nt.Buffer.alloc(zg.span+r.length);return zg.encode({numSignatures:B,signatureOffset:b,signatureInstructionIndex:u,ethAddressOffset:w,ethAddressInstructionIndex:u,messageDataOffset:T,messageDataSize:r.length,messageInstructionIndex:u,signature:Ft(s),ethAddress:Ft(f),recoveryId:i},M),M.fill(Ft(r),zg.span),new cn({keys:[],programId:$u.programId,data:M})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:s}=t;tn(e.length===gE,`Private key must be ${gE} bytes but received ${e.length} bytes`);try{const i=Ft(e),u=G6(i,!1).slice(1),f=Nt.Buffer.from(Yb(Ft(r))),[p,w]=V6(f,i);return this.createInstructionWithPublicKey({publicKey:u,message:r,signature:p,recoveryId:w,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}$u.programId=new Fe("KeccakSecp256k11111111111111111111111111111");var Ok;const Pk=new Fe("StakeConfig11111111111111111111111111111111");class Dk{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}let tf=class{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}};Ok=tf;tf.default=new Ok(0,0,Fe.default);class Y6{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=se.u32("instruction").decode(t.data);let s;for(const[i,u]of Object.entries(sr))if(u.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:r}=sn(sr.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Dk(new Fe(e.staker),new Fe(e.withdrawer)),lockup:new tf(r.unixTimestamp,r.epoch,new Fe(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),sn(sr.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:r}=sn(sr.Authorize,t.data),s={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new Fe(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=sn(sr.AuthorizeWithSeed,t.data),u={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:s,authorityOwner:new Fe(i),newAuthorizedPubkey:new Fe(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(u.custodianPubkey=t.keys[3].pubkey),u}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=sn(sr.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),sn(sr.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=sn(sr.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),sn(sr.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(n0.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const sr=Object.freeze({Initialize:{index:0,layout:se.struct([se.u32("instruction"),QB(),JB()])},Authorize:{index:1,layout:se.struct([se.u32("instruction"),Wt("newAuthorized"),se.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:se.struct([se.u32("instruction")])},Split:{index:3,layout:se.struct([se.u32("instruction"),se.ns64("lamports")])},Withdraw:{index:4,layout:se.struct([se.u32("instruction"),se.ns64("lamports")])},Deactivate:{index:5,layout:se.struct([se.u32("instruction")])},Merge:{index:7,layout:se.struct([se.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:se.struct([se.u32("instruction"),Wt("newAuthorized"),se.u32("stakeAuthorizationType"),ka("authoritySeed"),Wt("authorityOwner")])}}),Q6=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class n0{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:s}=t,i=s||tf.default,u=sr.Initialize,f=Zt(u,{authorized:{staker:Ft(r.staker.toBuffer()),withdrawer:Ft(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Ft(i.custodian.toBuffer())}}),p={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qu,isSigner:!1,isWritable:!1}],programId:this.programId,data:f};return new cn(p)}static createAccountWithSeed(t){const e=new un;e.add(Qn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(t){const e=new un;e.add(Qn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:s}=t,i=sr.Delegate,u=Zt(i);return new un().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:ed,isSigner:!1,isWritable:!1},{pubkey:Pk,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:u}=t,f=sr.Authorize,p=Zt(f,{newAuthorized:Ft(s.toBuffer()),stakeAuthorizationType:i.index}),w=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:gs,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new un().add({keys:w,programId:this.programId,data:p})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:u,stakeAuthorizationType:f,custodianPubkey:p}=t,w=sr.AuthorizeWithSeed,b=Zt(w,{newAuthorized:Ft(u.toBuffer()),stakeAuthorizationType:f.index,authoritySeed:s,authorityOwner:Ft(i.toBuffer())}),T=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:gs,isSigner:!1,isWritable:!1}];return p&&T.push({pubkey:p,isSigner:!0,isWritable:!1}),new un().add({keys:T,programId:this.programId,data:b})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=t,u=sr.Split,f=Zt(u,{lamports:i});return new cn({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static split(t,e){const r=new un;return r.add(Qn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:u,seed:f,lamports:p}=t,w=new un;return w.add(Qn.allocate({accountPubkey:i,basePubkey:u,seed:f,space:this.space,programId:this.programId})),e&&e>0&&w.add(Qn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),w.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:p}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:s}=t,i=sr.Merge,u=Zt(i);return new un().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:ed,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:u}=t,f=sr.Withdraw,p=Zt(f,{lamports:i}),w=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:ed,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new un().add({keys:w,programId:this.programId,data:p})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,s=sr.Deactivate,i=Zt(s);return new un().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}n0.programId=new Fe("Stake11111111111111111111111111111111111111");n0.space=200;class Uk{constructor(t,e,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=s}}class J6{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=se.u32("instruction").decode(t.data);let s;for(const[i,u]of Object.entries(ws))if(u.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=sn(ws.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Uk(new Fe(e.nodePubkey),new Fe(e.authorizedVoter),new Fe(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:r}=sn(ws.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new Fe(e),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=sn(ws.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Fe(e),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Fe(s),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=sn(ws.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(pc.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ws=Object.freeze({InitializeAccount:{index:0,layout:se.struct([se.u32("instruction"),XB()])},Authorize:{index:1,layout:se.struct([se.u32("instruction"),Wt("newAuthorized"),se.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:se.struct([se.u32("instruction"),se.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:se.struct([se.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:se.struct([se.u32("instruction"),eC()])}}),X6=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class pc{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:s}=t,i=ws.InitializeAccount,u=Zt(i,{voteInit:{nodePubkey:Ft(s.nodePubkey.toBuffer()),authorizedVoter:Ft(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Ft(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),f={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qu,isSigner:!1,isWritable:!1},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new cn(f)}static createAccount(t){const e=new un;return e.add(Qn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=t,u=ws.Authorize,f=Zt(u,{newAuthorized:Ft(s.toBuffer()),voteAuthorizationType:i.index}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new un().add({keys:p,programId:this.programId,data:f})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:u,votePubkey:f}=t,p=ws.AuthorizeWithSeed,w=Zt(p,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ft(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Ft(i.toBuffer()),voteAuthorizationType:u.index}}),b=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new un().add({keys:b,programId:this.programId,data:w})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=t,u=ws.Withdraw,f=Zt(u,{lamports:s}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new un().add({keys:p,programId:this.programId,data:f})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return pc.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:s}=t,i=ws.UpdateValidatorIdentity,u=Zt(i),f=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new un().add({keys:f,programId:this.programId,data:u})}}pc.programId=new Fe("Vote111111111111111111111111111111111111111");pc.space=3762;const zk=new Fe("Va1idator1nfo111111111111111111111111111111"),e8=Ie({name:Pe(),website:Rt(Pe()),details:Rt(Pe()),iconUrl:Rt(Pe()),keybaseUsername:Rt(Pe())});class ew{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(si(e)!==2)return null;const s=[];for(let i=0;i<2;i++){const u=new Fe(oi(e,0,bs)),f=ys(e)===1;s.push({publicKey:u,isSigner:f})}if(s[0].publicKey.equals(zk)&&s[1].isSigner){const i=ka().decode(Nt.Buffer.from(e)),u=JSON.parse(i);return Yx(u,e8),new ew(s[1].publicKey,u)}return null}}const t8=new Fe("Vote111111111111111111111111111111111111111"),n8=se.struct([Wt("nodePubkey"),Wt("authorizedWithdrawer"),se.u8("commission"),se.nu64(),se.seq(se.struct([se.nu64("slot"),se.u32("confirmationCount")]),se.offset(se.u32(),-8),"votes"),se.u8("rootSlotValid"),se.nu64("rootSlot"),se.nu64(),se.seq(se.struct([se.nu64("epoch"),Wt("authorizedVoter")]),se.offset(se.u32(),-8),"authorizedVoters"),se.struct([se.seq(se.struct([Wt("authorizedPubkey"),se.nu64("epochOfLastAuthorizedSwitch"),se.nu64("targetEpoch")]),32,"buf"),se.nu64("idx"),se.u8("isEmpty")],"priorVoters"),se.nu64(),se.seq(se.struct([se.nu64("epoch"),se.nu64("credits"),se.nu64("prevCredits")]),se.offset(se.u32(),-8),"epochCredits"),se.struct([se.nu64("slot"),se.nu64("timestamp")],"lastTimestamp")]);class tw{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const r=n8.decode(Ft(t),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new tw({nodePubkey:new Fe(r.nodePubkey),authorizedWithdrawer:new Fe(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(r8),priorVoters:i8(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function r8({authorizedVoter:n,epoch:t}){return{epoch:t,authorizedVoter:new Fe(n)}}function mE({authorizedPubkey:n,epochOfLastAuthorizedSwitch:t,targetEpoch:e}){return{authorizedPubkey:new Fe(n),epochOfLastAuthorizedSwitch:t,targetEpoch:e}}function i8({buf:n,idx:t,isEmpty:e}){return e?[]:[...n.slice(t+1).map(mE),...n.slice(0,t).map(mE)]}const wE={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function s8(n,t){const e=t===!1?"http":"https";if(!n)return wE[e].devnet;const r=wE[e][n];if(!r)throw new Error(`Unknown ${e} cluster: ${n}`);return r}async function o8(n,t,e,r){let s,i;e&&Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")||e&&Object.prototype.hasOwnProperty.call(e,"nonceValue")?(s=e,i=r):i=e;const u=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},f=await n.sendRawTransaction(t,u),p=i&&i.commitment,b=(await(s?n.confirmTransaction(s,p):n.confirmTransaction(f,p))).value;if(b.err)throw f!=null?new ra({action:u!=null&&u.skipPreflight?"send":"simulate",signature:f,transactionMessage:`Status: (${JSON.stringify(b)})`}):new Error(`Raw transaction ${f} failed (${JSON.stringify(b)})`);return f}const a8=1e9,u8=Object.freeze(Object.defineProperty({__proto__:null,Account:GB,AddressLookupTableAccount:Bm,AddressLookupTableInstruction:q6,AddressLookupTableProgram:J1,Authorized:Dk,BLOCKHASH_CACHE_TIMEOUT_MS:kk,BPF_LOADER_DEPRECATED_PROGRAM_ID:ZB,BPF_LOADER_PROGRAM_ID:yC,BpfLoader:mC,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ms,ComputeBudgetInstruction:K6,ComputeBudgetProgram:X1,Connection:W6,Ed25519Program:t0,Enum:KB,EpochSchedule:Sk,FeeCalculatorLayout:vk,Keypair:Fu,LAMPORTS_PER_SOL:a8,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Zs,Loader:$a,Lockup:tf,MAX_SEED_LENGTH:hk,Message:na,MessageAccountKeys:Rl,MessageV0:Jd,NONCE_ACCOUNT_LENGTH:Nm,NonceAccount:bk,PACKET_DATA_SIZE:Go,PUBLIC_KEY_LENGTH:bs,PublicKey:Fe,SIGNATURE_LENGTH_IN_BYTES:Ml,SOLANA_SCHEMA:vl,STAKE_CONFIG_ID:Pk,STAKE_INSTRUCTION_LAYOUTS:sr,SYSTEM_INSTRUCTION_LAYOUTS:dn,SYSVAR_CLOCK_PUBKEY:gs,SYSVAR_EPOCH_SCHEDULE_PUBKEY:oC,SYSVAR_INSTRUCTIONS_PUBKEY:aC,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Xh,SYSVAR_RENT_PUBKEY:Qu,SYSVAR_REWARDS_PUBKEY:uC,SYSVAR_SLOT_HASHES_PUBKEY:cC,SYSVAR_SLOT_HISTORY_PUBKEY:lC,SYSVAR_STAKE_HISTORY_PUBKEY:ed,Secp256k1Program:$u,SendTransactionError:ra,SolanaJSONRPCError:Et,SolanaJSONRPCErrorCode:fC,StakeAuthorizationLayout:Q6,StakeInstruction:Y6,StakeProgram:n0,Struct:W1,SystemInstruction:pC,SystemProgram:Qn,Transaction:un,TransactionExpiredBlockheightExceededError:q1,TransactionExpiredNonceInvalidError:Lu,TransactionExpiredTimeoutError:K1,TransactionInstruction:cn,TransactionMessage:G1,TransactionStatus:js,VALIDATOR_INFO_KEY:zk,VERSION_PREFIX_MASK:Qd,VOTE_PROGRAM_ID:t8,ValidatorInfo:ew,VersionedMessage:V1,VersionedTransaction:nC,VoteAccount:tw,VoteAuthorizationLayout:X6,VoteInit:Uk,VoteInstruction:J6,VoteProgram:pc,clusterApiUrl:s8,sendAndConfirmRawTransaction:o8,sendAndConfirmTransaction:Tm},Symbol.toStringTag,{value:"Module"}));var Ih={exports:{}},vE;function c8(){if(vE)return Ih.exports;vE=1;const n=/[\p{Lu}]/u,t=/[\p{Ll}]/u,e=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,i=new RegExp("^"+s.source),u=new RegExp(s.source+r.source,"gu"),f=new RegExp("\\d+"+r.source,"gu"),p=(B,M,O)=>{let P=!1,N=!1,$=!1;for(let j=0;j<B.length;j++){const F=B[j];P&&n.test(F)?(B=B.slice(0,j)+"-"+B.slice(j),P=!1,$=N,N=!0,j++):N&&$&&t.test(F)?(B=B.slice(0,j-1)+"-"+B.slice(j-1),$=N,N=!1,P=!0):(P=M(F)===F&&O(F)!==F,$=N,N=O(F)===F&&M(F)!==F)}return B},w=(B,M)=>(e.lastIndex=0,B.replace(e,O=>M(O))),b=(B,M)=>(u.lastIndex=0,f.lastIndex=0,B.replace(u,(O,P)=>M(P)).replace(f,O=>M(O))),T=(B,M)=>{if(!(typeof B=="string"||Array.isArray(B)))throw new TypeError("Expected the input to be `string | string[]`");if(M={pascalCase:!1,preserveConsecutiveUppercase:!1,...M},Array.isArray(B)?B=B.map($=>$.trim()).filter($=>$.length).join("-"):B=B.trim(),B.length===0)return"";const O=M.locale===!1?$=>$.toLowerCase():$=>$.toLocaleLowerCase(M.locale),P=M.locale===!1?$=>$.toUpperCase():$=>$.toLocaleUpperCase(M.locale);return B.length===1?M.pascalCase?P(B):O(B):(B!==O(B)&&(B=p(B,O,P)),B=B.replace(i,""),M.preserveConsecutiveUppercase?B=w(B,O):B=O(B),M.pascalCase&&(B=P(B.charAt(0))+B.slice(1)),b(B,P))};return Ih.exports=T,Ih.exports.default=T,Ih.exports}c8();var Mh={},Xe={},_E;function bE(){if(_E)return Xe;_E=1;class n{constructor(k,g){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=g}makeDestinationObject(){return{}}decode(k,g){throw new Error("Layout is abstract")}encode(k,g,c){throw new Error("Layout is abstract")}getSpan(k,g){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(k){const g=Object.create(this.constructor.prototype);return Object.assign(g,this),g.property=k,g}fromArray(k){}}Xe.Layout=n;function t(I,k){return k.property?I+"["+k.property+"]":I}Xe.nameWithProperty=t;function e(I,k){if(typeof I!="function")throw new TypeError("Class must be constructor");if(I.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(k&&k instanceof n))throw new TypeError("layout must be a Layout");if(k.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");I.layout_=k,k.boundConstructor_=I,k.makeDestinationObject=()=>new I,Object.defineProperty(I.prototype,"encode",{value:function(g,c){return k.encode(this,g,c)},writable:!0}),Object.defineProperty(I,"decode",{value:function(g,c){return k.decode(g,c)},writable:!0})}Xe.bindConstructorLayout=e;class r extends n{isCount(){throw new Error("ExternalLayout is abstract")}}class s extends r{constructor(k,g){if(k===void 0&&(k=1),!Number.isInteger(k)||0>=k)throw new TypeError("elementSpan must be a (positive) integer");super(-1,g),this.elementSpan=k}isCount(){return!0}decode(k,g){g===void 0&&(g=0);const c=k.length-g;return Math.floor(c/this.elementSpan)}encode(k,g,c){return 0}}class i extends r{constructor(k,g,c){if(!(k instanceof n))throw new TypeError("layout must be a Layout");if(g===void 0)g=0;else if(!Number.isInteger(g))throw new TypeError("offset must be integer or undefined");super(k.span,c||k.property),this.layout=k,this.offset=g}isCount(){return this.layout instanceof u||this.layout instanceof f}decode(k,g){return g===void 0&&(g=0),this.layout.decode(k,g+this.offset)}encode(k,g,c){return c===void 0&&(c=0),this.layout.encode(k,g,c+this.offset)}}class u extends n{constructor(k,g){if(super(k,g),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,g){return g===void 0&&(g=0),k.readUIntLE(g,this.span)}encode(k,g,c){return c===void 0&&(c=0),g.writeUIntLE(k,c,this.span),this.span}}class f extends n{constructor(k,g){if(super(k,g),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,g){return g===void 0&&(g=0),k.readUIntBE(g,this.span)}encode(k,g,c){return c===void 0&&(c=0),g.writeUIntBE(k,c,this.span),this.span}}class p extends n{constructor(k,g){if(super(k,g),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,g){return g===void 0&&(g=0),k.readIntLE(g,this.span)}encode(k,g,c){return c===void 0&&(c=0),g.writeIntLE(k,c,this.span),this.span}}class w extends n{constructor(k,g){if(super(k,g),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,g){return g===void 0&&(g=0),k.readIntBE(g,this.span)}encode(k,g,c){return c===void 0&&(c=0),g.writeIntBE(k,c,this.span),this.span}}const b=Math.pow(2,32);function T(I){const k=Math.floor(I/b),g=I-k*b;return{hi32:k,lo32:g}}function B(I,k){return I*b+k}class M extends n{constructor(k){super(8,k)}decode(k,g){g===void 0&&(g=0);const c=k.readUInt32LE(g),d=k.readUInt32LE(g+4);return B(d,c)}encode(k,g,c){c===void 0&&(c=0);const d=T(k);return g.writeUInt32LE(d.lo32,c),g.writeUInt32LE(d.hi32,c+4),8}}class O extends n{constructor(k){super(8,k)}decode(k,g){g===void 0&&(g=0);const c=k.readUInt32BE(g),d=k.readUInt32BE(g+4);return B(c,d)}encode(k,g,c){c===void 0&&(c=0);const d=T(k);return g.writeUInt32BE(d.hi32,c),g.writeUInt32BE(d.lo32,c+4),8}}class P extends n{constructor(k){super(8,k)}decode(k,g){g===void 0&&(g=0);const c=k.readUInt32LE(g),d=k.readInt32LE(g+4);return B(d,c)}encode(k,g,c){c===void 0&&(c=0);const d=T(k);return g.writeUInt32LE(d.lo32,c),g.writeInt32LE(d.hi32,c+4),8}}class N extends n{constructor(k){super(8,k)}decode(k,g){g===void 0&&(g=0);const c=k.readInt32BE(g),d=k.readUInt32BE(g+4);return B(c,d)}encode(k,g,c){c===void 0&&(c=0);const d=T(k);return g.writeInt32BE(d.hi32,c),g.writeUInt32BE(d.lo32,c+4),8}}class $ extends n{constructor(k){super(4,k)}decode(k,g){return g===void 0&&(g=0),k.readFloatLE(g)}encode(k,g,c){return c===void 0&&(c=0),g.writeFloatLE(k,c),4}}class j extends n{constructor(k){super(4,k)}decode(k,g){return g===void 0&&(g=0),k.readFloatBE(g)}encode(k,g,c){return c===void 0&&(c=0),g.writeFloatBE(k,c),4}}class F extends n{constructor(k){super(8,k)}decode(k,g){return g===void 0&&(g=0),k.readDoubleLE(g)}encode(k,g,c){return c===void 0&&(c=0),g.writeDoubleLE(k,c),8}}class Y extends n{constructor(k){super(8,k)}decode(k,g){return g===void 0&&(g=0),k.readDoubleBE(g)}encode(k,g,c){return c===void 0&&(c=0),g.writeDoubleBE(k,c),8}}class J extends n{constructor(k,g,c){if(!(k instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(g instanceof r&&g.isCount()||Number.isInteger(g)&&0<=g))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let d=-1;!(g instanceof r)&&0<k.span&&(d=g*k.span),super(d,c),this.elementLayout=k,this.count=g}getSpan(k,g){if(0<=this.span)return this.span;g===void 0&&(g=0);let c=0,d=this.count;if(d instanceof r&&(d=d.decode(k,g)),0<this.elementLayout.span)c=d*this.elementLayout.span;else{let R=0;for(;R<d;)c+=this.elementLayout.getSpan(k,g+c),++R}return c}decode(k,g){g===void 0&&(g=0);const c=[];let d=0,R=this.count;for(R instanceof r&&(R=R.decode(k,g));d<R;)c.push(this.elementLayout.decode(k,g)),g+=this.elementLayout.getSpan(k,g),d+=1;return c}encode(k,g,c){c===void 0&&(c=0);const d=this.elementLayout,R=k.reduce((D,H)=>D+d.encode(H,g,c+D),0);return this.count instanceof r&&this.count.encode(k.length,g,c),R}}class X extends n{constructor(k,g,c){if(!(Array.isArray(k)&&k.reduce((R,D)=>R&&D instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof g=="boolean"&&c===void 0&&(c=g,g=void 0);for(const R of k)if(0>R.span&&R.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let d=-1;try{d=k.reduce((R,D)=>R+D.getSpan(),0)}catch{}super(d,g),this.fields=k,this.decodePrefixes=!!c}getSpan(k,g){if(0<=this.span)return this.span;g===void 0&&(g=0);let c=0;try{c=this.fields.reduce((d,R)=>{const D=R.getSpan(k,g);return g+=D,d+D},0)}catch{throw new RangeError("indeterminate span")}return c}decode(k,g){g===void 0&&(g=0);const c=this.makeDestinationObject();for(const d of this.fields)if(d.property!==void 0&&(c[d.property]=d.decode(k,g)),g+=d.getSpan(k,g),this.decodePrefixes&&k.length===g)break;return c}encode(k,g,c){c===void 0&&(c=0);const d=c;let R=0,D=0;for(const H of this.fields){let ee=H.span;if(D=0<ee?ee:0,H.property!==void 0){const oe=k[H.property];oe!==void 0&&(D=H.encode(oe,g,c),0>ee&&(ee=H.getSpan(g,c)))}R=c,c+=ee}return R+D-d}fromArray(k){const g=this.makeDestinationObject();for(const c of this.fields)c.property!==void 0&&0<k.length&&(g[c.property]=k.shift());return g}layoutFor(k){if(typeof k!="string")throw new TypeError("property must be string");for(const g of this.fields)if(g.property===k)return g}offsetOf(k){if(typeof k!="string")throw new TypeError("property must be string");let g=0;for(const c of this.fields){if(c.property===k)return g;0>c.span?g=-1:0<=g&&(g+=c.span)}}}class te{constructor(k){this.property=k}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class re extends te{constructor(k,g){if(!(k instanceof r&&k.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(g||k.property||"variant"),this.layout=k}decode(k,g){return this.layout.decode(k,g)}encode(k,g,c){return this.layout.encode(k,g,c)}}class W extends n{constructor(k,g,c){const d=k instanceof u||k instanceof f;if(d)k=new re(new i(k));else if(k instanceof r&&k.isCount())k=new re(k);else if(!(k instanceof te))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(g===void 0&&(g=null),!(g===null||g instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(g!==null){if(0>g.span)throw new Error("defaultLayout must have constant span");g.property===void 0&&(g=g.replicate("content"))}let R=-1;g&&(R=g.span,0<=R&&d&&(R+=k.layout.span)),super(R,c),this.discriminator=k,this.usesPrefixDiscriminator=d,this.defaultLayout=g,this.registry={};let D=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(H){return D(H)},this.configGetSourceVariant=function(H){D=H.bind(this)}}getSpan(k,g){if(0<=this.span)return this.span;g===void 0&&(g=0);const c=this.getVariant(k,g);if(!c)throw new Error("unable to determine span for unrecognized variant");return c.getSpan(k,g)}defaultGetSourceVariant(k){if(k.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&k.hasOwnProperty(this.defaultLayout.property))return;const g=this.registry[k[this.discriminator.property]];if(g&&(!g.layout||k.hasOwnProperty(g.property)))return g}else for(const g in this.registry){const c=this.registry[g];if(k.hasOwnProperty(c.property))return c}throw new Error("unable to infer src variant")}decode(k,g){g===void 0&&(g=0);let c;const d=this.discriminator,R=d.decode(k,g);let D=this.registry[R];if(D===void 0){let H=0;D=this.defaultLayout,this.usesPrefixDiscriminator&&(H=d.layout.span),c=this.makeDestinationObject(),c[d.property]=R,c[D.property]=this.defaultLayout.decode(k,g+H)}else c=D.decode(k,g);return c}encode(k,g,c){c===void 0&&(c=0);const d=this.getSourceVariant(k);if(d===void 0){const R=this.discriminator,D=this.defaultLayout;let H=0;return this.usesPrefixDiscriminator&&(H=R.layout.span),R.encode(k[R.property],g,c),H+D.encode(k[D.property],g,c+H)}return d.encode(k,g,c)}addVariant(k,g,c){const d=new q(this,k,g,c);return this.registry[k]=d,d}getVariant(k,g){let c=k;return Buffer.isBuffer(k)&&(g===void 0&&(g=0),c=this.discriminator.decode(k,g)),this.registry[c]}}class q extends n{constructor(k,g,c,d){if(!(k instanceof W))throw new TypeError("union must be a Union");if(!Number.isInteger(g)||0>g)throw new TypeError("variant must be a (non-negative) integer");if(typeof c=="string"&&d===void 0&&(d=c,c=null),c){if(!(c instanceof n))throw new TypeError("layout must be a Layout");if(k.defaultLayout!==null&&0<=c.span&&c.span>k.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof d!="string")throw new TypeError("variant must have a String property")}let R=k.span;0>k.span&&(R=c?c.span:0,0<=R&&k.usesPrefixDiscriminator&&(R+=k.discriminator.layout.span)),super(R,d),this.union=k,this.variant=g,this.layout=c||null}getSpan(k,g){if(0<=this.span)return this.span;g===void 0&&(g=0);let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),c+this.layout.getSpan(k,g+c)}decode(k,g){const c=this.makeDestinationObject();if(g===void 0&&(g=0),this!==this.union.getVariant(k,g))throw new Error("variant mismatch");let d=0;return this.union.usesPrefixDiscriminator&&(d=this.union.discriminator.layout.span),this.layout?c[this.property]=this.layout.decode(k,g+d):this.property?c[this.property]=!0:this.union.usesPrefixDiscriminator&&(c[this.union.discriminator.property]=this.variant),c}encode(k,g,c){c===void 0&&(c=0);let d=0;if(this.union.usesPrefixDiscriminator&&(d=this.union.discriminator.layout.span),this.layout&&!k.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,g,c);let R=d;if(this.layout&&(this.layout.encode(k[this.property],g,c+d),R+=this.layout.getSpan(g,c+d),0<=this.union.span&&R>this.union.span))throw new Error("encoded variant overruns containing union");return R}fromArray(k){if(this.layout)return this.layout.fromArray(k)}}function K(I){return 0>I&&(I+=4294967296),I}class V extends n{constructor(k,g,c){if(!(k instanceof u||k instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof g=="string"&&c===void 0&&(c=g,g=void 0),4<k.span)throw new RangeError("word cannot exceed 32 bits");super(k.span,c),this.word=k,this.msb=!!g,this.fields=[];let d=0;this._packedSetValue=function(R){return d=K(R),this},this._packedGetValue=function(){return d}}decode(k,g){const c=this.makeDestinationObject();g===void 0&&(g=0);const d=this.word.decode(k,g);this._packedSetValue(d);for(const R of this.fields)R.property!==void 0&&(c[R.property]=R.decode(d));return c}encode(k,g,c){c===void 0&&(c=0);const d=this.word.decode(g,c);this._packedSetValue(d);for(const R of this.fields)if(R.property!==void 0){const D=k[R.property];D!==void 0&&R.encode(D)}return this.word.encode(this._packedGetValue(),g,c)}addField(k,g){const c=new S(this,k,g);return this.fields.push(c),c}addBoolean(k){const g=new a(this,k);return this.fields.push(g),g}fieldFor(k){if(typeof k!="string")throw new TypeError("property must be string");for(const g of this.fields)if(g.property===k)return g}}class S{constructor(k,g,c){if(!(k instanceof V))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(g)||0>=g)throw new TypeError("bits must be positive integer");const d=8*k.span,R=k.fields.reduce((D,H)=>D+H.bits,0);if(g+R>d)throw new Error("bits too long for span remainder ("+(d-R)+" of "+d+" remain)");this.container=k,this.bits=g,this.valueMask=(1<<g)-1,g===32&&(this.valueMask=4294967295),this.start=R,this.container.msb&&(this.start=d-R-g),this.wordMask=K(this.valueMask<<this.start),this.property=c}decode(){const k=this.container._packedGetValue();return K(k&this.wordMask)>>>this.start}encode(k){if(!Number.isInteger(k)||k!==K(k&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const g=this.container._packedGetValue(),c=K(k<<this.start);this.container._packedSetValue(K(g&~this.wordMask)|c)}}class a extends S{constructor(k,g){super(k,1,g)}decode(k,g){return!!S.prototype.decode.call(this,k,g)}encode(k){return typeof k=="boolean"&&(k=+k),S.prototype.encode.call(this,k)}}class h extends n{constructor(k,g){if(!(k instanceof r&&k.isCount()||Number.isInteger(k)&&0<=k))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let c=-1;k instanceof r||(c=k),super(c,g),this.length=k}getSpan(k,g){let c=this.span;return 0>c&&(c=this.length.decode(k,g)),c}decode(k,g){g===void 0&&(g=0);let c=this.span;return 0>c&&(c=this.length.decode(k,g)),k.slice(g,g+c)}encode(k,g,c){let d=this.length;if(this.length instanceof r&&(d=k.length),!(Buffer.isBuffer(k)&&d===k.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+d+") Buffer as src");if(c+d>g.length)throw new RangeError("encoding overruns Buffer");return g.write(k.toString("hex"),c,d,"hex"),this.length instanceof r&&this.length.encode(d,g,c),d}}class m extends n{constructor(k){super(-1,k)}getSpan(k,g){if(!Buffer.isBuffer(k))throw new TypeError("b must be a Buffer");g===void 0&&(g=0);let c=g;for(;c<k.length&&k[c]!==0;)c+=1;return 1+c-g}decode(k,g,c){g===void 0&&(g=0);let d=this.getSpan(k,g);return k.slice(g,g+d-1).toString("utf-8")}encode(k,g,c){c===void 0&&(c=0),typeof k!="string"&&(k=k.toString());const d=new Buffer(k,"utf8"),R=d.length;if(c+R>g.length)throw new RangeError("encoding overruns Buffer");return d.copy(g,c),g[c+R]=0,R+1}}class E extends n{constructor(k,g){if(typeof k=="string"&&g===void 0&&(g=k,k=void 0),k===void 0)k=-1;else if(!Number.isInteger(k))throw new TypeError("maxSpan must be an integer");super(-1,g),this.maxSpan=k}getSpan(k,g){if(!Buffer.isBuffer(k))throw new TypeError("b must be a Buffer");return g===void 0&&(g=0),k.length-g}decode(k,g,c){g===void 0&&(g=0);let d=this.getSpan(k,g);if(0<=this.maxSpan&&this.maxSpan<d)throw new RangeError("text length exceeds maxSpan");return k.slice(g,g+d).toString("utf-8")}encode(k,g,c){c===void 0&&(c=0),typeof k!="string"&&(k=k.toString());const d=new Buffer(k,"utf8"),R=d.length;if(0<=this.maxSpan&&this.maxSpan<R)throw new RangeError("text length exceeds maxSpan");if(c+R>g.length)throw new RangeError("encoding overruns Buffer");return d.copy(g,c),R}}class A extends n{constructor(k,g){super(0,g),this.value=k}decode(k,g,c){return this.value}encode(k,g,c){return 0}}return Xe.ExternalLayout=r,Xe.GreedyCount=s,Xe.OffsetLayout=i,Xe.UInt=u,Xe.UIntBE=f,Xe.Int=p,Xe.IntBE=w,Xe.Float=$,Xe.FloatBE=j,Xe.Double=F,Xe.DoubleBE=Y,Xe.Sequence=J,Xe.Structure=X,Xe.UnionDiscriminator=te,Xe.UnionLayoutDiscriminator=re,Xe.Union=W,Xe.VariantLayout=q,Xe.BitStructure=V,Xe.BitField=S,Xe.Boolean=a,Xe.Blob=h,Xe.CString=m,Xe.UTF8=E,Xe.Constant=A,Xe.greedy=(I,k)=>new s(I,k),Xe.offset=(I,k,g)=>new i(I,k,g),Xe.u8=I=>new u(1,I),Xe.u16=I=>new u(2,I),Xe.u24=I=>new u(3,I),Xe.u32=I=>new u(4,I),Xe.u40=I=>new u(5,I),Xe.u48=I=>new u(6,I),Xe.nu64=I=>new M(I),Xe.u16be=I=>new f(2,I),Xe.u24be=I=>new f(3,I),Xe.u32be=I=>new f(4,I),Xe.u40be=I=>new f(5,I),Xe.u48be=I=>new f(6,I),Xe.nu64be=I=>new O(I),Xe.s8=I=>new p(1,I),Xe.s16=I=>new p(2,I),Xe.s24=I=>new p(3,I),Xe.s32=I=>new p(4,I),Xe.s40=I=>new p(5,I),Xe.s48=I=>new p(6,I),Xe.ns64=I=>new P(I),Xe.s16be=I=>new w(2,I),Xe.s24be=I=>new w(3,I),Xe.s32be=I=>new w(4,I),Xe.s40be=I=>new w(5,I),Xe.s48be=I=>new w(6,I),Xe.ns64be=I=>new N(I),Xe.f32=I=>new $(I),Xe.f32be=I=>new j(I),Xe.f64=I=>new F(I),Xe.f64be=I=>new Y(I),Xe.struct=(I,k,g)=>new X(I,k,g),Xe.bits=(I,k,g)=>new V(I,k,g),Xe.seq=(I,k,g)=>new J(I,k,g),Xe.union=(I,k,g)=>new W(I,k,g),Xe.unionLayoutDiscriminator=(I,k)=>new re(I,k),Xe.blob=(I,k)=>new h(I,k),Xe.cstr=I=>new m(I),Xe.utf8=(I,k)=>new E(I,k),Xe.const=(I,k)=>new A(I,k),Xe}const l8=oc(u8);var EE;function f8(){return EE||(EE=1,function(n){var t=Mh.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const e=bE(),r=l8,s=t(D1());var i=bE();Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return i.struct}});class u extends e.Layout{constructor(S,a,h){super(S,h),this.blob=(0,e.blob)(S),this.signed=a}decode(S,a=0){const h=new s.default(this.blob.decode(S,a),10,"le");return this.signed?h.fromTwos(this.span*8).clone():h}encode(S,a,h=0){return this.signed&&(S=S.toTwos(this.span*8)),this.blob.encode(S.toArrayLike(Buffer,"le",this.span),a,h)}}function f(V){return new u(8,!1,V)}n.u64=f;function p(V){return new u(8,!0,V)}n.i64=p;function w(V){return new u(16,!1,V)}n.u128=w;function b(V){return new u(16,!0,V)}n.i128=b;function T(V){return new u(32,!1,V)}n.u256=T;function B(V){return new u(32,!0,V)}n.i256=B;class M extends e.Layout{constructor(S,a,h,m){super(S.span,m),this.layout=S,this.decoder=a,this.encoder=h}decode(S,a){return this.decoder(this.layout.decode(S,a))}encode(S,a,h){return this.layout.encode(this.encoder(S),a,h)}getSpan(S,a){return this.layout.getSpan(S,a)}}function O(V){return new M((0,e.blob)(32),S=>new r.PublicKey(S),S=>S.toBuffer(),V)}n.publicKey=O;class P extends e.Layout{constructor(S,a){super(-1,a),this.layout=S,this.discriminator=(0,e.u8)()}encode(S,a,h=0){return S==null?this.discriminator.encode(0,a,h):(this.discriminator.encode(1,a,h),this.layout.encode(S,a,h+1)+1)}decode(S,a=0){const h=this.discriminator.decode(S,a);if(h===0)return null;if(h===1)return this.layout.decode(S,a+1);throw new Error("Invalid option "+this.property)}getSpan(S,a=0){const h=this.discriminator.decode(S,a);if(h===0)return 1;if(h===1)return this.layout.getSpan(S,a+1)+1;throw new Error("Invalid option "+this.property)}}function N(V,S){return new P(V,S)}n.option=N;function $(V){return new M((0,e.u8)(),j,F,V)}n.bool=$;function j(V){if(V===0)return!1;if(V===1)return!0;throw new Error("Invalid bool: "+V)}function F(V){return V?1:0}function Y(V,S){const a=(0,e.u32)("length"),h=(0,e.struct)([a,(0,e.seq)(V,(0,e.offset)(a,-a.span),"values")]);return new M(h,({values:m})=>m,m=>({values:m}),S)}n.vec=Y;function J(V,S,a){const h=(0,e.struct)([f("tag"),S.replicate("data")]);function m({tag:E,data:A}){if(!E.eq(V))throw new Error("Invalid tag, expected: "+V.toString("hex")+", got: "+E.toString("hex"));return A}return new M(h,m,E=>({tag:V,data:E}),a)}n.tagged=J;function X(V){const S=(0,e.u32)("length"),a=(0,e.struct)([S,(0,e.blob)((0,e.offset)(S,-S.span),"data")]);return new M(a,({data:h})=>h,h=>({data:h}),V)}n.vecU8=X;function te(V){return new M(X(),S=>S.toString("utf-8"),S=>Buffer.from(S,"utf-8"),V)}n.str=te;function re(V,S,a){const h=(0,e.union)(a??(0,e.u8)(),S);return V.forEach((m,E)=>h.addVariant(E,m,m.property)),h}n.rustEnum=re;function W(V,S,a){const h=(0,e.struct)([(0,e.seq)(V,S,"values")]);return new M(h,({values:m})=>m,m=>({values:m}),a)}n.array=W;class q extends e.Layout{constructor(S,a,h){super(S.span+a.span,h),this.keyLayout=S,this.valueLayout=a}decode(S,a){a=a||0;const h=this.keyLayout.decode(S,a),m=this.valueLayout.decode(S,a+this.keyLayout.getSpan(S,a));return[h,m]}encode(S,a,h){h=h||0;const m=this.keyLayout.encode(S[0],a,h),E=this.valueLayout.encode(S[1],a,h+m);return m+E}getSpan(S,a){return this.keyLayout.getSpan(S,a)+this.valueLayout.getSpan(S,a)}}function K(V,S,a){const h=(0,e.u32)("length"),m=(0,e.struct)([h,(0,e.seq)(new q(V,S),(0,e.offset)(h,-h.span),"values")]);return new M(m,({values:E})=>new Map(E),E=>({values:Array.from(E.entries())}),a)}n.map=K}(Mh)),Mh}var Dr=f8();/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const h8=4,SE=0,xE=1,d8=2;function gc(n){let t=n.length;for(;--t>=0;)n[t]=0}const p8=0,Fk=1,g8=2,y8=3,m8=258,nw=29,nf=256,Nl=nf+1+nw,ju=30,rw=19,$k=2*Nl+1,Aa=15,Fg=16,w8=7,iw=256,jk=16,Hk=17,Wk=18,Pm=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),td=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),v8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),qk=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_8=512,Ws=new Array((Nl+2)*2);gc(Ws);const _l=new Array(ju*2);gc(_l);const Bl=new Array(_8);gc(Bl);const Cl=new Array(m8-y8+1);gc(Cl);const sw=new Array(nw);gc(sw);const Ed=new Array(ju);gc(Ed);function $g(n,t,e,r,s){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=r,this.max_length=s,this.has_stree=n&&n.length}let Kk,Vk,Gk;function jg(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}const Zk=n=>n<256?Bl[n]:Bl[256+(n>>>7)],Ll=(n,t)=>{n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255},ai=(n,t,e)=>{n.bi_valid>Fg-e?(n.bi_buf|=t<<n.bi_valid&65535,Ll(n,n.bi_buf),n.bi_buf=t>>Fg-n.bi_valid,n.bi_valid+=e-Fg):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},vs=(n,t,e)=>{ai(n,e[t*2],e[t*2+1])},Yk=(n,t)=>{let e=0;do e|=n&1,n>>>=1,e<<=1;while(--t>0);return e>>>1},b8=n=>{n.bi_valid===16?(Ll(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},E8=(n,t)=>{const e=t.dyn_tree,r=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length;let w,b,T,B,M,O,P=0;for(B=0;B<=Aa;B++)n.bl_count[B]=0;for(e[n.heap[n.heap_max]*2+1]=0,w=n.heap_max+1;w<$k;w++)b=n.heap[w],B=e[e[b*2+1]*2+1]+1,B>p&&(B=p,P++),e[b*2+1]=B,!(b>r)&&(n.bl_count[B]++,M=0,b>=f&&(M=u[b-f]),O=e[b*2],n.opt_len+=O*(B+M),i&&(n.static_len+=O*(s[b*2+1]+M)));if(P!==0){do{for(B=p-1;n.bl_count[B]===0;)B--;n.bl_count[B]--,n.bl_count[B+1]+=2,n.bl_count[p]--,P-=2}while(P>0);for(B=p;B!==0;B--)for(b=n.bl_count[B];b!==0;)T=n.heap[--w],!(T>r)&&(e[T*2+1]!==B&&(n.opt_len+=(B-e[T*2+1])*e[T*2],e[T*2+1]=B),b--)}},Qk=(n,t,e)=>{const r=new Array(Aa+1);let s=0,i,u;for(i=1;i<=Aa;i++)s=s+e[i-1]<<1,r[i]=s;for(u=0;u<=t;u++){let f=n[u*2+1];f!==0&&(n[u*2]=Yk(r[f]++,f))}},S8=()=>{let n,t,e,r,s;const i=new Array(Aa+1);for(e=0,r=0;r<nw-1;r++)for(sw[r]=e,n=0;n<1<<Pm[r];n++)Cl[e++]=r;for(Cl[e-1]=r,s=0,r=0;r<16;r++)for(Ed[r]=s,n=0;n<1<<td[r];n++)Bl[s++]=r;for(s>>=7;r<ju;r++)for(Ed[r]=s<<7,n=0;n<1<<td[r]-7;n++)Bl[256+s++]=r;for(t=0;t<=Aa;t++)i[t]=0;for(n=0;n<=143;)Ws[n*2+1]=8,n++,i[8]++;for(;n<=255;)Ws[n*2+1]=9,n++,i[9]++;for(;n<=279;)Ws[n*2+1]=7,n++,i[7]++;for(;n<=287;)Ws[n*2+1]=8,n++,i[8]++;for(Qk(Ws,Nl+1,i),n=0;n<ju;n++)_l[n*2+1]=5,_l[n*2]=Yk(n,5);Kk=new $g(Ws,Pm,nf+1,Nl,Aa),Vk=new $g(_l,td,0,ju,Aa),Gk=new $g(new Array(0),v8,0,rw,w8)},Jk=n=>{let t;for(t=0;t<Nl;t++)n.dyn_ltree[t*2]=0;for(t=0;t<ju;t++)n.dyn_dtree[t*2]=0;for(t=0;t<rw;t++)n.bl_tree[t*2]=0;n.dyn_ltree[iw*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},Xk=n=>{n.bi_valid>8?Ll(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},kE=(n,t,e,r)=>{const s=t*2,i=e*2;return n[s]<n[i]||n[s]===n[i]&&r[t]<=r[e]},Hg=(n,t,e)=>{const r=n.heap[e];let s=e<<1;for(;s<=n.heap_len&&(s<n.heap_len&&kE(t,n.heap[s+1],n.heap[s],n.depth)&&s++,!kE(t,r,n.heap[s],n.depth));)n.heap[e]=n.heap[s],e=s,s<<=1;n.heap[e]=r},AE=(n,t,e)=>{let r,s,i=0,u,f;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+i++]&255,r+=(n.pending_buf[n.sym_buf+i++]&255)<<8,s=n.pending_buf[n.sym_buf+i++],r===0?vs(n,s,t):(u=Cl[s],vs(n,u+nf+1,t),f=Pm[u],f!==0&&(s-=sw[u],ai(n,s,f)),r--,u=Zk(r),vs(n,u,e),f=td[u],f!==0&&(r-=Ed[u],ai(n,r,f)));while(i<n.sym_next);vs(n,iw,t)},Dm=(n,t)=>{const e=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let u,f,p=-1,w;for(n.heap_len=0,n.heap_max=$k,u=0;u<i;u++)e[u*2]!==0?(n.heap[++n.heap_len]=p=u,n.depth[u]=0):e[u*2+1]=0;for(;n.heap_len<2;)w=n.heap[++n.heap_len]=p<2?++p:0,e[w*2]=1,n.depth[w]=0,n.opt_len--,s&&(n.static_len-=r[w*2+1]);for(t.max_code=p,u=n.heap_len>>1;u>=1;u--)Hg(n,e,u);w=i;do u=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Hg(n,e,1),f=n.heap[1],n.heap[--n.heap_max]=u,n.heap[--n.heap_max]=f,e[w*2]=e[u*2]+e[f*2],n.depth[w]=(n.depth[u]>=n.depth[f]?n.depth[u]:n.depth[f])+1,e[u*2+1]=e[f*2+1]=w,n.heap[1]=w++,Hg(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],E8(n,t),Qk(e,p,n.bl_count)},IE=(n,t,e)=>{let r,s=-1,i,u=t[0*2+1],f=0,p=7,w=4;for(u===0&&(p=138,w=3),t[(e+1)*2+1]=65535,r=0;r<=e;r++)i=u,u=t[(r+1)*2+1],!(++f<p&&i===u)&&(f<w?n.bl_tree[i*2]+=f:i!==0?(i!==s&&n.bl_tree[i*2]++,n.bl_tree[jk*2]++):f<=10?n.bl_tree[Hk*2]++:n.bl_tree[Wk*2]++,f=0,s=i,u===0?(p=138,w=3):i===u?(p=6,w=3):(p=7,w=4))},ME=(n,t,e)=>{let r,s=-1,i,u=t[0*2+1],f=0,p=7,w=4;for(u===0&&(p=138,w=3),r=0;r<=e;r++)if(i=u,u=t[(r+1)*2+1],!(++f<p&&i===u)){if(f<w)do vs(n,i,n.bl_tree);while(--f!==0);else i!==0?(i!==s&&(vs(n,i,n.bl_tree),f--),vs(n,jk,n.bl_tree),ai(n,f-3,2)):f<=10?(vs(n,Hk,n.bl_tree),ai(n,f-3,3)):(vs(n,Wk,n.bl_tree),ai(n,f-11,7));f=0,s=i,u===0?(p=138,w=3):i===u?(p=6,w=3):(p=7,w=4)}},x8=n=>{let t;for(IE(n,n.dyn_ltree,n.l_desc.max_code),IE(n,n.dyn_dtree,n.d_desc.max_code),Dm(n,n.bl_desc),t=rw-1;t>=3&&n.bl_tree[qk[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t},k8=(n,t,e,r)=>{let s;for(ai(n,t-257,5),ai(n,e-1,5),ai(n,r-4,4),s=0;s<r;s++)ai(n,n.bl_tree[qk[s]*2+1],3);ME(n,n.dyn_ltree,t-1),ME(n,n.dyn_dtree,e-1)},A8=n=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&n.dyn_ltree[e*2]!==0)return SE;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return xE;for(e=32;e<nf;e++)if(n.dyn_ltree[e*2]!==0)return xE;return SE};let RE=!1;const I8=n=>{RE||(S8(),RE=!0),n.l_desc=new jg(n.dyn_ltree,Kk),n.d_desc=new jg(n.dyn_dtree,Vk),n.bl_desc=new jg(n.bl_tree,Gk),n.bi_buf=0,n.bi_valid=0,Jk(n)},eA=(n,t,e,r)=>{ai(n,(p8<<1)+(r?1:0),3),Xk(n),Ll(n,e),Ll(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e},M8=n=>{ai(n,Fk<<1,3),vs(n,iw,Ws),b8(n)},R8=(n,t,e,r)=>{let s,i,u=0;n.level>0?(n.strm.data_type===d8&&(n.strm.data_type=A8(n)),Dm(n,n.l_desc),Dm(n,n.d_desc),u=x8(n),s=n.opt_len+3+7>>>3,i=n.static_len+3+7>>>3,i<=s&&(s=i)):s=i=e+5,e+4<=s&&t!==-1?eA(n,t,e,r):n.strategy===h8||i===s?(ai(n,(Fk<<1)+(r?1:0),3),AE(n,Ws,_l)):(ai(n,(g8<<1)+(r?1:0),3),k8(n,n.l_desc.max_code+1,n.d_desc.max_code+1,u+1),AE(n,n.dyn_ltree,n.dyn_dtree)),Jk(n),r&&Xk(n)},T8=(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[e*2]++:(n.matches++,t--,n.dyn_ltree[(Cl[e]+nf+1)*2]++,n.dyn_dtree[Zk(t)*2]++),n.sym_next===n.sym_end);var N8=I8,B8=eA,C8=R8,L8=T8,O8=M8,P8={_tr_init:N8,_tr_stored_block:B8,_tr_flush_block:C8,_tr_tally:L8,_tr_align:O8};const D8=(n,t,e,r)=>{let s=n&65535|0,i=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do s=s+t[r++]|0,i=i+s|0;while(--u);s%=65521,i%=65521}return s|i<<16|0};var Ol=D8;const U8=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},z8=new Uint32Array(U8()),F8=(n,t,e,r)=>{const s=z8,i=r+e;n^=-1;for(let u=r;u<i;u++)n=n>>>8^s[(n^t[u])&255];return n^-1};var ir=F8,Pl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},r0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:$8,_tr_stored_block:Um,_tr_flush_block:j8,_tr_tally:Zo,_tr_align:H8}=P8,{Z_NO_FLUSH:Yo,Z_PARTIAL_FLUSH:W8,Z_FULL_FLUSH:q8,Z_FINISH:Ui,Z_BLOCK:TE,Z_OK:pr,Z_STREAM_END:NE,Z_STREAM_ERROR:Es,Z_DATA_ERROR:K8,Z_BUF_ERROR:Wg,Z_DEFAULT_COMPRESSION:V8,Z_FILTERED:G8,Z_HUFFMAN_ONLY:Rh,Z_RLE:Z8,Z_FIXED:Y8,Z_DEFAULT_STRATEGY:Q8,Z_UNKNOWN:J8,Z_DEFLATED:i0}=r0,X8=9,eL=15,tL=8,nL=29,rL=256,zm=rL+1+nL,iL=30,sL=19,oL=2*zm+1,aL=15,Gt=3,jo=258,Ss=jo+Gt+1,uL=32,Xu=42,ow=57,Fm=69,$m=73,jm=91,Hm=103,Ia=113,pl=666,zr=1,yc=2,ja=3,mc=4,cL=3,Ma=(n,t)=>(n.msg=Pl[t],t),BE=n=>n*2-(n>4?9:0),Fo=n=>{let t=n.length;for(;--t>=0;)n[t]=0},lL=n=>{let t,e,r,s=n.w_size;t=n.hash_size,r=t;do e=n.head[--r],n.head[r]=e>=s?e-s:0;while(--t);t=s,r=t;do e=n.prev[--r],n.prev[r]=e>=s?e-s:0;while(--t)};let fL=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask,Qo=fL;const bi=n=>{const t=n.state;let e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Ii=(n,t)=>{j8(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,bi(n.strm)},nn=(n,t)=>{n.pending_buf[n.pending++]=t},al=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255},Wm=(n,t,e,r)=>{let s=n.avail_in;return s>r&&(s=r),s===0?0:(n.avail_in-=s,t.set(n.input.subarray(n.next_in,n.next_in+s),e),n.state.wrap===1?n.adler=Ol(n.adler,t,s,e):n.state.wrap===2&&(n.adler=ir(n.adler,t,s,e)),n.next_in+=s,n.total_in+=s,s)},tA=(n,t)=>{let e=n.max_chain_length,r=n.strstart,s,i,u=n.prev_length,f=n.nice_match;const p=n.strstart>n.w_size-Ss?n.strstart-(n.w_size-Ss):0,w=n.window,b=n.w_mask,T=n.prev,B=n.strstart+jo;let M=w[r+u-1],O=w[r+u];n.prev_length>=n.good_match&&(e>>=2),f>n.lookahead&&(f=n.lookahead);do if(s=t,!(w[s+u]!==O||w[s+u-1]!==M||w[s]!==w[r]||w[++s]!==w[r+1])){r+=2,s++;do;while(w[++r]===w[++s]&&w[++r]===w[++s]&&w[++r]===w[++s]&&w[++r]===w[++s]&&w[++r]===w[++s]&&w[++r]===w[++s]&&w[++r]===w[++s]&&w[++r]===w[++s]&&r<B);if(i=jo-(B-r),r=B-jo,i>u){if(n.match_start=t,u=i,i>=f)break;M=w[r+u-1],O=w[r+u]}}while((t=T[t&b])>p&&--e!==0);return u<=n.lookahead?u:n.lookahead},ec=n=>{const t=n.w_size;let e,r,s;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-Ss)&&(n.window.set(n.window.subarray(t,t+t-r),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),lL(n),r+=t),n.strm.avail_in===0)break;if(e=Wm(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=e,n.lookahead+n.insert>=Gt)for(s=n.strstart-n.insert,n.ins_h=n.window[s],n.ins_h=Qo(n,n.ins_h,n.window[s+1]);n.insert&&(n.ins_h=Qo(n,n.ins_h,n.window[s+Gt-1]),n.prev[s&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=s,s++,n.insert--,!(n.lookahead+n.insert<Gt)););}while(n.lookahead<Ss&&n.strm.avail_in!==0)},nA=(n,t)=>{let e=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,s,i,u=0,f=n.strm.avail_in;do{if(r=65535,i=n.bi_valid+42>>3,n.strm.avail_out<i||(i=n.strm.avail_out-i,s=n.strstart-n.block_start,r>s+n.strm.avail_in&&(r=s+n.strm.avail_in),r>i&&(r=i),r<e&&(r===0&&t!==Ui||t===Yo||r!==s+n.strm.avail_in)))break;u=t===Ui&&r===s+n.strm.avail_in?1:0,Um(n,0,0,u),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,bi(n.strm),s&&(s>r&&(s=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+s),n.strm.next_out),n.strm.next_out+=s,n.strm.avail_out-=s,n.strm.total_out+=s,n.block_start+=s,r-=s),r&&(Wm(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(u===0);return f-=n.strm.avail_in,f&&(f>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=f&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-f,n.strm.next_in),n.strstart),n.strstart+=f,n.insert+=f>n.w_size-n.insert?n.w_size-n.insert:f),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),u?mc:t!==Yo&&t!==Ui&&n.strm.avail_in===0&&n.strstart===n.block_start?yc:(i=n.window_size-n.strstart,n.strm.avail_in>i&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,i+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),i>n.strm.avail_in&&(i=n.strm.avail_in),i&&(Wm(n.strm,n.window,n.strstart,i),n.strstart+=i,n.insert+=i>n.w_size-n.insert?n.w_size-n.insert:i),n.high_water<n.strstart&&(n.high_water=n.strstart),i=n.bi_valid+42>>3,i=n.pending_buf_size-i>65535?65535:n.pending_buf_size-i,e=i>n.w_size?n.w_size:i,s=n.strstart-n.block_start,(s>=e||(s||t===Ui)&&t!==Yo&&n.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,u=t===Ui&&n.strm.avail_in===0&&r===s?1:0,Um(n,n.block_start,r,u),n.block_start+=r,bi(n.strm)),u?ja:zr)},qg=(n,t)=>{let e,r;for(;;){if(n.lookahead<Ss){if(ec(n),n.lookahead<Ss&&t===Yo)return zr;if(n.lookahead===0)break}if(e=0,n.lookahead>=Gt&&(n.ins_h=Qo(n,n.ins_h,n.window[n.strstart+Gt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-Ss&&(n.match_length=tA(n,e)),n.match_length>=Gt)if(r=Zo(n,n.strstart-n.match_start,n.match_length-Gt),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=Gt){n.match_length--;do n.strstart++,n.ins_h=Qo(n,n.ins_h,n.window[n.strstart+Gt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Qo(n,n.ins_h,n.window[n.strstart+1]);else r=Zo(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Ii(n,!1),n.strm.avail_out===0))return zr}return n.insert=n.strstart<Gt-1?n.strstart:Gt-1,t===Ui?(Ii(n,!0),n.strm.avail_out===0?ja:mc):n.sym_next&&(Ii(n,!1),n.strm.avail_out===0)?zr:yc},Au=(n,t)=>{let e,r,s;for(;;){if(n.lookahead<Ss){if(ec(n),n.lookahead<Ss&&t===Yo)return zr;if(n.lookahead===0)break}if(e=0,n.lookahead>=Gt&&(n.ins_h=Qo(n,n.ins_h,n.window[n.strstart+Gt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=Gt-1,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-Ss&&(n.match_length=tA(n,e),n.match_length<=5&&(n.strategy===G8||n.match_length===Gt&&n.strstart-n.match_start>4096)&&(n.match_length=Gt-1)),n.prev_length>=Gt&&n.match_length<=n.prev_length){s=n.strstart+n.lookahead-Gt,r=Zo(n,n.strstart-1-n.prev_match,n.prev_length-Gt),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=s&&(n.ins_h=Qo(n,n.ins_h,n.window[n.strstart+Gt-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=Gt-1,n.strstart++,r&&(Ii(n,!1),n.strm.avail_out===0))return zr}else if(n.match_available){if(r=Zo(n,0,n.window[n.strstart-1]),r&&Ii(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return zr}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=Zo(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<Gt-1?n.strstart:Gt-1,t===Ui?(Ii(n,!0),n.strm.avail_out===0?ja:mc):n.sym_next&&(Ii(n,!1),n.strm.avail_out===0)?zr:yc},hL=(n,t)=>{let e,r,s,i;const u=n.window;for(;;){if(n.lookahead<=jo){if(ec(n),n.lookahead<=jo&&t===Yo)return zr;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=Gt&&n.strstart>0&&(s=n.strstart-1,r=u[s],r===u[++s]&&r===u[++s]&&r===u[++s])){i=n.strstart+jo;do;while(r===u[++s]&&r===u[++s]&&r===u[++s]&&r===u[++s]&&r===u[++s]&&r===u[++s]&&r===u[++s]&&r===u[++s]&&s<i);n.match_length=jo-(i-s),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=Gt?(e=Zo(n,1,n.match_length-Gt),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=Zo(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(Ii(n,!1),n.strm.avail_out===0))return zr}return n.insert=0,t===Ui?(Ii(n,!0),n.strm.avail_out===0?ja:mc):n.sym_next&&(Ii(n,!1),n.strm.avail_out===0)?zr:yc},dL=(n,t)=>{let e;for(;;){if(n.lookahead===0&&(ec(n),n.lookahead===0)){if(t===Yo)return zr;break}if(n.match_length=0,e=Zo(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(Ii(n,!1),n.strm.avail_out===0))return zr}return n.insert=0,t===Ui?(Ii(n,!0),n.strm.avail_out===0?ja:mc):n.sym_next&&(Ii(n,!1),n.strm.avail_out===0)?zr:yc};function hs(n,t,e,r,s){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=r,this.func=s}const gl=[new hs(0,0,0,0,nA),new hs(4,4,8,4,qg),new hs(4,5,16,8,qg),new hs(4,6,32,32,qg),new hs(4,4,16,16,Au),new hs(8,16,32,32,Au),new hs(8,16,128,128,Au),new hs(8,32,128,256,Au),new hs(32,128,258,1024,Au),new hs(32,258,258,4096,Au)],pL=n=>{n.window_size=2*n.w_size,Fo(n.head),n.max_lazy_match=gl[n.level].max_lazy,n.good_match=gl[n.level].good_length,n.nice_match=gl[n.level].nice_length,n.max_chain_length=gl[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=Gt-1,n.match_available=0,n.ins_h=0};function gL(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=i0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(oL*2),this.dyn_dtree=new Uint16Array((2*iL+1)*2),this.bl_tree=new Uint16Array((2*sL+1)*2),Fo(this.dyn_ltree),Fo(this.dyn_dtree),Fo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(aL+1),this.heap=new Uint16Array(2*zm+1),Fo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*zm+1),Fo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const rf=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.status!==Xu&&t.status!==ow&&t.status!==Fm&&t.status!==$m&&t.status!==jm&&t.status!==Hm&&t.status!==Ia&&t.status!==pl?1:0},rA=n=>{if(rf(n))return Ma(n,Es);n.total_in=n.total_out=0,n.data_type=J8;const t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?ow:t.wrap?Xu:Ia,n.adler=t.wrap===2?0:1,t.last_flush=-2,$8(t),pr},iA=n=>{const t=rA(n);return t===pr&&pL(n.state),t},yL=(n,t)=>rf(n)||n.state.wrap!==2?Es:(n.state.gzhead=t,pr),sA=(n,t,e,r,s,i)=>{if(!n)return Es;let u=1;if(t===V8&&(t=6),r<0?(u=0,r=-r):r>15&&(u=2,r-=16),s<1||s>X8||e!==i0||r<8||r>15||t<0||t>9||i<0||i>Y8||r===8&&u!==1)return Ma(n,Es);r===8&&(r=9);const f=new gL;return n.state=f,f.strm=n,f.status=Xu,f.wrap=u,f.gzhead=null,f.w_bits=r,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=s+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+Gt-1)/Gt),f.window=new Uint8Array(f.w_size*2),f.head=new Uint16Array(f.hash_size),f.prev=new Uint16Array(f.w_size),f.lit_bufsize=1<<s+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=new Uint8Array(f.pending_buf_size),f.sym_buf=f.lit_bufsize,f.sym_end=(f.lit_bufsize-1)*3,f.level=t,f.strategy=i,f.method=e,iA(n)},mL=(n,t)=>sA(n,t,i0,eL,tL,Q8),wL=(n,t)=>{if(rf(n)||t>TE||t<0)return n?Ma(n,Es):Es;const e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===pl&&t!==Ui)return Ma(n,n.avail_out===0?Wg:Es);const r=e.last_flush;if(e.last_flush=t,e.pending!==0){if(bi(n),n.avail_out===0)return e.last_flush=-1,pr}else if(n.avail_in===0&&BE(t)<=BE(r)&&t!==Ui)return Ma(n,Wg);if(e.status===pl&&n.avail_in!==0)return Ma(n,Wg);if(e.status===Xu&&e.wrap===0&&(e.status=Ia),e.status===Xu){let s=i0+(e.w_bits-8<<4)<<8,i=-1;if(e.strategy>=Rh||e.level<2?i=0:e.level<6?i=1:e.level===6?i=2:i=3,s|=i<<6,e.strstart!==0&&(s|=uL),s+=31-s%31,al(e,s),e.strstart!==0&&(al(e,n.adler>>>16),al(e,n.adler&65535)),n.adler=1,e.status=Ia,bi(n),e.pending!==0)return e.last_flush=-1,pr}if(e.status===ow){if(n.adler=0,nn(e,31),nn(e,139),nn(e,8),e.gzhead)nn(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),nn(e,e.gzhead.time&255),nn(e,e.gzhead.time>>8&255),nn(e,e.gzhead.time>>16&255),nn(e,e.gzhead.time>>24&255),nn(e,e.level===9?2:e.strategy>=Rh||e.level<2?4:0),nn(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(nn(e,e.gzhead.extra.length&255),nn(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=ir(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=Fm;else if(nn(e,0),nn(e,0),nn(e,0),nn(e,0),nn(e,0),nn(e,e.level===9?2:e.strategy>=Rh||e.level<2?4:0),nn(e,cL),e.status=Ia,bi(n),e.pending!==0)return e.last_flush=-1,pr}if(e.status===Fm){if(e.gzhead.extra){let s=e.pending,i=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+i>e.pending_buf_size;){let f=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+f),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>s&&(n.adler=ir(n.adler,e.pending_buf,e.pending-s,s)),e.gzindex+=f,bi(n),e.pending!==0)return e.last_flush=-1,pr;s=0,i-=f}let u=new Uint8Array(e.gzhead.extra);e.pending_buf.set(u.subarray(e.gzindex,e.gzindex+i),e.pending),e.pending+=i,e.gzhead.hcrc&&e.pending>s&&(n.adler=ir(n.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=$m}if(e.status===$m){if(e.gzhead.name){let s=e.pending,i;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(n.adler=ir(n.adler,e.pending_buf,e.pending-s,s)),bi(n),e.pending!==0)return e.last_flush=-1,pr;s=0}e.gzindex<e.gzhead.name.length?i=e.gzhead.name.charCodeAt(e.gzindex++)&255:i=0,nn(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>s&&(n.adler=ir(n.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=jm}if(e.status===jm){if(e.gzhead.comment){let s=e.pending,i;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(n.adler=ir(n.adler,e.pending_buf,e.pending-s,s)),bi(n),e.pending!==0)return e.last_flush=-1,pr;s=0}e.gzindex<e.gzhead.comment.length?i=e.gzhead.comment.charCodeAt(e.gzindex++)&255:i=0,nn(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>s&&(n.adler=ir(n.adler,e.pending_buf,e.pending-s,s))}e.status=Hm}if(e.status===Hm){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(bi(n),e.pending!==0))return e.last_flush=-1,pr;nn(e,n.adler&255),nn(e,n.adler>>8&255),n.adler=0}if(e.status=Ia,bi(n),e.pending!==0)return e.last_flush=-1,pr}if(n.avail_in!==0||e.lookahead!==0||t!==Yo&&e.status!==pl){let s=e.level===0?nA(e,t):e.strategy===Rh?dL(e,t):e.strategy===Z8?hL(e,t):gl[e.level].func(e,t);if((s===ja||s===mc)&&(e.status=pl),s===zr||s===ja)return n.avail_out===0&&(e.last_flush=-1),pr;if(s===yc&&(t===W8?H8(e):t!==TE&&(Um(e,0,0,!1),t===q8&&(Fo(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),bi(n),n.avail_out===0))return e.last_flush=-1,pr}return t!==Ui?pr:e.wrap<=0?NE:(e.wrap===2?(nn(e,n.adler&255),nn(e,n.adler>>8&255),nn(e,n.adler>>16&255),nn(e,n.adler>>24&255),nn(e,n.total_in&255),nn(e,n.total_in>>8&255),nn(e,n.total_in>>16&255),nn(e,n.total_in>>24&255)):(al(e,n.adler>>>16),al(e,n.adler&65535)),bi(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?pr:NE)},vL=n=>{if(rf(n))return Es;const t=n.state.status;return n.state=null,t===Ia?Ma(n,K8):pr},_L=(n,t)=>{let e=t.length;if(rf(n))return Es;const r=n.state,s=r.wrap;if(s===2||s===1&&r.status!==Xu||r.lookahead)return Es;if(s===1&&(n.adler=Ol(n.adler,t,e,0)),r.wrap=0,e>=r.w_size){s===0&&(Fo(r.head),r.strstart=0,r.block_start=0,r.insert=0);let p=new Uint8Array(r.w_size);p.set(t.subarray(e-r.w_size,e),0),t=p,e=r.w_size}const i=n.avail_in,u=n.next_in,f=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,ec(r);r.lookahead>=Gt;){let p=r.strstart,w=r.lookahead-(Gt-1);do r.ins_h=Qo(r,r.ins_h,r.window[p+Gt-1]),r.prev[p&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=p,p++;while(--w);r.strstart=p,r.lookahead=Gt-1,ec(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Gt-1,r.match_available=0,n.next_in=u,n.input=f,n.avail_in=i,r.wrap=s,pr};var bL=mL,EL=sA,SL=iA,xL=rA,kL=yL,AL=wL,IL=vL,ML=_L,RL="pako deflate (from Nodeca project)",bl={deflateInit:bL,deflateInit2:EL,deflateReset:SL,deflateResetKeep:xL,deflateSetHeader:kL,deflate:AL,deflateEnd:IL,deflateSetDictionary:ML,deflateInfo:RL};const TL=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var NL=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)TL(e,r)&&(n[r]=e[r])}}return n},BL=n=>{let t=0;for(let r=0,s=n.length;r<s;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,s=0,i=n.length;r<i;r++){let u=n[r];e.set(u,s),s+=u.length}return e},s0={assign:NL,flattenChunks:BL};let oA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oA=!1}const Dl=new Uint8Array(256);for(let n=0;n<256;n++)Dl[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Dl[254]=Dl[254]=1;var CL=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,s,i,u=n.length,f=0;for(s=0;s<u;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),f+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(f),i=0,s=0;i<f;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|e&63):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|e&63):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|e&63);return t};const LL=(n,t)=>{if(t<65534&&n.subarray&&oA)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var OL=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,s;const i=new Array(e*2);for(s=0,r=0;r<e;){let u=n[r++];if(u<128){i[s++]=u;continue}let f=Dl[u];if(f>4){i[s++]=65533,r+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&r<e;)u=u<<6|n[r++]&63,f--;if(f>1){i[s++]=65533;continue}u<65536?i[s++]=u:(u-=65536,i[s++]=55296|u>>10&1023,i[s++]=56320|u&1023)}return LL(i,s)},PL=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Dl[n[e]]>t?e:t},Ul={string2buf:CL,buf2string:OL,utf8border:PL};function DL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aA=DL;const uA=Object.prototype.toString,{Z_NO_FLUSH:UL,Z_SYNC_FLUSH:zL,Z_FULL_FLUSH:FL,Z_FINISH:$L,Z_OK:Sd,Z_STREAM_END:jL,Z_DEFAULT_COMPRESSION:HL,Z_DEFAULT_STRATEGY:WL,Z_DEFLATED:qL}=r0;function aw(n){this.options=s0.assign({level:HL,method:qL,chunkSize:16384,windowBits:15,memLevel:8,strategy:WL},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aA,this.strm.avail_out=0;let e=bl.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Sd)throw new Error(Pl[e]);if(t.header&&bl.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Ul.string2buf(t.dictionary):uA.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,e=bl.deflateSetDictionary(this.strm,r),e!==Sd)throw new Error(Pl[e]);this._dict_set=!0}}aw.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?$L:UL,typeof n=="string"?e.input=Ul.string2buf(n):uA.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(i===zL||i===FL)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(s=bl.deflate(e,i),s===jL)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=bl.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Sd;if(e.avail_out===0){this.onData(e.output);continue}if(i>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};aw.prototype.onData=function(n){this.chunks.push(n)};aw.prototype.onEnd=function(n){n===Sd&&(this.result=s0.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const Th=16209,KL=16191;var VL=function(t,e){let r,s,i,u,f,p,w,b,T,B,M,O,P,N,$,j,F,Y,J,X,te,re,W,q;const K=t.state;r=t.next_in,W=t.input,s=r+(t.avail_in-5),i=t.next_out,q=t.output,u=i-(e-t.avail_out),f=i+(t.avail_out-257),p=K.dmax,w=K.wsize,b=K.whave,T=K.wnext,B=K.window,M=K.hold,O=K.bits,P=K.lencode,N=K.distcode,$=(1<<K.lenbits)-1,j=(1<<K.distbits)-1;e:do{O<15&&(M+=W[r++]<<O,O+=8,M+=W[r++]<<O,O+=8),F=P[M&$];t:for(;;){if(Y=F>>>24,M>>>=Y,O-=Y,Y=F>>>16&255,Y===0)q[i++]=F&65535;else if(Y&16){J=F&65535,Y&=15,Y&&(O<Y&&(M+=W[r++]<<O,O+=8),J+=M&(1<<Y)-1,M>>>=Y,O-=Y),O<15&&(M+=W[r++]<<O,O+=8,M+=W[r++]<<O,O+=8),F=N[M&j];n:for(;;){if(Y=F>>>24,M>>>=Y,O-=Y,Y=F>>>16&255,Y&16){if(X=F&65535,Y&=15,O<Y&&(M+=W[r++]<<O,O+=8,O<Y&&(M+=W[r++]<<O,O+=8)),X+=M&(1<<Y)-1,X>p){t.msg="invalid distance too far back",K.mode=Th;break e}if(M>>>=Y,O-=Y,Y=i-u,X>Y){if(Y=X-Y,Y>b&&K.sane){t.msg="invalid distance too far back",K.mode=Th;break e}if(te=0,re=B,T===0){if(te+=w-Y,Y<J){J-=Y;do q[i++]=B[te++];while(--Y);te=i-X,re=q}}else if(T<Y){if(te+=w+T-Y,Y-=T,Y<J){J-=Y;do q[i++]=B[te++];while(--Y);if(te=0,T<J){Y=T,J-=Y;do q[i++]=B[te++];while(--Y);te=i-X,re=q}}}else if(te+=T-Y,Y<J){J-=Y;do q[i++]=B[te++];while(--Y);te=i-X,re=q}for(;J>2;)q[i++]=re[te++],q[i++]=re[te++],q[i++]=re[te++],J-=3;J&&(q[i++]=re[te++],J>1&&(q[i++]=re[te++]))}else{te=i-X;do q[i++]=q[te++],q[i++]=q[te++],q[i++]=q[te++],J-=3;while(J>2);J&&(q[i++]=q[te++],J>1&&(q[i++]=q[te++]))}}else if(Y&64){t.msg="invalid distance code",K.mode=Th;break e}else{F=N[(F&65535)+(M&(1<<Y)-1)];continue n}break}}else if(Y&64)if(Y&32){K.mode=KL;break e}else{t.msg="invalid literal/length code",K.mode=Th;break e}else{F=P[(F&65535)+(M&(1<<Y)-1)];continue t}break}}while(r<s&&i<f);J=O>>3,r-=J,O-=J<<3,M&=(1<<O)-1,t.next_in=r,t.next_out=i,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=i<f?257+(f-i):257-(i-f),K.hold=M,K.bits=O};const Iu=15,CE=852,LE=592,OE=0,Kg=1,PE=2,GL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ZL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),YL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QL=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),JL=(n,t,e,r,s,i,u,f)=>{const p=f.bits;let w=0,b=0,T=0,B=0,M=0,O=0,P=0,N=0,$=0,j=0,F,Y,J,X,te,re=null,W;const q=new Uint16Array(Iu+1),K=new Uint16Array(Iu+1);let V=null,S,a,h;for(w=0;w<=Iu;w++)q[w]=0;for(b=0;b<r;b++)q[t[e+b]]++;for(M=p,B=Iu;B>=1&&q[B]===0;B--);if(M>B&&(M=B),B===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,f.bits=1,0;for(T=1;T<B&&q[T]===0;T++);for(M<T&&(M=T),N=1,w=1;w<=Iu;w++)if(N<<=1,N-=q[w],N<0)return-1;if(N>0&&(n===OE||B!==1))return-1;for(K[1]=0,w=1;w<Iu;w++)K[w+1]=K[w]+q[w];for(b=0;b<r;b++)t[e+b]!==0&&(u[K[t[e+b]]++]=b);if(n===OE?(re=V=u,W=20):n===Kg?(re=GL,V=ZL,W=257):(re=YL,V=QL,W=0),j=0,b=0,w=T,te=i,O=M,P=0,J=-1,$=1<<M,X=$-1,n===Kg&&$>CE||n===PE&&$>LE)return 1;for(;;){S=w-P,u[b]+1<W?(a=0,h=u[b]):u[b]>=W?(a=V[u[b]-W],h=re[u[b]-W]):(a=96,h=0),F=1<<w-P,Y=1<<O,T=Y;do Y-=F,s[te+(j>>P)+Y]=S<<24|a<<16|h|0;while(Y!==0);for(F=1<<w-1;j&F;)F>>=1;if(F!==0?(j&=F-1,j+=F):j=0,b++,--q[w]===0){if(w===B)break;w=t[e+u[b]]}if(w>M&&(j&X)!==J){for(P===0&&(P=M),te+=T,O=w-P,N=1<<O;O+P<B&&(N-=q[O+P],!(N<=0));)O++,N<<=1;if($+=1<<O,n===Kg&&$>CE||n===PE&&$>LE)return 1;J=j&X,s[J]=M<<24|O<<16|te-i|0}}return j!==0&&(s[te+j]=w-P<<24|64<<16|0),f.bits=M,0};var El=JL;const XL=0,cA=1,lA=2,{Z_FINISH:DE,Z_BLOCK:eO,Z_TREES:Nh,Z_OK:Ha,Z_STREAM_END:tO,Z_NEED_DICT:nO,Z_STREAM_ERROR:$i,Z_DATA_ERROR:fA,Z_MEM_ERROR:hA,Z_BUF_ERROR:rO,Z_DEFLATED:UE}=r0,o0=16180,zE=16181,FE=16182,$E=16183,jE=16184,HE=16185,WE=16186,qE=16187,KE=16188,VE=16189,xd=16190,Fs=16191,Vg=16192,GE=16193,Gg=16194,ZE=16195,YE=16196,QE=16197,JE=16198,Bh=16199,Ch=16200,XE=16201,eS=16202,tS=16203,nS=16204,rS=16205,Zg=16206,iS=16207,sS=16208,wn=16209,dA=16210,pA=16211,iO=852,sO=592,oO=15,aO=oO,oS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function uO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qa=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<o0||t.mode>pA?1:0},gA=n=>{if(Qa(n))return $i;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=o0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(iO),t.distcode=t.distdyn=new Int32Array(sO),t.sane=1,t.back=-1,Ha},yA=n=>{if(Qa(n))return $i;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,gA(n)},mA=(n,t)=>{let e;if(Qa(n))return $i;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$i:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,yA(n))},wA=(n,t)=>{if(!n)return $i;const e=new uO;n.state=e,e.strm=n,e.window=null,e.mode=o0;const r=mA(n,t);return r!==Ha&&(n.state=null),r},cO=n=>wA(n,aO);let aS=!0,Yg,Qg;const lO=n=>{if(aS){Yg=new Int32Array(512),Qg=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(El(cA,n.lens,0,288,Yg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;El(lA,n.lens,0,32,Qg,0,n.work,{bits:5}),aS=!1}n.lencode=Yg,n.lenbits=9,n.distcode=Qg,n.distbits=5},vA=(n,t,e,r)=>{let s;const i=n.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(e-i.wsize,e),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(t.subarray(e-r,e-r+s),i.wnext),r-=s,r?(i.window.set(t.subarray(e-r,e),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},fO=(n,t)=>{let e,r,s,i,u,f,p,w,b,T,B,M,O,P,N=0,$,j,F,Y,J,X,te,re;const W=new Uint8Array(4);let q,K;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qa(n)||!n.output||!n.input&&n.avail_in!==0)return $i;e=n.state,e.mode===Fs&&(e.mode=Vg),u=n.next_out,s=n.output,p=n.avail_out,i=n.next_in,r=n.input,f=n.avail_in,w=e.hold,b=e.bits,T=f,B=p,re=Ha;e:for(;;)switch(e.mode){case o0:if(e.wrap===0){e.mode=Vg;break}for(;b<16;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(e.wrap&2&&w===35615){e.wbits===0&&(e.wbits=15),e.check=0,W[0]=w&255,W[1]=w>>>8&255,e.check=ir(e.check,W,2,0),w=0,b=0,e.mode=zE;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((w&255)<<8)+(w>>8))%31){n.msg="incorrect header check",e.mode=wn;break}if((w&15)!==UE){n.msg="unknown compression method",e.mode=wn;break}if(w>>>=4,b-=4,te=(w&15)+8,e.wbits===0&&(e.wbits=te),te>15||te>e.wbits){n.msg="invalid window size",e.mode=wn;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=w&512?VE:Fs,w=0,b=0;break;case zE:for(;b<16;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(e.flags=w,(e.flags&255)!==UE){n.msg="unknown compression method",e.mode=wn;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=wn;break}e.head&&(e.head.text=w>>8&1),e.flags&512&&e.wrap&4&&(W[0]=w&255,W[1]=w>>>8&255,e.check=ir(e.check,W,2,0)),w=0,b=0,e.mode=FE;case FE:for(;b<32;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}e.head&&(e.head.time=w),e.flags&512&&e.wrap&4&&(W[0]=w&255,W[1]=w>>>8&255,W[2]=w>>>16&255,W[3]=w>>>24&255,e.check=ir(e.check,W,4,0)),w=0,b=0,e.mode=$E;case $E:for(;b<16;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}e.head&&(e.head.xflags=w&255,e.head.os=w>>8),e.flags&512&&e.wrap&4&&(W[0]=w&255,W[1]=w>>>8&255,e.check=ir(e.check,W,2,0)),w=0,b=0,e.mode=jE;case jE:if(e.flags&1024){for(;b<16;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}e.length=w,e.head&&(e.head.extra_len=w),e.flags&512&&e.wrap&4&&(W[0]=w&255,W[1]=w>>>8&255,e.check=ir(e.check,W,2,0)),w=0,b=0}else e.head&&(e.head.extra=null);e.mode=HE;case HE:if(e.flags&1024&&(M=e.length,M>f&&(M=f),M&&(e.head&&(te=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(i,i+M),te)),e.flags&512&&e.wrap&4&&(e.check=ir(e.check,r,M,i)),f-=M,i+=M,e.length-=M),e.length))break e;e.length=0,e.mode=WE;case WE:if(e.flags&2048){if(f===0)break e;M=0;do te=r[i+M++],e.head&&te&&e.length<65536&&(e.head.name+=String.fromCharCode(te));while(te&&M<f);if(e.flags&512&&e.wrap&4&&(e.check=ir(e.check,r,M,i)),f-=M,i+=M,te)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=qE;case qE:if(e.flags&4096){if(f===0)break e;M=0;do te=r[i+M++],e.head&&te&&e.length<65536&&(e.head.comment+=String.fromCharCode(te));while(te&&M<f);if(e.flags&512&&e.wrap&4&&(e.check=ir(e.check,r,M,i)),f-=M,i+=M,te)break e}else e.head&&(e.head.comment=null);e.mode=KE;case KE:if(e.flags&512){for(;b<16;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(e.wrap&4&&w!==(e.check&65535)){n.msg="header crc mismatch",e.mode=wn;break}w=0,b=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Fs;break;case VE:for(;b<32;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}n.adler=e.check=oS(w),w=0,b=0,e.mode=xd;case xd:if(e.havedict===0)return n.next_out=u,n.avail_out=p,n.next_in=i,n.avail_in=f,e.hold=w,e.bits=b,nO;n.adler=e.check=1,e.mode=Fs;case Fs:if(t===eO||t===Nh)break e;case Vg:if(e.last){w>>>=b&7,b-=b&7,e.mode=Zg;break}for(;b<3;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}switch(e.last=w&1,w>>>=1,b-=1,w&3){case 0:e.mode=GE;break;case 1:if(lO(e),e.mode=Bh,t===Nh){w>>>=2,b-=2;break e}break;case 2:e.mode=YE;break;case 3:n.msg="invalid block type",e.mode=wn}w>>>=2,b-=2;break;case GE:for(w>>>=b&7,b-=b&7;b<32;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if((w&65535)!==(w>>>16^65535)){n.msg="invalid stored block lengths",e.mode=wn;break}if(e.length=w&65535,w=0,b=0,e.mode=Gg,t===Nh)break e;case Gg:e.mode=ZE;case ZE:if(M=e.length,M){if(M>f&&(M=f),M>p&&(M=p),M===0)break e;s.set(r.subarray(i,i+M),u),f-=M,i+=M,p-=M,u+=M,e.length-=M;break}e.mode=Fs;break;case YE:for(;b<14;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(e.nlen=(w&31)+257,w>>>=5,b-=5,e.ndist=(w&31)+1,w>>>=5,b-=5,e.ncode=(w&15)+4,w>>>=4,b-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=wn;break}e.have=0,e.mode=QE;case QE:for(;e.have<e.ncode;){for(;b<3;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}e.lens[V[e.have++]]=w&7,w>>>=3,b-=3}for(;e.have<19;)e.lens[V[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,q={bits:e.lenbits},re=El(XL,e.lens,0,19,e.lencode,0,e.work,q),e.lenbits=q.bits,re){n.msg="invalid code lengths set",e.mode=wn;break}e.have=0,e.mode=JE;case JE:for(;e.have<e.nlen+e.ndist;){for(;N=e.lencode[w&(1<<e.lenbits)-1],$=N>>>24,j=N>>>16&255,F=N&65535,!($<=b);){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(F<16)w>>>=$,b-=$,e.lens[e.have++]=F;else{if(F===16){for(K=$+2;b<K;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(w>>>=$,b-=$,e.have===0){n.msg="invalid bit length repeat",e.mode=wn;break}te=e.lens[e.have-1],M=3+(w&3),w>>>=2,b-=2}else if(F===17){for(K=$+3;b<K;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}w>>>=$,b-=$,te=0,M=3+(w&7),w>>>=3,b-=3}else{for(K=$+7;b<K;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}w>>>=$,b-=$,te=0,M=11+(w&127),w>>>=7,b-=7}if(e.have+M>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=wn;break}for(;M--;)e.lens[e.have++]=te}}if(e.mode===wn)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=wn;break}if(e.lenbits=9,q={bits:e.lenbits},re=El(cA,e.lens,0,e.nlen,e.lencode,0,e.work,q),e.lenbits=q.bits,re){n.msg="invalid literal/lengths set",e.mode=wn;break}if(e.distbits=6,e.distcode=e.distdyn,q={bits:e.distbits},re=El(lA,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,q),e.distbits=q.bits,re){n.msg="invalid distances set",e.mode=wn;break}if(e.mode=Bh,t===Nh)break e;case Bh:e.mode=Ch;case Ch:if(f>=6&&p>=258){n.next_out=u,n.avail_out=p,n.next_in=i,n.avail_in=f,e.hold=w,e.bits=b,VL(n,B),u=n.next_out,s=n.output,p=n.avail_out,i=n.next_in,r=n.input,f=n.avail_in,w=e.hold,b=e.bits,e.mode===Fs&&(e.back=-1);break}for(e.back=0;N=e.lencode[w&(1<<e.lenbits)-1],$=N>>>24,j=N>>>16&255,F=N&65535,!($<=b);){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(j&&!(j&240)){for(Y=$,J=j,X=F;N=e.lencode[X+((w&(1<<Y+J)-1)>>Y)],$=N>>>24,j=N>>>16&255,F=N&65535,!(Y+$<=b);){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}w>>>=Y,b-=Y,e.back+=Y}if(w>>>=$,b-=$,e.back+=$,e.length=F,j===0){e.mode=rS;break}if(j&32){e.back=-1,e.mode=Fs;break}if(j&64){n.msg="invalid literal/length code",e.mode=wn;break}e.extra=j&15,e.mode=XE;case XE:if(e.extra){for(K=e.extra;b<K;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}e.length+=w&(1<<e.extra)-1,w>>>=e.extra,b-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=eS;case eS:for(;N=e.distcode[w&(1<<e.distbits)-1],$=N>>>24,j=N>>>16&255,F=N&65535,!($<=b);){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(!(j&240)){for(Y=$,J=j,X=F;N=e.distcode[X+((w&(1<<Y+J)-1)>>Y)],$=N>>>24,j=N>>>16&255,F=N&65535,!(Y+$<=b);){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}w>>>=Y,b-=Y,e.back+=Y}if(w>>>=$,b-=$,e.back+=$,j&64){n.msg="invalid distance code",e.mode=wn;break}e.offset=F,e.extra=j&15,e.mode=tS;case tS:if(e.extra){for(K=e.extra;b<K;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}e.offset+=w&(1<<e.extra)-1,w>>>=e.extra,b-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=wn;break}e.mode=nS;case nS:if(p===0)break e;if(M=B-p,e.offset>M){if(M=e.offset-M,M>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=wn;break}M>e.wnext?(M-=e.wnext,O=e.wsize-M):O=e.wnext-M,M>e.length&&(M=e.length),P=e.window}else P=s,O=u-e.offset,M=e.length;M>p&&(M=p),p-=M,e.length-=M;do s[u++]=P[O++];while(--M);e.length===0&&(e.mode=Ch);break;case rS:if(p===0)break e;s[u++]=e.length,p--,e.mode=Ch;break;case Zg:if(e.wrap){for(;b<32;){if(f===0)break e;f--,w|=r[i++]<<b,b+=8}if(B-=p,n.total_out+=B,e.total+=B,e.wrap&4&&B&&(n.adler=e.check=e.flags?ir(e.check,s,B,u-B):Ol(e.check,s,B,u-B)),B=p,e.wrap&4&&(e.flags?w:oS(w))!==e.check){n.msg="incorrect data check",e.mode=wn;break}w=0,b=0}e.mode=iS;case iS:if(e.wrap&&e.flags){for(;b<32;){if(f===0)break e;f--,w+=r[i++]<<b,b+=8}if(e.wrap&4&&w!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=wn;break}w=0,b=0}e.mode=sS;case sS:re=tO;break e;case wn:re=fA;break e;case dA:return hA;case pA:default:return $i}return n.next_out=u,n.avail_out=p,n.next_in=i,n.avail_in=f,e.hold=w,e.bits=b,(e.wsize||B!==n.avail_out&&e.mode<wn&&(e.mode<Zg||t!==DE))&&vA(n,n.output,n.next_out,B-n.avail_out),T-=n.avail_in,B-=n.avail_out,n.total_in+=T,n.total_out+=B,e.total+=B,e.wrap&4&&B&&(n.adler=e.check=e.flags?ir(e.check,s,B,n.next_out-B):Ol(e.check,s,B,n.next_out-B)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Fs?128:0)+(e.mode===Bh||e.mode===Gg?256:0),(T===0&&B===0||t===DE)&&re===Ha&&(re=rO),re},hO=n=>{if(Qa(n))return $i;let t=n.state;return t.window&&(t.window=null),n.state=null,Ha},dO=(n,t)=>{if(Qa(n))return $i;const e=n.state;return e.wrap&2?(e.head=t,t.done=!1,Ha):$i},pO=(n,t)=>{const e=t.length;let r,s,i;return Qa(n)||(r=n.state,r.wrap!==0&&r.mode!==xd)?$i:r.mode===xd&&(s=1,s=Ol(s,t,e,0),s!==r.check)?fA:(i=vA(n,t,e,e),i?(r.mode=dA,hA):(r.havedict=1,Ha))};var gO=yA,yO=mA,mO=gA,wO=cO,vO=wA,_O=fO,bO=hO,EO=dO,SO=pO,xO="pako inflate (from Nodeca project)",qs={inflateReset:gO,inflateReset2:yO,inflateResetKeep:mO,inflateInit:wO,inflateInit2:vO,inflate:_O,inflateEnd:bO,inflateGetHeader:EO,inflateSetDictionary:SO,inflateInfo:xO};function kO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var AO=kO;const _A=Object.prototype.toString,{Z_NO_FLUSH:IO,Z_FINISH:MO,Z_OK:zl,Z_STREAM_END:Jg,Z_NEED_DICT:Xg,Z_STREAM_ERROR:RO,Z_DATA_ERROR:uS,Z_MEM_ERROR:TO}=r0;function uw(n){this.options=s0.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aA,this.strm.avail_out=0;let e=qs.inflateInit2(this.strm,t.windowBits);if(e!==zl)throw new Error(Pl[e]);if(this.header=new AO,qs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ul.string2buf(t.dictionary):_A.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=qs.inflateSetDictionary(this.strm,t.dictionary),e!==zl)))throw new Error(Pl[e])}uw.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,u,f;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?MO:IO,_A.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),i=qs.inflate(e,u),i===Xg&&s&&(i=qs.inflateSetDictionary(e,s),i===zl?i=qs.inflate(e,u):i===uS&&(i=Xg));e.avail_in>0&&i===Jg&&e.state.wrap>0&&n[e.next_in]!==0;)qs.inflateReset(e),i=qs.inflate(e,u);switch(i){case RO:case uS:case Xg:case TO:return this.onEnd(i),this.ended=!0,!1}if(f=e.avail_out,e.next_out&&(e.avail_out===0||i===Jg))if(this.options.to==="string"){let p=Ul.utf8border(e.output,e.next_out),w=e.next_out-p,b=Ul.buf2string(e.output,p);e.next_out=w,e.avail_out=r-w,w&&e.output.set(e.output.subarray(p,p+w),0),this.onData(b)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(i===zl&&f===0)){if(i===Jg)return i=qs.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};uw.prototype.onData=function(n){this.chunks.push(n)};uw.prototype.onEnd=function(n){n===zl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s0.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var ey={exports:{}},cS;function NO(){return cS||(cS=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(p,w,b){this.fn=p,this.context=w,this.once=b||!1}function i(p,w,b,T,B){if(typeof b!="function")throw new TypeError("The listener must be a function");var M=new s(b,T||p,B),O=e?e+w:w;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],M]:p._events[O].push(M):(p._events[O]=M,p._eventsCount++),p}function u(p,w){--p._eventsCount===0?p._events=new r:delete p._events[w]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var w=[],b,T;if(this._eventsCount===0)return w;for(T in b=this._events)t.call(b,T)&&w.push(e?T.slice(1):T);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(b)):w},f.prototype.listeners=function(w){var b=e?e+w:w,T=this._events[b];if(!T)return[];if(T.fn)return[T.fn];for(var B=0,M=T.length,O=new Array(M);B<M;B++)O[B]=T[B].fn;return O},f.prototype.listenerCount=function(w){var b=e?e+w:w,T=this._events[b];return T?T.fn?1:T.length:0},f.prototype.emit=function(w,b,T,B,M,O){var P=e?e+w:w;if(!this._events[P])return!1;var N=this._events[P],$=arguments.length,j,F;if(N.fn){switch(N.once&&this.removeListener(w,N.fn,void 0,!0),$){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,b),!0;case 3:return N.fn.call(N.context,b,T),!0;case 4:return N.fn.call(N.context,b,T,B),!0;case 5:return N.fn.call(N.context,b,T,B,M),!0;case 6:return N.fn.call(N.context,b,T,B,M,O),!0}for(F=1,j=new Array($-1);F<$;F++)j[F-1]=arguments[F];N.fn.apply(N.context,j)}else{var Y=N.length,J;for(F=0;F<Y;F++)switch(N[F].once&&this.removeListener(w,N[F].fn,void 0,!0),$){case 1:N[F].fn.call(N[F].context);break;case 2:N[F].fn.call(N[F].context,b);break;case 3:N[F].fn.call(N[F].context,b,T);break;case 4:N[F].fn.call(N[F].context,b,T,B);break;default:if(!j)for(J=1,j=new Array($-1);J<$;J++)j[J-1]=arguments[J];N[F].fn.apply(N[F].context,j)}}return!0},f.prototype.on=function(w,b,T){return i(this,w,b,T,!1)},f.prototype.once=function(w,b,T){return i(this,w,b,T,!0)},f.prototype.removeListener=function(w,b,T,B){var M=e?e+w:w;if(!this._events[M])return this;if(!b)return u(this,M),this;var O=this._events[M];if(O.fn)O.fn===b&&(!B||O.once)&&(!T||O.context===T)&&u(this,M);else{for(var P=0,N=[],$=O.length;P<$;P++)(O[P].fn!==b||B&&!O[P].once||T&&O[P].context!==T)&&N.push(O[P]);N.length?this._events[M]=N.length===1?N[0]:N:u(this,M)}return this},f.prototype.removeAllListeners=function(w){var b;return w?(b=e?e+w:w,this._events[b]&&u(this,b)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,n.exports=f}(ey)),ey.exports}NO();const va=n=>"version"in n;function lS(n){return ar.encode(n)}Dr.struct([Dr.publicKey("authority"),Dr.vecU8("data")]);let BO=class extends TypeError{constructor(t,e){let r;const{message:s,...i}=t,{path:u}=t,f=u.length===0?s:"At path: "+u.join(".")+" -- "+s;super(f),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var p;return(p=r)!=null?p:r=[t,...e()]}}};function CO(n){return Hu(n)&&typeof n[Symbol.iterator]=="function"}function Hu(n){return typeof n=="object"&&n!=null}function ia(n){return typeof n=="string"?JSON.stringify(n):""+n}function LO(n){const{done:t,value:e}=n.next();return t?void 0:e}function OO(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=t,{type:u}=e,{refinement:f,message:p="Expected a value of type `"+u+"`"+(f?" with refinement `"+f+"`":"")+", but received: `"+ia(r)+"`"}=n;return{value:r,type:u,refinement:f,key:s[s.length-1],path:s,branch:i,...n,message:p}}function*fS(n,t,e,r){CO(n)||(n=[n]);for(const s of n){const i=OO(s,t,e,r);i&&(yield i)}}function*cw(n,t,e){e===void 0&&(e={});const{path:r=[],branch:s=[n],coerce:i=!1,mask:u=!1}=e,f={path:r,branch:s};if(i&&(n=t.coercer(n,f),u&&t.type!=="type"&&Hu(t.schema)&&Hu(n)&&!Array.isArray(n)))for(const w in n)t.schema[w]===void 0&&delete n[w];let p=!0;for(const w of t.validator(n,f))p=!1,yield[w,void 0];for(let[w,b,T]of t.entries(n,f)){const B=cw(b,T,{path:w===void 0?r:[...r,w],branch:w===void 0?s:[...s,b],coerce:i,mask:u});for(const M of B)M[0]?(p=!1,yield[M[0],void 0]):i&&(b=M[1],w===void 0?n=b:n instanceof Map?n.set(w,b):n instanceof Set?n.add(b):Hu(n)&&(n[w]=b))}if(p)for(const w of t.refiner(n,f))p=!1,yield[w,void 0];p&&(yield[void 0,n])}let sa=class{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:r,validator:s,refiner:i,coercer:u=p=>p,entries:f=function*(){}}=t;this.type=e,this.schema=r,this.entries=f,this.coercer=u,s?this.validator=(p,w)=>{const b=s(p,w);return fS(b,w,this,p)}:this.validator=()=>[],i?this.refiner=(p,w)=>{const b=i(p,w);return fS(b,w,this,p)}:this.refiner=()=>[]}assert(t){return PO(t,this)}create(t){return lw(t,this)}is(t){return bA(t,this)}mask(t){return DO(t,this)}validate(t,e){return e===void 0&&(e={}),sf(t,this,e)}};function PO(n,t){const e=sf(n,t);if(e[0])throw e[0]}function lw(n,t){const e=sf(n,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function DO(n,t){const e=sf(n,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function bA(n,t){return!sf(n,t)[0]}function sf(n,t,e){e===void 0&&(e={});const r=cw(n,t,e),s=LO(r);return s[0]?[new BO(s[0],function*(){for(const u of r)u[0]&&(yield u[0])}),void 0]:[void 0,s[1]]}function of(n,t){return new sa({type:n,schema:null,validator:t})}function UO(){return of("any",()=>!0)}function ty(n){return new sa({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ia(t)}})}function zO(){return of("boolean",n=>typeof n=="boolean")}function hS(n){const t=ia(n);return new sa({type:"literal",schema:n,validator(e){return e===n||"Expected the literal `"+t+"`, but received: "+ia(e)}})}function Lh(n){return new sa({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function nd(){return of("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+ia(n))}function rd(n){return new sa({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function Ra(){return of("string",n=>typeof n=="string"||"Expected a string, but received: "+ia(n))}function Jo(n){const t=Object.keys(n);return new sa({type:"type",schema:n,*entries(e){if(Hu(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return Hu(e)||"Expected an object, but received: "+ia(e)}})}function EA(n){const t=n.map(e=>e.type).join(" | ");return new sa({type:"union",schema:null,coercer(e,r){return(n.find(i=>{const[u]=i.validate(e,{coerce:!0});return!u})||fw()).coercer(e,r)},validator(e,r){const s=[];for(const i of n){const[...u]=cw(e,i,r),[f]=u;if(f[0])for(const[p]of u)p&&s.push(p);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ia(e),...s]}})}function fw(){return of("unknown",()=>!0)}function FO(n,t,e){return new sa({...n,coercer:(r,s)=>bA(r,t)?n.coercer(e(r,s),s):n.coercer(r,s)})}async function $O(n,t,e,r,s){var i;e&&e.length>0&&t.sign(...e);const u=t._compile(),f=u.serialize(),w=t._serialize(f).toString("base64"),b={encoding:"base64",commitment:r??n.commitment};if(s){const O=(Array.isArray(s)?s:u.nonProgramIds()).map(P=>P.toBase58());b.accounts={encoding:"base64",addresses:O}}e&&e.length>0&&(b.sigVerify=!0);const T=[w,b],B=await n._rpcRequest("simulateTransaction",T),M=lw(B,qO);if("error"in M){let O;if("data"in M.error&&(O=(i=M.error.data)===null||i===void 0?void 0:i.logs,O&&Array.isArray(O))){const P=`
    `,N=P+O.join(P);console.error(M.error.message,N)}throw new ra("failed to simulate transaction: "+M.error.message,O)}return M.result}function jO(n){return FO(SA(n),HO,t=>"error"in t?t:{...t,result:lw(t.result,n)})}const HO=SA(fw());function SA(n){return EA([Jo({jsonrpc:hS("2.0"),id:Ra(),result:n}),Jo({jsonrpc:hS("2.0"),id:Ra(),error:Jo({code:fw(),message:Ra(),data:rd(UO())})})])}function WO(n){return jO(Jo({context:Jo({slot:nd()}),value:n}))}const qO=WO(Jo({err:Lh(EA([Jo({}),Ra()])),logs:Lh(ty(Ra())),accounts:rd(Lh(ty(Lh(Jo({executable:zO(),owner:Ra(),lamports:nd(),data:ty(Ra()),rentEpoch:rd(nd())}))))),unitsConsumed:rd(nd())}));class kd{constructor(t,e,r=kd.defaultOptions()){this.connection=t,this.wallet=e,this.opts=r,this.publicKey=e==null?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=kd.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var s,i,u,f;if(r===void 0&&(r=this.opts),va(t))e&&t.sign(e);else if(t.feePayer=(s=t.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,e)for(const w of e)t.partialSign(w);t=await this.wallet.signTransaction(t);const p=t.serialize();try{return await dS(this.connection,p,r)}catch(w){if(w instanceof qm){const b=lS(va(t)?((i=t.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(u=t.signature)!==null&&u!==void 0?u:new Uint8Array),T=va(t)?0:void 0,B=await this.connection.getTransaction(b,{commitment:"confirmed",maxSupportedTransactionVersion:T});if(B){const M=(f=B.meta)===null||f===void 0?void 0:f.logMessages;throw M?new ra(w.message,M):w}else throw w}else throw w}}async sendAll(t,e){var r,s,i;e===void 0&&(e=this.opts);const u=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let f=t.map(b=>{var T,B;if(va(b.tx)){let M=b.tx;return b.signers&&M.sign(b.signers),M}else{let M=b.tx,O=(T=b.signers)!==null&&T!==void 0?T:[];return M.feePayer=(B=M.feePayer)!==null&&B!==void 0?B:this.wallet.publicKey,M.recentBlockhash=u,O.forEach(P=>{M.partialSign(P)}),M}});const p=await this.wallet.signAllTransactions(f),w=[];for(let b=0;b<f.length;b+=1){const T=p[b],B=T.serialize();try{w.push(await dS(this.connection,B,e))}catch(M){if(M instanceof qm){const O=lS(va(T)?((r=T.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(s=T.signature)!==null&&s!==void 0?s:new Uint8Array),P=va(T)?0:void 0,N=await this.connection.getTransaction(O,{commitment:"confirmed",maxSupportedTransactionVersion:P});if(N){const $=(i=N.meta)===null||i===void 0?void 0:i.logMessages;throw $?new ra(M.message,$):M}else throw M}else throw M}}return w}async simulate(t,e,r,s){let i=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,u;if(va(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),u=await this.connection.simulateTransaction(t,{commitment:r})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=i,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),u=await $O(this.connection,t,e,r,s)),u.value.err)throw new KO(u.value);return u.value}}class KO extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function dS(n,t,e){const r=e&&{skipPreflight:e.skipPreflight,preflightCommitment:e.preflightCommitment||e.commitment},s=await n.sendRawTransaction(t,r),i=(await n.confirmTransaction(s,e&&e.commitment)).value;if(i.err)throw new qm(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class qm extends Error{constructor(t){super(t)}}var VO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=ye.ANCHOR_ERROR__REQUIRE_VIOLATED=ye.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=ye.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=ye.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=ye.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=ye.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=ye.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=ye.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=ye.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=ye.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=ye.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=ye.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=ye.ANCHOR_ERROR__CONSTRAINT_SPACE=ye.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=ye.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=ye.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=ye.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=ye.ANCHOR_ERROR__CONSTRAINT_ZERO=ye.ANCHOR_ERROR__CONSTRAINT_ADDRESS=ye.ANCHOR_ERROR__CONSTRAINT_CLOSE=ye.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=ye.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=ye.ANCHOR_ERROR__CONSTRAINT_STATE=ye.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ye.ANCHOR_ERROR__CONSTRAINT_SEEDS=ye.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=ye.ANCHOR_ERROR__CONSTRAINT_OWNER=ye.ANCHOR_ERROR__CONSTRAINT_RAW=ye.ANCHOR_ERROR__CONSTRAINT_SIGNER=ye.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=ye.ANCHOR_ERROR__CONSTRAINT_MUT=ye.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=ye.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=ye.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=ye.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=ye.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=ye.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=ye.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ye.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0;ye.ANCHOR_ERROR__DEPRECATED=ye.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=ye.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=ye.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=ye.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=ye.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=ye.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=ye.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=ye.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=ye.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=ye.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=ye.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=ye.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=ye.ANCHOR_ERROR__INVALID_PROGRAM_ID=ye.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=ye.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=ye.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=ye.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=ye.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=ye.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=ye.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=ye.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=ye.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=ye.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=ye.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=ye.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=ye.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0;ye.ANCHOR_ERROR__INSTRUCTION_MISSING=100;ye.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101;ye.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102;ye.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103;ye.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3;ye.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001;ye.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002;ye.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500;ye.ANCHOR_ERROR__CONSTRAINT_MUT=2e3;ye.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001;ye.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002;ye.ANCHOR_ERROR__CONSTRAINT_RAW=2003;ye.ANCHOR_ERROR__CONSTRAINT_OWNER=2004;ye.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005;ye.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006;ye.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007;ye.ANCHOR_ERROR__CONSTRAINT_STATE=2008;ye.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009;ye.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010;ye.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011;ye.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012;ye.ANCHOR_ERROR__CONSTRAINT_ZERO=2013;ye.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014;ye.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015;ye.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016;ye.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017;ye.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018;ye.ANCHOR_ERROR__CONSTRAINT_SPACE=2019;ye.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020;ye.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021;ye.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022;ye.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023;ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024;ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025;ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026;ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027;ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028;ye.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029;ye.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030;ye.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031;ye.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032;ye.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033;ye.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034;ye.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035;ye.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036;ye.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037;ye.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038;ye.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039;ye.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;ye.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;ye.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502;ye.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503;ye.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504;ye.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505;ye.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506;ye.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3;ye.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001;ye.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002;ye.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003;ye.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004;ye.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005;ye.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006;ye.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007;ye.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008;ye.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009;ye.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010;ye.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011;ye.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012;ye.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013;ye.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014;ye.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015;ye.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016;ye.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017;ye.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100;ye.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101;ye.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ye.ANCHOR_ERROR__DEPRECATED=5e3;let ui=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};var a0=ui;function GO(n,t){return t.property?n+"["+t.property+"]":n}class Ta extends ui{isCount(){throw new Error("ExternalLayout is abstract")}}class xA extends Ta{constructor(t,e,r){if(!(t instanceof ui))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u0||this.layout instanceof kA}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return r===void 0&&(r=0),this.layout.encode(t,e,r+this.offset)}}class u0 extends ui{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return r===void 0&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class kA extends ui{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return r===void 0&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}const Km=Math.pow(2,32);function AA(n){const t=Math.floor(n/Km),e=n-t*Km;return{hi32:t,lo32:e}}function IA(n,t){return n*Km+t}class ZO extends ui{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const r=t.readUInt32LE(e),s=t.readUInt32LE(e+4);return IA(s,r)}encode(t,e,r){r===void 0&&(r=0);const s=AA(t);return e.writeUInt32LE(s.lo32,r),e.writeUInt32LE(s.hi32,r+4),8}}class YO extends ui{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const r=t.readUInt32LE(e),s=t.readInt32LE(e+4);return IA(s,r)}encode(t,e,r){r===void 0&&(r=0);const s=AA(t);return e.writeUInt32LE(s.lo32,r),e.writeInt32LE(s.hi32,r+4),8}}class QO extends ui{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((i,u)=>i&&u instanceof ui,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&r===void 0&&(r=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,u)=>i+u.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let r=0;try{r=this.fields.reduce((s,i)=>{const u=i.getSpan(t,e);return e+=u,s+u},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,e){e===void 0&&(e=0);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){r===void 0&&(r=0);const s=r;let i=0,u=0;for(const f of this.fields){let p=f.span;if(u=0<p?p:0,f.property!==void 0){const w=t[f.property];w!==void 0&&(u=f.encode(w,e,r),0>p&&(p=f.getSpan(e,r)))}i=r,r+=p}return i+u-s}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class MA{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class pS extends MA{constructor(t,e){if(!(t instanceof Ta&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class RA extends ui{constructor(t,e,r){const s=t instanceof u0||t instanceof kA;if(s)t=new pS(new xA(t));else if(t instanceof Ta&&t.isCount())t=new pS(t);else if(!(t instanceof MA))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof ui))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&s&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=s,this.defaultLayout=e,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return u(f)},this.configGetSourceVariant=function(f){u=f.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){e===void 0&&(e=0);let r;const s=this.discriminator,i=s.decode(t,e);let u=this.registry[i];if(u===void 0){let f=0;u=this.defaultLayout,this.usesPrefixDiscriminator&&(f=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[u.property]=this.defaultLayout.decode(t,e+f)}else r=u.decode(t,e);return r}encode(t,e,r){r===void 0&&(r=0);const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,u=this.defaultLayout;let f=0;return this.usesPrefixDiscriminator&&(f=i.layout.span),i.encode(t[i.property],e,r),f+u.encode(t[u.property],e,r+f)}return s.encode(t,e,r)}addVariant(t,e,r){const s=new JO(this,t,e,r);return this.registry[t]=s,s}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(e===void 0&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class JO extends ui{constructor(t,e,r,s){if(!(t instanceof RA))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof ui))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){r===void 0&&(r=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,r+s),i+=this.layout.getSpan(e,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class XO extends ui{constructor(t,e){if(!(t instanceof Ta&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Ta||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){e===void 0&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let s=this.length;if(this.length instanceof Ta&&(s=t.length),!(Buffer.isBuffer(t)&&s===t.length))throw new TypeError(GO("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(r+s>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,s,"hex"),this.length instanceof Ta&&this.length.encode(s,e,r),s}}var e5=(n,t,e)=>new xA(n,t,e),t5=n=>new u0(1,n),Ys=n=>new u0(4,n),n5=n=>new ZO(n),io=n=>new YO(n),Jn=(n,t,e)=>new QO(n,t,e),TA=(n,t,e)=>new RA(n,t,e),af=(n,t)=>new XO(n,t);class r5 extends a0{constructor(t){super(-1,t),this.property=t,this.layout=Jn([Ys("length"),Ys("lengthPadding"),af(e5(Ys(),-8),"chars")],this.property)}encode(t,e,r=0){if(t==null)return this.layout.span;const s={chars:Buffer.from(t,"utf8")};return this.layout.encode(s,e,r)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return Ys().span+Ys().span+new pd(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function c0(n){return new r5(n)}function ji(n){return af(32,n)}const Mi=TA(Ys("instruction"));Mi.addVariant(0,Jn([io("lamports"),io("space"),ji("owner")]),"createAccount");Mi.addVariant(1,Jn([ji("owner")]),"assign");Mi.addVariant(2,Jn([io("lamports")]),"transfer");Mi.addVariant(3,Jn([ji("base"),c0("seed"),io("lamports"),io("space"),ji("owner")]),"createAccountWithSeed");Mi.addVariant(4,Jn([ji("authorized")]),"advanceNonceAccount");Mi.addVariant(5,Jn([io("lamports")]),"withdrawNonceAccount");Mi.addVariant(6,Jn([ji("authorized")]),"initializeNonceAccount");Mi.addVariant(7,Jn([ji("authorized")]),"authorizeNonceAccount");Mi.addVariant(8,Jn([io("space")]),"allocate");Mi.addVariant(9,Jn([ji("base"),c0("seed"),io("space"),ji("owner")]),"allocateWithSeed");Mi.addVariant(10,Jn([ji("base"),c0("seed"),ji("owner")]),"assignWithSeed");Mi.addVariant(11,Jn([io("lamports"),c0("seed"),ji("owner")]),"transferWithSeed");Math.max(...Object.values(Mi.registry).map(n=>n.span));class i5 extends a0{constructor(t,e,r,s){super(t.span,s),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}function gS(n){return new i5(af(32),t=>new Fe(t),t=>t.toBuffer(),n)}Jn([Ys("version"),Ys("state"),gS("authorizedPubkey"),gS("nonce"),Jn([n5("lamportsPerSignature")],"feeCalculator")]);new Fe("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Fe("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var yS={exports:{}};(function(n,t){var e=typeof self<"u"?self:VO,r=function(){function i(){this.fetch=!1,this.DOMException=e.DOMException}return i.prototype=e,new i}();(function(i){(function(u){var f={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function p(a){return a&&DataView.prototype.isPrototypeOf(a)}if(f.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(a){return a&&w.indexOf(Object.prototype.toString.call(a))>-1};function T(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function B(a){return typeof a!="string"&&(a=String(a)),a}function M(a){var h={next:function(){var m=a.shift();return{done:m===void 0,value:m}}};return f.iterable&&(h[Symbol.iterator]=function(){return h}),h}function O(a){this.map={},a instanceof O?a.forEach(function(h,m){this.append(m,h)},this):Array.isArray(a)?a.forEach(function(h){this.append(h[0],h[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(h){this.append(h,a[h])},this)}O.prototype.append=function(a,h){a=T(a),h=B(h);var m=this.map[a];this.map[a]=m?m+", "+h:h},O.prototype.delete=function(a){delete this.map[T(a)]},O.prototype.get=function(a){return a=T(a),this.has(a)?this.map[a]:null},O.prototype.has=function(a){return this.map.hasOwnProperty(T(a))},O.prototype.set=function(a,h){this.map[T(a)]=B(h)},O.prototype.forEach=function(a,h){for(var m in this.map)this.map.hasOwnProperty(m)&&a.call(h,this.map[m],m,this)},O.prototype.keys=function(){var a=[];return this.forEach(function(h,m){a.push(m)}),M(a)},O.prototype.values=function(){var a=[];return this.forEach(function(h){a.push(h)}),M(a)},O.prototype.entries=function(){var a=[];return this.forEach(function(h,m){a.push([m,h])}),M(a)},f.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function P(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function N(a){return new Promise(function(h,m){a.onload=function(){h(a.result)},a.onerror=function(){m(a.error)}})}function $(a){var h=new FileReader,m=N(h);return h.readAsArrayBuffer(a),m}function j(a){var h=new FileReader,m=N(h);return h.readAsText(a),m}function F(a){for(var h=new Uint8Array(a),m=new Array(h.length),E=0;E<h.length;E++)m[E]=String.fromCharCode(h[E]);return m.join("")}function Y(a){if(a.slice)return a.slice(0);var h=new Uint8Array(a.byteLength);return h.set(new Uint8Array(a)),h.buffer}function J(){return this.bodyUsed=!1,this._initBody=function(a){this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:f.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:f.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():f.arrayBuffer&&f.blob&&p(a)?(this._bodyArrayBuffer=Y(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||b(a))?this._bodyArrayBuffer=Y(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var a=P(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?P(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then($)}),this.text=function(){var a=P(this);if(a)return a;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(F(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var X=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function te(a){var h=a.toUpperCase();return X.indexOf(h)>-1?h:a}function re(a,h){h=h||{};var m=h.body;if(a instanceof re){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,h.headers||(this.headers=new O(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!m&&a._bodyInit!=null&&(m=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new O(h.headers)),this.method=te(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&m)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(m)}re.prototype.clone=function(){return new re(this,{body:this._bodyInit})};function W(a){var h=new FormData;return a.trim().split("&").forEach(function(m){if(m){var E=m.split("="),A=E.shift().replace(/\+/g," "),I=E.join("=").replace(/\+/g," ");h.append(decodeURIComponent(A),decodeURIComponent(I))}}),h}function q(a){var h=new O,m=a.replace(/\r?\n[\t ]+/g," ");return m.split(/\r?\n/).forEach(function(E){var A=E.split(":"),I=A.shift().trim();if(I){var k=A.join(":").trim();h.append(I,k)}}),h}J.call(re.prototype);function K(a,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new O(h.headers),this.url=h.url||"",this._initBody(a)}J.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},K.error=function(){var a=new K(null,{status:0,statusText:""});return a.type="error",a};var V=[301,302,303,307,308];K.redirect=function(a,h){if(V.indexOf(h)===-1)throw new RangeError("Invalid status code");return new K(null,{status:h,headers:{location:a}})},u.DOMException=i.DOMException;try{new u.DOMException}catch{u.DOMException=function(h,m){this.message=h,this.name=m;var E=Error(h);this.stack=E.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function S(a,h){return new Promise(function(m,E){var A=new re(a,h);if(A.signal&&A.signal.aborted)return E(new u.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function k(){I.abort()}I.onload=function(){var g={status:I.status,statusText:I.statusText,headers:q(I.getAllResponseHeaders()||"")};g.url="responseURL"in I?I.responseURL:g.headers.get("X-Request-URL");var c="response"in I?I.response:I.responseText;m(new K(c,g))},I.onerror=function(){E(new TypeError("Network request failed"))},I.ontimeout=function(){E(new TypeError("Network request failed"))},I.onabort=function(){E(new u.DOMException("Aborted","AbortError"))},I.open(A.method,A.url,!0),A.credentials==="include"?I.withCredentials=!0:A.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&f.blob&&(I.responseType="blob"),A.headers.forEach(function(g,c){I.setRequestHeader(c,g)}),A.signal&&(A.signal.addEventListener("abort",k),I.onreadystatechange=function(){I.readyState===4&&A.signal.removeEventListener("abort",k)}),I.send(typeof A._bodyInit>"u"?null:A._bodyInit)})}return S.polyfill=!0,i.fetch||(i.fetch=S,i.Headers=O,i.Request=re,i.Response=K),u.Headers=O,u.Request=re,u.Response=K,u.fetch=S,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,n.exports=t})(yS,yS.exports);Dr.rustEnum([Dr.struct([],"uninitialized"),Dr.struct([Dr.option(Dr.publicKey(),"authorityAddress")],"buffer"),Dr.struct([Dr.publicKey("programdataAddress")],"program"),Dr.struct([Dr.u64("slot"),Dr.option(Dr.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Dr.u32());function ny(n){return new NA(af(8),t=>o5.fromBuffer(t),t=>t.toBuffer(),n)}function Oh(n){return new NA(af(32),t=>new Fe(t),t=>t.toBuffer(),n)}function ry(n,t){return new s5(n,t)}class NA extends a0{constructor(t,e,r,s){super(t.span,s),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class s5 extends a0{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=Ys()}encode(t,e,r=0){return t==null?this.layout.span+this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+4)+4)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(r===0)return null;if(r===1)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}let o5=class BA extends pd{toBuffer(){const t=super.toArray().reverse(),e=Buffer.from(t);if(e.length===8)return e;if(e.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return e.copy(r),r}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new BA([...t].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}};Jn([Oh("mint"),Oh("owner"),ny("amount"),ry(Oh(),"delegate"),(n=>{const t=TA(t5("discriminator"),null,n);return t.addVariant(0,Jn([]),"uninitialized"),t.addVariant(1,Jn([]),"initialized"),t.addVariant(2,Jn([]),"frozen"),t})("state"),ry(ny(),"isNative"),ny("delegatedAmount"),ry(Oh(),"closeAuthority")]);new Fe("11111111111111111111111111111111");var iy={},ul={},mS;function a5(){if(mS)return ul;mS=1,ul.byteLength=f,ul.toByteArray=w,ul.fromByteArray=B;for(var n=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=r.length;s<i;++s)n[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function u(M){var O=M.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=M.indexOf("=");P===-1&&(P=O);var N=P===O?0:4-P%4;return[P,N]}function f(M){var O=u(M),P=O[0],N=O[1];return(P+N)*3/4-N}function p(M,O,P){return(O+P)*3/4-P}function w(M){var O,P=u(M),N=P[0],$=P[1],j=new e(p(M,N,$)),F=0,Y=$>0?N-4:N,J;for(J=0;J<Y;J+=4)O=t[M.charCodeAt(J)]<<18|t[M.charCodeAt(J+1)]<<12|t[M.charCodeAt(J+2)]<<6|t[M.charCodeAt(J+3)],j[F++]=O>>16&255,j[F++]=O>>8&255,j[F++]=O&255;return $===2&&(O=t[M.charCodeAt(J)]<<2|t[M.charCodeAt(J+1)]>>4,j[F++]=O&255),$===1&&(O=t[M.charCodeAt(J)]<<10|t[M.charCodeAt(J+1)]<<4|t[M.charCodeAt(J+2)]>>2,j[F++]=O>>8&255,j[F++]=O&255),j}function b(M){return n[M>>18&63]+n[M>>12&63]+n[M>>6&63]+n[M&63]}function T(M,O,P){for(var N,$=[],j=O;j<P;j+=3)N=(M[j]<<16&16711680)+(M[j+1]<<8&65280)+(M[j+2]&255),$.push(b(N));return $.join("")}function B(M){for(var O,P=M.length,N=P%3,$=[],j=16383,F=0,Y=P-N;F<Y;F+=j)$.push(T(M,F,F+j>Y?Y:F+j));return N===1?(O=M[P-1],$.push(n[O>>2]+n[O<<4&63]+"==")):N===2&&(O=(M[P-2]<<8)+M[P-1],$.push(n[O>>10]+n[O>>4&63]+n[O<<2&63]+"=")),$.join("")}return ul}var Ph={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var wS;function u5(){return wS||(wS=1,Ph.read=function(n,t,e,r,s){var i,u,f=s*8-r-1,p=(1<<f)-1,w=p>>1,b=-7,T=e?s-1:0,B=e?-1:1,M=n[t+T];for(T+=B,i=M&(1<<-b)-1,M>>=-b,b+=f;b>0;i=i*256+n[t+T],T+=B,b-=8);for(u=i&(1<<-b)-1,i>>=-b,b+=r;b>0;u=u*256+n[t+T],T+=B,b-=8);if(i===0)i=1-w;else{if(i===p)return u?NaN:(M?-1:1)*(1/0);u=u+Math.pow(2,r),i=i-w}return(M?-1:1)*u*Math.pow(2,i-r)},Ph.write=function(n,t,e,r,s,i){var u,f,p,w=i*8-s-1,b=(1<<w)-1,T=b>>1,B=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=r?0:i-1,O=r?1:-1,P=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=b):(u=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+T>=1?t+=B/p:t+=B*Math.pow(2,1-T),t*p>=2&&(u++,p/=2),u+T>=b?(f=0,u=b):u+T>=1?(f=(t*p-1)*Math.pow(2,s),u=u+T):(f=t*Math.pow(2,T-1)*Math.pow(2,s),u=0));s>=8;n[e+M]=f&255,M+=O,f/=256,s-=8);for(u=u<<s|f,w+=s;w>0;n[e+M]=u&255,M+=O,u/=256,w-=8);n[e+M-O]|=P*128}),Ph}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var vS;function hw(){return vS||(vS=1,function(n){const t=a5(),e=u5(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=j,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=i(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const C=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(C,v),C.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(C){if(C>s)throw new RangeError('The value "'+C+'" is invalid for option "size"');const v=new Uint8Array(C);return Object.setPrototypeOf(v,f.prototype),v}function f(C,v,_){if(typeof C=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(C)}return p(C,v,_)}f.poolSize=8192;function p(C,v,_){if(typeof C=="string")return B(C,v);if(ArrayBuffer.isView(C))return O(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Lt(C,ArrayBuffer)||C&&Lt(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Lt(C,SharedArrayBuffer)||C&&Lt(C.buffer,SharedArrayBuffer)))return P(C,v,_);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=C.valueOf&&C.valueOf();if(U!=null&&U!==C)return f.from(U,v,_);const G=N(C);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return f.from(C[Symbol.toPrimitive]("string"),v,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}f.from=function(C,v,_){return p(C,v,_)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function w(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function b(C,v,_){return w(C),C<=0?u(C):v!==void 0?typeof _=="string"?u(C).fill(v,_):u(C).fill(v):u(C)}f.alloc=function(C,v,_){return b(C,v,_)};function T(C){return w(C),u(C<0?0:$(C)|0)}f.allocUnsafe=function(C){return T(C)},f.allocUnsafeSlow=function(C){return T(C)};function B(C,v){if((typeof v!="string"||v==="")&&(v="utf8"),!f.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const _=F(C,v)|0;let U=u(_);const G=U.write(C,v);return G!==_&&(U=U.slice(0,G)),U}function M(C){const v=C.length<0?0:$(C.length)|0,_=u(v);for(let U=0;U<v;U+=1)_[U]=C[U]&255;return _}function O(C){if(Lt(C,Uint8Array)){const v=new Uint8Array(C);return P(v.buffer,v.byteOffset,v.byteLength)}return M(C)}function P(C,v,_){if(v<0||C.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<v+(_||0))throw new RangeError('"length" is outside of buffer bounds');let U;return v===void 0&&_===void 0?U=new Uint8Array(C):_===void 0?U=new Uint8Array(C,v):U=new Uint8Array(C,v,_),Object.setPrototypeOf(U,f.prototype),U}function N(C){if(f.isBuffer(C)){const v=$(C.length)|0,_=u(v);return _.length===0||C.copy(_,0,0,v),_}if(C.length!==void 0)return typeof C.length!="number"||$e(C.length)?u(0):M(C);if(C.type==="Buffer"&&Array.isArray(C.data))return M(C.data)}function $(C){if(C>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return C|0}function j(C){return+C!=C&&(C=0),f.alloc(+C)}f.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==f.prototype},f.compare=function(v,_){if(Lt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),Lt(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(v)||!f.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===_)return 0;let U=v.length,G=_.length;for(let Q=0,ne=Math.min(U,G);Q<ne;++Q)if(v[Q]!==_[Q]){U=v[Q],G=_[Q];break}return U<G?-1:G<U?1:0},f.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(v,_){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return f.alloc(0);let U;if(_===void 0)for(_=0,U=0;U<v.length;++U)_+=v[U].length;const G=f.allocUnsafe(_);let Q=0;for(U=0;U<v.length;++U){let ne=v[U];if(Lt(ne,Uint8Array))Q+ne.length>G.length?(f.isBuffer(ne)||(ne=f.from(ne)),ne.copy(G,Q)):Uint8Array.prototype.set.call(G,ne,Q);else if(f.isBuffer(ne))ne.copy(G,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ne.length}return G};function F(C,v){if(f.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Lt(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const _=C.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&_===0)return 0;let G=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return We(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return ze(C).length;default:if(G)return U?-1:We(C).length;v=(""+v).toLowerCase(),G=!0}}f.byteLength=F;function Y(C,v,_){let U=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,v>>>=0,_<=v))return"";for(C||(C="utf8");;)switch(C){case"hex":return I(this,v,_);case"utf8":case"utf-8":return a(this,v,_);case"ascii":return E(this,v,_);case"latin1":case"binary":return A(this,v,_);case"base64":return S(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,v,_);default:if(U)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),U=!0}}f.prototype._isBuffer=!0;function J(C,v,_){const U=C[v];C[v]=C[_],C[_]=U}f.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<v;_+=2)J(this,_,_+1);return this},f.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<v;_+=4)J(this,_,_+3),J(this,_+1,_+2);return this},f.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<v;_+=8)J(this,_,_+7),J(this,_+1,_+6),J(this,_+2,_+5),J(this,_+3,_+4);return this},f.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?a(this,0,v):Y.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(v){if(!f.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:f.compare(this,v)===0},f.prototype.inspect=function(){let v="";const _=n.INSPECT_MAX_BYTES;return v=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(v+=" ... "),"<Buffer "+v+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(v,_,U,G,Q){if(Lt(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(_===void 0&&(_=0),U===void 0&&(U=v?v.length:0),G===void 0&&(G=0),Q===void 0&&(Q=this.length),_<0||U>v.length||G<0||Q>this.length)throw new RangeError("out of range index");if(G>=Q&&_>=U)return 0;if(G>=Q)return-1;if(_>=U)return 1;if(_>>>=0,U>>>=0,G>>>=0,Q>>>=0,this===v)return 0;let ne=Q-G,Le=U-_;const Ee=Math.min(ne,Le),be=this.slice(G,Q),St=v.slice(_,U);for(let _e=0;_e<Ee;++_e)if(be[_e]!==St[_e]){ne=be[_e],Le=St[_e];break}return ne<Le?-1:Le<ne?1:0};function X(C,v,_,U,G){if(C.length===0)return-1;if(typeof _=="string"?(U=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,$e(_)&&(_=G?0:C.length-1),_<0&&(_=C.length+_),_>=C.length){if(G)return-1;_=C.length-1}else if(_<0)if(G)_=0;else return-1;if(typeof v=="string"&&(v=f.from(v,U)),f.isBuffer(v))return v.length===0?-1:te(C,v,_,U,G);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(C,v,_):Uint8Array.prototype.lastIndexOf.call(C,v,_):te(C,[v],_,U,G);throw new TypeError("val must be string, number or Buffer")}function te(C,v,_,U,G){let Q=1,ne=C.length,Le=v.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(C.length<2||v.length<2)return-1;Q=2,ne/=2,Le/=2,_/=2}function Ee(St,_e){return Q===1?St[_e]:St.readUInt16BE(_e*Q)}let be;if(G){let St=-1;for(be=_;be<ne;be++)if(Ee(C,be)===Ee(v,St===-1?0:be-St)){if(St===-1&&(St=be),be-St+1===Le)return St*Q}else St!==-1&&(be-=be-St),St=-1}else for(_+Le>ne&&(_=ne-Le),be=_;be>=0;be--){let St=!0;for(let _e=0;_e<Le;_e++)if(Ee(C,be+_e)!==Ee(v,_e)){St=!1;break}if(St)return be}return-1}f.prototype.includes=function(v,_,U){return this.indexOf(v,_,U)!==-1},f.prototype.indexOf=function(v,_,U){return X(this,v,_,U,!0)},f.prototype.lastIndexOf=function(v,_,U){return X(this,v,_,U,!1)};function re(C,v,_,U){_=Number(_)||0;const G=C.length-_;U?(U=Number(U),U>G&&(U=G)):U=G;const Q=v.length;U>Q/2&&(U=Q/2);let ne;for(ne=0;ne<U;++ne){const Le=parseInt(v.substr(ne*2,2),16);if($e(Le))return ne;C[_+ne]=Le}return ne}function W(C,v,_,U){return Oe(We(v,C.length-_),C,_,U)}function q(C,v,_,U){return Oe(Qe(v),C,_,U)}function K(C,v,_,U){return Oe(ze(v),C,_,U)}function V(C,v,_,U){return Oe(Fn(v,C.length-_),C,_,U)}f.prototype.write=function(v,_,U,G){if(_===void 0)G="utf8",U=this.length,_=0;else if(U===void 0&&typeof _=="string")G=_,U=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(U)?(U=U>>>0,G===void 0&&(G="utf8")):(G=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-_;if((U===void 0||U>Q)&&(U=Q),v.length>0&&(U<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let ne=!1;for(;;)switch(G){case"hex":return re(this,v,_,U);case"utf8":case"utf-8":return W(this,v,_,U);case"ascii":case"latin1":case"binary":return q(this,v,_,U);case"base64":return K(this,v,_,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,v,_,U);default:if(ne)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ne=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(C,v,_){return v===0&&_===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(v,_))}function a(C,v,_){_=Math.min(C.length,_);const U=[];let G=v;for(;G<_;){const Q=C[G];let ne=null,Le=Q>239?4:Q>223?3:Q>191?2:1;if(G+Le<=_){let Ee,be,St,_e;switch(Le){case 1:Q<128&&(ne=Q);break;case 2:Ee=C[G+1],(Ee&192)===128&&(_e=(Q&31)<<6|Ee&63,_e>127&&(ne=_e));break;case 3:Ee=C[G+1],be=C[G+2],(Ee&192)===128&&(be&192)===128&&(_e=(Q&15)<<12|(Ee&63)<<6|be&63,_e>2047&&(_e<55296||_e>57343)&&(ne=_e));break;case 4:Ee=C[G+1],be=C[G+2],St=C[G+3],(Ee&192)===128&&(be&192)===128&&(St&192)===128&&(_e=(Q&15)<<18|(Ee&63)<<12|(be&63)<<6|St&63,_e>65535&&_e<1114112&&(ne=_e))}}ne===null?(ne=65533,Le=1):ne>65535&&(ne-=65536,U.push(ne>>>10&1023|55296),ne=56320|ne&1023),U.push(ne),G+=Le}return m(U)}const h=4096;function m(C){const v=C.length;if(v<=h)return String.fromCharCode.apply(String,C);let _="",U=0;for(;U<v;)_+=String.fromCharCode.apply(String,C.slice(U,U+=h));return _}function E(C,v,_){let U="";_=Math.min(C.length,_);for(let G=v;G<_;++G)U+=String.fromCharCode(C[G]&127);return U}function A(C,v,_){let U="";_=Math.min(C.length,_);for(let G=v;G<_;++G)U+=String.fromCharCode(C[G]);return U}function I(C,v,_){const U=C.length;(!v||v<0)&&(v=0),(!_||_<0||_>U)&&(_=U);let G="";for(let Q=v;Q<_;++Q)G+=qe[C[Q]];return G}function k(C,v,_){const U=C.slice(v,_);let G="";for(let Q=0;Q<U.length-1;Q+=2)G+=String.fromCharCode(U[Q]+U[Q+1]*256);return G}f.prototype.slice=function(v,_){const U=this.length;v=~~v,_=_===void 0?U:~~_,v<0?(v+=U,v<0&&(v=0)):v>U&&(v=U),_<0?(_+=U,_<0&&(_=0)):_>U&&(_=U),_<v&&(_=v);const G=this.subarray(v,_);return Object.setPrototypeOf(G,f.prototype),G};function g(C,v,_){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+v>_)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=this[v],Q=1,ne=0;for(;++ne<_&&(Q*=256);)G+=this[v+ne]*Q;return G},f.prototype.readUintBE=f.prototype.readUIntBE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=this[v+--_],Q=1;for(;_>0&&(Q*=256);)G+=this[v+--_]*Q;return G},f.prototype.readUint8=f.prototype.readUInt8=function(v,_){return v=v>>>0,_||g(v,1,this.length),this[v]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(v,_){return v=v>>>0,_||g(v,2,this.length),this[v]|this[v+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(v,_){return v=v>>>0,_||g(v,2,this.length),this[v]<<8|this[v+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(v,_){return v=v>>>0,_||g(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(v,_){return v=v>>>0,_||g(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},f.prototype.readBigUInt64LE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,Q=this[++v]+this[++v]*2**8+this[++v]*2**16+U*2**24;return BigInt(G)+(BigInt(Q)<<BigInt(32))}),f.prototype.readBigUInt64BE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=_*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],Q=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+U;return(BigInt(G)<<BigInt(32))+BigInt(Q)}),f.prototype.readIntLE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=this[v],Q=1,ne=0;for(;++ne<_&&(Q*=256);)G+=this[v+ne]*Q;return Q*=128,G>=Q&&(G-=Math.pow(2,8*_)),G},f.prototype.readIntBE=function(v,_,U){v=v>>>0,_=_>>>0,U||g(v,_,this.length);let G=_,Q=1,ne=this[v+--G];for(;G>0&&(Q*=256);)ne+=this[v+--G]*Q;return Q*=128,ne>=Q&&(ne-=Math.pow(2,8*_)),ne},f.prototype.readInt8=function(v,_){return v=v>>>0,_||g(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},f.prototype.readInt16LE=function(v,_){v=v>>>0,_||g(v,2,this.length);const U=this[v]|this[v+1]<<8;return U&32768?U|4294901760:U},f.prototype.readInt16BE=function(v,_){v=v>>>0,_||g(v,2,this.length);const U=this[v+1]|this[v]<<8;return U&32768?U|4294901760:U},f.prototype.readInt32LE=function(v,_){return v=v>>>0,_||g(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},f.prototype.readInt32BE=function(v,_){return v=v>>>0,_||g(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},f.prototype.readBigInt64LE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(U<<24);return(BigInt(G)<<BigInt(32))+BigInt(_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),f.prototype.readBigInt64BE=Kt(function(v){v=v>>>0,Bt(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Re(v,this.length-8);const G=(_<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(G)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+U)}),f.prototype.readFloatLE=function(v,_){return v=v>>>0,_||g(v,4,this.length),e.read(this,v,!0,23,4)},f.prototype.readFloatBE=function(v,_){return v=v>>>0,_||g(v,4,this.length),e.read(this,v,!1,23,4)},f.prototype.readDoubleLE=function(v,_){return v=v>>>0,_||g(v,8,this.length),e.read(this,v,!0,52,8)},f.prototype.readDoubleBE=function(v,_){return v=v>>>0,_||g(v,8,this.length),e.read(this,v,!1,52,8)};function c(C,v,_,U,G,Q){if(!f.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>G||v<Q)throw new RangeError('"value" argument is out of bounds');if(_+U>C.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(v,_,U,G){if(v=+v,_=_>>>0,U=U>>>0,!G){const Le=Math.pow(2,8*U)-1;c(this,v,_,U,Le,0)}let Q=1,ne=0;for(this[_]=v&255;++ne<U&&(Q*=256);)this[_+ne]=v/Q&255;return _+U},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(v,_,U,G){if(v=+v,_=_>>>0,U=U>>>0,!G){const Le=Math.pow(2,8*U)-1;c(this,v,_,U,Le,0)}let Q=U-1,ne=1;for(this[_+Q]=v&255;--Q>=0&&(ne*=256);)this[_+Q]=v/ne&255;return _+U},f.prototype.writeUint8=f.prototype.writeUInt8=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,1,255,0),this[_]=v&255,_+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,65535,0),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,65535,0),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,4294967295,0),this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=v&255,_+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,4294967295,0),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4};function d(C,v,_,U,G){xe(v,U,G,C,_,7);let Q=Number(v&BigInt(4294967295));C[_++]=Q,Q=Q>>8,C[_++]=Q,Q=Q>>8,C[_++]=Q,Q=Q>>8,C[_++]=Q;let ne=Number(v>>BigInt(32)&BigInt(4294967295));return C[_++]=ne,ne=ne>>8,C[_++]=ne,ne=ne>>8,C[_++]=ne,ne=ne>>8,C[_++]=ne,_}function R(C,v,_,U,G){xe(v,U,G,C,_,7);let Q=Number(v&BigInt(4294967295));C[_+7]=Q,Q=Q>>8,C[_+6]=Q,Q=Q>>8,C[_+5]=Q,Q=Q>>8,C[_+4]=Q;let ne=Number(v>>BigInt(32)&BigInt(4294967295));return C[_+3]=ne,ne=ne>>8,C[_+2]=ne,ne=ne>>8,C[_+1]=ne,ne=ne>>8,C[_]=ne,_+8}f.prototype.writeBigUInt64LE=Kt(function(v,_=0){return d(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Kt(function(v,_=0){return R(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(v,_,U,G){if(v=+v,_=_>>>0,!G){const Ee=Math.pow(2,8*U-1);c(this,v,_,U,Ee-1,-Ee)}let Q=0,ne=1,Le=0;for(this[_]=v&255;++Q<U&&(ne*=256);)v<0&&Le===0&&this[_+Q-1]!==0&&(Le=1),this[_+Q]=(v/ne>>0)-Le&255;return _+U},f.prototype.writeIntBE=function(v,_,U,G){if(v=+v,_=_>>>0,!G){const Ee=Math.pow(2,8*U-1);c(this,v,_,U,Ee-1,-Ee)}let Q=U-1,ne=1,Le=0;for(this[_+Q]=v&255;--Q>=0&&(ne*=256);)v<0&&Le===0&&this[_+Q+1]!==0&&(Le=1),this[_+Q]=(v/ne>>0)-Le&255;return _+U},f.prototype.writeInt8=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,1,127,-128),v<0&&(v=255+v+1),this[_]=v&255,_+1},f.prototype.writeInt16LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,32767,-32768),this[_]=v&255,this[_+1]=v>>>8,_+2},f.prototype.writeInt16BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,2,32767,-32768),this[_]=v>>>8,this[_+1]=v&255,_+2},f.prototype.writeInt32LE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,2147483647,-2147483648),this[_]=v&255,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24,_+4},f.prototype.writeInt32BE=function(v,_,U){return v=+v,_=_>>>0,U||c(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4},f.prototype.writeBigInt64LE=Kt(function(v,_=0){return d(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Kt(function(v,_=0){return R(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(C,v,_,U,G,Q){if(_+U>C.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function H(C,v,_,U,G){return v=+v,_=_>>>0,G||D(C,v,_,4),e.write(C,v,_,U,23,4),_+4}f.prototype.writeFloatLE=function(v,_,U){return H(this,v,_,!0,U)},f.prototype.writeFloatBE=function(v,_,U){return H(this,v,_,!1,U)};function ee(C,v,_,U,G){return v=+v,_=_>>>0,G||D(C,v,_,8),e.write(C,v,_,U,52,8),_+8}f.prototype.writeDoubleLE=function(v,_,U){return ee(this,v,_,!0,U)},f.prototype.writeDoubleBE=function(v,_,U){return ee(this,v,_,!1,U)},f.prototype.copy=function(v,_,U,G){if(!f.isBuffer(v))throw new TypeError("argument should be a Buffer");if(U||(U=0),!G&&G!==0&&(G=this.length),_>=v.length&&(_=v.length),_||(_=0),G>0&&G<U&&(G=U),G===U||v.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),v.length-_<G-U&&(G=v.length-_+U);const Q=G-U;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,U,G):Uint8Array.prototype.set.call(v,this.subarray(U,G),_),Q},f.prototype.fill=function(v,_,U,G){if(typeof v=="string"){if(typeof _=="string"?(G=_,_=0,U=this.length):typeof U=="string"&&(G=U,U=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!f.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(v.length===1){const ne=v.charCodeAt(0);(G==="utf8"&&ne<128||G==="latin1")&&(v=ne)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(_<0||this.length<_||this.length<U)throw new RangeError("Out of range index");if(U<=_)return this;_=_>>>0,U=U===void 0?this.length:U>>>0,v||(v=0);let Q;if(typeof v=="number")for(Q=_;Q<U;++Q)this[Q]=v;else{const ne=f.isBuffer(v)?v:f.from(v,G),Le=ne.length;if(Le===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(Q=0;Q<U-_;++Q)this[Q+_]=ne[Q%Le]}return this};const oe={};function fe(C,v,_){oe[C]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(C,v){return`The "${C}" argument must be of type number. Received type ${typeof v}`},TypeError),fe("ERR_OUT_OF_RANGE",function(C,v,_){let U=`The value of "${C}" is out of range.`,G=_;return Number.isInteger(_)&&Math.abs(_)>2**32?G=Ue(String(_)):typeof _=="bigint"&&(G=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(G=Ue(G)),G+="n"),U+=` It must be ${v}. Received ${G}`,U},RangeError);function Ue(C){let v="",_=C.length;const U=C[0]==="-"?1:0;for(;_>=U+4;_-=3)v=`_${C.slice(_-3,_)}${v}`;return`${C.slice(0,_)}${v}`}function Se(C,v,_){Bt(v,"offset"),(C[v]===void 0||C[v+_]===void 0)&&Re(v,C.length-(_+1))}function xe(C,v,_,U,G,Q){if(C>_||C<v){const ne=typeof v=="bigint"?"n":"";let Le;throw v===0||v===BigInt(0)?Le=`>= 0${ne} and < 2${ne} ** ${(Q+1)*8}${ne}`:Le=`>= -(2${ne} ** ${(Q+1)*8-1}${ne}) and < 2 ** ${(Q+1)*8-1}${ne}`,new oe.ERR_OUT_OF_RANGE("value",Le,C)}Se(U,G,Q)}function Bt(C,v){if(typeof C!="number")throw new oe.ERR_INVALID_ARG_TYPE(v,"number",C)}function Re(C,v,_){throw Math.floor(C)!==C?(Bt(C,_),new oe.ERR_OUT_OF_RANGE("offset","an integer",C)):v<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,C)}const Be=/[^+/0-9A-Za-z-_]/g;function Gn(C){if(C=C.split("=")[0],C=C.trim().replace(Be,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function We(C,v){v=v||1/0;let _;const U=C.length;let G=null;const Q=[];for(let ne=0;ne<U;++ne){if(_=C.charCodeAt(ne),_>55295&&_<57344){if(!G){if(_>56319){(v-=3)>-1&&Q.push(239,191,189);continue}else if(ne+1===U){(v-=3)>-1&&Q.push(239,191,189);continue}G=_;continue}if(_<56320){(v-=3)>-1&&Q.push(239,191,189),G=_;continue}_=(G-55296<<10|_-56320)+65536}else G&&(v-=3)>-1&&Q.push(239,191,189);if(G=null,_<128){if((v-=1)<0)break;Q.push(_)}else if(_<2048){if((v-=2)<0)break;Q.push(_>>6|192,_&63|128)}else if(_<65536){if((v-=3)<0)break;Q.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((v-=4)<0)break;Q.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return Q}function Qe(C){const v=[];for(let _=0;_<C.length;++_)v.push(C.charCodeAt(_)&255);return v}function Fn(C,v){let _,U,G;const Q=[];for(let ne=0;ne<C.length&&!((v-=2)<0);++ne)_=C.charCodeAt(ne),U=_>>8,G=_%256,Q.push(G),Q.push(U);return Q}function ze(C){return t.toByteArray(Gn(C))}function Oe(C,v,_,U){let G;for(G=0;G<U&&!(G+_>=v.length||G>=C.length);++G)v[G+_]=C[G];return G}function Lt(C,v){return C instanceof v||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===v.name}function $e(C){return C!==C}const qe=function(){const C="0123456789abcdef",v=new Array(256);for(let _=0;_<16;++_){const U=_*16;for(let G=0;G<16;++G)v[U+G]=C[_]+C[G]}return v}();function Kt(C){return typeof BigInt>"u"?Ke:C}function Ke(){throw new Error("BigInt not supported")}}(iy)),iy}var zt=hw();function _S(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function c5(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function l0(n,...t){if(!c5(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function l5(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_S(n.outputLen),_S(n.blockLen)}function Ad(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function f5(n,t){l0(n);const e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}const Mu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sy(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ds(n,t){return n<<32-t|n>>>t}function h5(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function dw(n){return typeof n=="string"&&(n=h5(n)),l0(n),n}function d5(...n){let t=0;for(let r=0;r<n.length;r++){const s=n[r];l0(s),t+=s.length}const e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}class CA{clone(){return this._cloneInto()}}function LA(n){const t=r=>n().update(dw(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function OA(n=32){if(Mu&&typeof Mu.getRandomValues=="function")return Mu.getRandomValues(new Uint8Array(n));if(Mu&&typeof Mu.randomBytes=="function")return Mu.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}function p5(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),i=BigInt(4294967295),u=Number(e>>s&i),f=Number(e&i),p=r?4:0,w=r?0:4;n.setUint32(t+p,u,r),n.setUint32(t+w,f,r)}function g5(n,t,e){return n&t^~n&e}function y5(n,t,e){return n&t^n&e^t&e}class PA extends CA{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=sy(this.buffer)}update(t){Ad(this);const{view:e,buffer:r,blockLen:s}=this;t=dw(t);const i=t.length;for(let u=0;u<i;){const f=Math.min(s-this.pos,i-u);if(f===s){const p=sy(t);for(;s<=i-u;u+=s)this.process(p,u);continue}r.set(t.subarray(u,u+f),this.pos),this.pos+=f,u+=f,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ad(this),f5(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:i}=this;let{pos:u}=this;e[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>s-u&&(this.process(r,0),u=0);for(let T=u;T<s;T++)e[T]=0;p5(r,s-8,BigInt(this.length*8),i),this.process(r,0);const f=sy(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=p/4,b=this.get();if(w>b.length)throw new Error("_sha2: outputLen bigger than state");for(let T=0;T<w;T++)f.setUint32(4*T,b[T],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:i,destroyed:u,pos:f}=this;return t.length=s,t.pos=f,t.finished=i,t.destroyed=u,s%e&&t.buffer.set(r),t}}const Dh=BigInt(2**32-1),Vm=BigInt(32);function DA(n,t=!1){return t?{h:Number(n&Dh),l:Number(n>>Vm&Dh)}:{h:Number(n>>Vm&Dh)|0,l:Number(n&Dh)|0}}function m5(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:u}=DA(n[s],t);[e[s],r[s]]=[i,u]}return[e,r]}const w5=(n,t)=>BigInt(n>>>0)<<Vm|BigInt(t>>>0),v5=(n,t,e)=>n>>>e,_5=(n,t,e)=>n<<32-e|t>>>e,b5=(n,t,e)=>n>>>e|t<<32-e,E5=(n,t,e)=>n<<32-e|t>>>e,S5=(n,t,e)=>n<<64-e|t>>>e-32,x5=(n,t,e)=>n>>>e-32|t<<64-e,k5=(n,t)=>t,A5=(n,t)=>n,I5=(n,t,e)=>n<<e|t>>>32-e,M5=(n,t,e)=>t<<e|n>>>32-e,R5=(n,t,e)=>t<<e-32|n>>>64-e,T5=(n,t,e)=>n<<e-32|t>>>64-e;function N5(n,t,e,r){const s=(t>>>0)+(r>>>0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const B5=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),C5=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,L5=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),O5=(n,t,e,r,s)=>t+e+r+s+(n/2**32|0)|0,P5=(n,t,e,r,s)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0),D5=(n,t,e,r,s,i)=>t+e+r+s+i+(n/2**32|0)|0,Pt={fromBig:DA,split:m5,toBig:w5,shrSH:v5,shrSL:_5,rotrSH:b5,rotrSL:E5,rotrBH:S5,rotrBL:x5,rotr32H:k5,rotr32L:A5,rotlSH:I5,rotlSL:M5,rotlBH:R5,rotlBL:T5,add:N5,add3L:B5,add3H:C5,add4L:L5,add4H:O5,add5H:D5,add5L:P5},[U5,z5]=Pt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Co=new Uint32Array(80),Lo=new Uint32Array(80);class F5 extends PA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:i,Cl:u,Dh:f,Dl:p,Eh:w,El:b,Fh:T,Fl:B,Gh:M,Gl:O,Hh:P,Hl:N}=this;return[t,e,r,s,i,u,f,p,w,b,T,B,M,O,P,N]}set(t,e,r,s,i,u,f,p,w,b,T,B,M,O,P,N){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=u|0,this.Dh=f|0,this.Dl=p|0,this.Eh=w|0,this.El=b|0,this.Fh=T|0,this.Fl=B|0,this.Gh=M|0,this.Gl=O|0,this.Hh=P|0,this.Hl=N|0}process(t,e){for(let F=0;F<16;F++,e+=4)Co[F]=t.getUint32(e),Lo[F]=t.getUint32(e+=4);for(let F=16;F<80;F++){const Y=Co[F-15]|0,J=Lo[F-15]|0,X=Pt.rotrSH(Y,J,1)^Pt.rotrSH(Y,J,8)^Pt.shrSH(Y,J,7),te=Pt.rotrSL(Y,J,1)^Pt.rotrSL(Y,J,8)^Pt.shrSL(Y,J,7),re=Co[F-2]|0,W=Lo[F-2]|0,q=Pt.rotrSH(re,W,19)^Pt.rotrBH(re,W,61)^Pt.shrSH(re,W,6),K=Pt.rotrSL(re,W,19)^Pt.rotrBL(re,W,61)^Pt.shrSL(re,W,6),V=Pt.add4L(te,K,Lo[F-7],Lo[F-16]),S=Pt.add4H(V,X,q,Co[F-7],Co[F-16]);Co[F]=S|0,Lo[F]=V|0}let{Ah:r,Al:s,Bh:i,Bl:u,Ch:f,Cl:p,Dh:w,Dl:b,Eh:T,El:B,Fh:M,Fl:O,Gh:P,Gl:N,Hh:$,Hl:j}=this;for(let F=0;F<80;F++){const Y=Pt.rotrSH(T,B,14)^Pt.rotrSH(T,B,18)^Pt.rotrBH(T,B,41),J=Pt.rotrSL(T,B,14)^Pt.rotrSL(T,B,18)^Pt.rotrBL(T,B,41),X=T&M^~T&P,te=B&O^~B&N,re=Pt.add5L(j,J,te,z5[F],Lo[F]),W=Pt.add5H(re,$,Y,X,U5[F],Co[F]),q=re|0,K=Pt.rotrSH(r,s,28)^Pt.rotrBH(r,s,34)^Pt.rotrBH(r,s,39),V=Pt.rotrSL(r,s,28)^Pt.rotrBL(r,s,34)^Pt.rotrBL(r,s,39),S=r&i^r&f^i&f,a=s&u^s&p^u&p;$=P|0,j=N|0,P=M|0,N=O|0,M=T|0,O=B|0,{h:T,l:B}=Pt.add(w|0,b|0,W|0,q|0),w=f|0,b=p|0,f=i|0,p=u|0,i=r|0,u=s|0;const h=Pt.add3L(q,V,a);r=Pt.add3H(h,W,K,S),s=h|0}({h:r,l:s}=Pt.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:u}=Pt.add(this.Bh|0,this.Bl|0,i|0,u|0),{h:f,l:p}=Pt.add(this.Ch|0,this.Cl|0,f|0,p|0),{h:w,l:b}=Pt.add(this.Dh|0,this.Dl|0,w|0,b|0),{h:T,l:B}=Pt.add(this.Eh|0,this.El|0,T|0,B|0),{h:M,l:O}=Pt.add(this.Fh|0,this.Fl|0,M|0,O|0),{h:P,l:N}=Pt.add(this.Gh|0,this.Gl|0,P|0,N|0),{h:$,l:j}=Pt.add(this.Hh|0,this.Hl|0,$|0,j|0),this.set(r,s,i,u,f,p,w,b,T,B,M,O,P,N,$,j)}roundClean(){Co.fill(0),Lo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $5=LA(()=>new F5);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f0=BigInt(0),h0=BigInt(1),j5=BigInt(2);function Wa(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function uf(n){if(!Wa(n))throw new Error("Uint8Array expected")}function ro(n,t){if(typeof t!="boolean")throw new Error(n+" boolean expected, got "+t)}const H5=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function qa(n){uf(n);let t="";for(let e=0;e<n.length;e++)t+=H5[n[e]];return t}function Ou(n){const t=n.toString(16);return t.length&1?"0"+t:t}function pw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?f0:BigInt("0x"+n)}const $s={_0:48,_9:57,A:65,F:70,a:97,f:102};function bS(n){if(n>=$s._0&&n<=$s._9)return n-$s._0;if(n>=$s.A&&n<=$s.F)return n-($s.A-10);if(n>=$s.a&&n<=$s.f)return n-($s.a-10)}function tc(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const t=n.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const u=bS(n.charCodeAt(i)),f=bS(n.charCodeAt(i+1));if(u===void 0||f===void 0){const p=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+i)}r[s]=u*16+f}return r}function Da(n){return pw(qa(n))}function Wu(n){return uf(n),pw(qa(Uint8Array.from(n).reverse()))}function nc(n,t){return tc(n.toString(16).padStart(t*2,"0"))}function Fl(n,t){return nc(n,t).reverse()}function W5(n){return tc(Ou(n))}function Wn(n,t,e){let r;if(typeof t=="string")try{r=tc(t)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(Wa(t))r=Uint8Array.from(t);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof e=="number"&&s!==e)throw new Error(n+" of length "+e+" expected, got "+s);return r}function Ka(...n){let t=0;for(let r=0;r<n.length;r++){const s=n[r];uf(s),t+=s.length}const e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}function q5(n,t){if(n.length!==t.length)return!1;let e=0;for(let r=0;r<n.length;r++)e|=n[r]^t[r];return e===0}function K5(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const oy=n=>typeof n=="bigint"&&f0<=n;function d0(n,t,e){return oy(n)&&oy(t)&&oy(e)&&t<=n&&n<e}function zi(n,t,e,r){if(!d0(t,e,r))throw new Error("expected valid "+n+": "+e+" <= n < "+r+", got "+t)}function UA(n){let t;for(t=0;n>f0;n>>=h0,t+=1);return t}function V5(n,t){return n>>BigInt(t)&h0}function G5(n,t,e){return n|(e?h0:f0)<<BigInt(t)}const gw=n=>(j5<<BigInt(n-1))-h0,ay=n=>new Uint8Array(n),ES=n=>Uint8Array.from(n);function zA(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=ay(n),s=ay(n),i=0;const u=()=>{r.fill(1),s.fill(0),i=0},f=(...T)=>e(s,r,...T),p=(T=ay())=>{s=f(ES([0]),T),r=f(),T.length!==0&&(s=f(ES([1]),T),r=f())},w=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let T=0;const B=[];for(;T<t;){r=f();const M=r.slice();B.push(M),T+=r.length}return Ka(...B)};return(T,B)=>{u(),p(T);let M;for(;!(M=B(w()));)p();return u(),M}}const Z5={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Wa(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function wc(n,t,e={}){const r=(s,i,u)=>{const f=Z5[i];if(typeof f!="function")throw new Error("invalid validator function");const p=n[s];if(!(u&&p===void 0)&&!f(p,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+p)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(e))r(s,i,!0);return n}const Y5=()=>{throw new Error("not implemented")};function $l(n){const t=new WeakMap;return(e,...r)=>{const s=t.get(e);if(s!==void 0)return s;const i=n(e,...r);return t.set(e,i),i}}const Q5=Object.freeze(Object.defineProperty({__proto__:null,aInRange:zi,abool:ro,abytes:uf,bitGet:V5,bitLen:UA,bitMask:gw,bitSet:G5,bytesToHex:qa,bytesToNumberBE:Da,bytesToNumberLE:Wu,concatBytes:Ka,createHmacDrbg:zA,ensureBytes:Wn,equalBytes:q5,hexToBytes:tc,hexToNumber:pw,inRange:d0,isBytes:Wa,memoized:$l,notImplemented:Y5,numberToBytesBE:nc,numberToBytesLE:Fl,numberToHexUnpadded:Ou,numberToVarBytesBE:W5,utf8ToBytes:K5,validateObject:wc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cr=BigInt(0),Rn=BigInt(1),xa=BigInt(2),J5=BigInt(3),Gm=BigInt(4),SS=BigInt(5),xS=BigInt(8);function En(n,t){const e=n%t;return e>=cr?e:t+e}function X5(n,t,e){if(t<cr)throw new Error("invalid exponent, negatives unsupported");if(e<=cr)throw new Error("invalid modulus");if(e===Rn)return cr;let r=Rn;for(;t>cr;)t&Rn&&(r=r*n%e),n=n*n%e,t>>=Rn;return r}function Pn(n,t,e){let r=n;for(;t-- >cr;)r*=r,r%=e;return r}function Zm(n,t){if(n===cr)throw new Error("invert: expected non-zero number");if(t<=cr)throw new Error("invert: expected positive modulus, got "+t);let e=En(n,t),r=t,s=cr,i=Rn;for(;e!==cr;){const f=r/e,p=r%e,w=s-i*f;r=e,e=p,s=i,i=w}if(r!==Rn)throw new Error("invert: does not exist");return En(s,t)}function eP(n){const t=(n-Rn)/xa;let e,r,s;for(e=n-Rn,r=0;e%xa===cr;e/=xa,r++);for(s=xa;s<n&&X5(s,t,n)!==n-Rn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const u=(n+Rn)/Gm;return function(p,w){const b=p.pow(w,u);if(!p.eql(p.sqr(b),w))throw new Error("Cannot find square root");return b}}const i=(e+Rn)/xa;return function(f,p){if(f.pow(p,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let w=r,b=f.pow(f.mul(f.ONE,s),e),T=f.pow(p,i),B=f.pow(p,e);for(;!f.eql(B,f.ONE);){if(f.eql(B,f.ZERO))return f.ZERO;let M=1;for(let P=f.sqr(B);M<w&&!f.eql(P,f.ONE);M++)P=f.sqr(P);const O=f.pow(b,Rn<<BigInt(w-M-1));b=f.sqr(O),T=f.mul(T,O),B=f.mul(B,b),w=M}return T}}function tP(n){if(n%Gm===J5){const t=(n+Rn)/Gm;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%xS===SS){const t=(n-SS)/xS;return function(r,s){const i=r.mul(s,xa),u=r.pow(i,t),f=r.mul(s,u),p=r.mul(r.mul(f,xa),u),w=r.mul(f,r.sub(p,r.ONE));if(!r.eql(r.sqr(w),s))throw new Error("Cannot find square root");return w}}return eP(n)}const nP=(n,t)=>(En(n,t)&Rn)===Rn,rP=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iP(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=rP.reduce((r,s)=>(r[s]="function",r),t);return wc(n,e)}function sP(n,t,e){if(e<cr)throw new Error("invalid exponent, negatives unsupported");if(e===cr)return n.ONE;if(e===Rn)return t;let r=n.ONE,s=t;for(;e>cr;)e&Rn&&(r=n.mul(r,s)),s=n.sqr(s),e>>=Rn;return r}function oP(n,t){const e=new Array(t.length),r=t.reduce((i,u,f)=>n.is0(u)?i:(e[f]=i,n.mul(i,u)),n.ONE),s=n.inv(r);return t.reduceRight((i,u,f)=>n.is0(u)?i:(e[f]=n.mul(i,e[f]),n.mul(i,u)),s),e}function FA(n,t){const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function p0(n,t,e=!1,r={}){if(n<=cr)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=FA(n,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:n,isLE:e,BITS:s,BYTES:i,MASK:gw(s),ZERO:cr,ONE:Rn,create:p=>En(p,n),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return cr<=p&&p<n},is0:p=>p===cr,isOdd:p=>(p&Rn)===Rn,neg:p=>En(-p,n),eql:(p,w)=>p===w,sqr:p=>En(p*p,n),add:(p,w)=>En(p+w,n),sub:(p,w)=>En(p-w,n),mul:(p,w)=>En(p*w,n),pow:(p,w)=>sP(f,p,w),div:(p,w)=>En(p*Zm(w,n),n),sqrN:p=>p*p,addN:(p,w)=>p+w,subN:(p,w)=>p-w,mulN:(p,w)=>p*w,inv:p=>Zm(p,n),sqrt:r.sqrt||(p=>(u||(u=tP(n)),u(f,p))),invertBatch:p=>oP(f,p),cmov:(p,w,b)=>b?w:p,toBytes:p=>e?Fl(p,i):nc(p,i),fromBytes:p=>{if(p.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+p.length);return e?Wu(p):Da(p)}});return Object.freeze(f)}function $A(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function jA(n){const t=$A(n);return t+Math.ceil(t/2)}function aP(n,t,e=!1){const r=n.length,s=$A(t),i=jA(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const u=e?Wu(n):Da(n),f=En(u,t-Rn)+Rn;return e?Fl(f,s):nc(f,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kS=BigInt(0),Uh=BigInt(1);function uy(n,t){const e=t.negate();return n?e:t}function HA(n,t){if(!Number.isSafeInteger(n)||n<=0||n>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+n)}function cy(n,t){HA(n,t);const e=Math.ceil(t/n)+1,r=2**(n-1);return{windows:e,windowSize:r}}function uP(n,t){if(!Array.isArray(n))throw new Error("array expected");n.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function cP(n,t){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const ly=new WeakMap,WA=new WeakMap;function fy(n){return WA.get(n)||1}function qA(n,t){return{constTimeNegate:uy,hasPrecomputes(e){return fy(e)!==1},unsafeLadder(e,r,s=n.ZERO){let i=e;for(;r>kS;)r&Uh&&(s=s.add(i)),i=i.double(),r>>=Uh;return s},precomputeWindow(e,r){const{windows:s,windowSize:i}=cy(r,t),u=[];let f=e,p=f;for(let w=0;w<s;w++){p=f,u.push(p);for(let b=1;b<i;b++)p=p.add(f),u.push(p);f=p.double()}return u},wNAF(e,r,s){const{windows:i,windowSize:u}=cy(e,t);let f=n.ZERO,p=n.BASE;const w=BigInt(2**e-1),b=2**e,T=BigInt(e);for(let B=0;B<i;B++){const M=B*u;let O=Number(s&w);s>>=T,O>u&&(O-=b,s+=Uh);const P=M,N=M+Math.abs(O)-1,$=B%2!==0,j=O<0;O===0?p=p.add(uy($,r[P])):f=f.add(uy(j,r[N]))}return{p:f,f:p}},wNAFUnsafe(e,r,s,i=n.ZERO){const{windows:u,windowSize:f}=cy(e,t),p=BigInt(2**e-1),w=2**e,b=BigInt(e);for(let T=0;T<u;T++){const B=T*f;if(s===kS)break;let M=Number(s&p);if(s>>=b,M>f&&(M-=w,s+=Uh),M===0)continue;let O=r[B+Math.abs(M)-1];M<0&&(O=O.negate()),i=i.add(O)}return i},getPrecomputes(e,r,s){let i=ly.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&ly.set(r,s(i))),i},wNAFCached(e,r,s){const i=fy(e);return this.wNAF(i,this.getPrecomputes(i,e,s),r)},wNAFCachedUnsafe(e,r,s,i){const u=fy(e);return u===1?this.unsafeLadder(e,r,i):this.wNAFUnsafe(u,this.getPrecomputes(u,e,s),r,i)},setWindowSize(e,r){HA(r,t),WA.set(e,r),ly.delete(e)}}}function KA(n,t,e,r){if(uP(e,n),cP(r,t),e.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,i=UA(BigInt(e.length)),u=i>12?i-3:i>4?i-2:i?2:1,f=(1<<u)-1,p=new Array(f+1).fill(s),w=Math.floor((t.BITS-1)/u)*u;let b=s;for(let T=w;T>=0;T-=u){p.fill(s);for(let M=0;M<r.length;M++){const O=r[M],P=Number(O>>BigInt(T)&BigInt(f));p[P]=p[P].add(e[M])}let B=s;for(let M=p.length-1,O=s;M>0;M--)O=O.add(p[M]),B=B.add(O);if(b=b.add(B),T!==0)for(let M=0;M<u;M++)b=b.double()}return b}function yw(n){return iP(n.Fp),wc(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...FA(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xi=BigInt(0),ni=BigInt(1),zh=BigInt(2),lP=BigInt(8),fP={zip215:!0};function hP(n){const t=yw(n);return wc(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function dP(n){const t=hP(n),{Fp:e,n:r,prehash:s,hash:i,randomBytes:u,nByteLength:f,h:p}=t,w=zh<<BigInt(f*8)-ni,b=e.create,T=p0(t.n,t.nBitLength),B=t.uvRatio||((m,E)=>{try{return{isValid:!0,value:e.sqrt(m*e.inv(E))}}catch{return{isValid:!1,value:Xi}}}),M=t.adjustScalarBytes||(m=>m),O=t.domain||((m,E,A)=>{if(ro("phflag",A),E.length||A)throw new Error("Contexts/pre-hash are not supported");return m});function P(m,E){zi("coordinate "+m,E,Xi,w)}function N(m){if(!(m instanceof F))throw new Error("ExtendedPoint expected")}const $=$l((m,E)=>{const{ex:A,ey:I,ez:k}=m,g=m.is0();E==null&&(E=g?lP:e.inv(k));const c=b(A*E),d=b(I*E),R=b(k*E);if(g)return{x:Xi,y:ni};if(R!==ni)throw new Error("invZ was invalid");return{x:c,y:d}}),j=$l(m=>{const{a:E,d:A}=t;if(m.is0())throw new Error("bad point: ZERO");const{ex:I,ey:k,ez:g,et:c}=m,d=b(I*I),R=b(k*k),D=b(g*g),H=b(D*D),ee=b(d*E),oe=b(D*b(ee+R)),fe=b(H+b(A*b(d*R)));if(oe!==fe)throw new Error("bad point: equation left != right (1)");const Ue=b(I*k),Se=b(g*c);if(Ue!==Se)throw new Error("bad point: equation left != right (2)");return!0});class F{constructor(E,A,I,k){this.ex=E,this.ey=A,this.ez=I,this.et=k,P("x",E),P("y",A),P("z",I),P("t",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof F)throw new Error("extended point not allowed");const{x:A,y:I}=E||{};return P("x",A),P("y",I),new F(A,I,ni,b(A*I))}static normalizeZ(E){const A=e.invertBatch(E.map(I=>I.ez));return E.map((I,k)=>I.toAffine(A[k])).map(F.fromAffine)}static msm(E,A){return KA(F,T,E,A)}_setWindowSize(E){X.setWindowSize(this,E)}assertValidity(){j(this)}equals(E){N(E);const{ex:A,ey:I,ez:k}=this,{ex:g,ey:c,ez:d}=E,R=b(A*d),D=b(g*k),H=b(I*d),ee=b(c*k);return R===D&&H===ee}is0(){return this.equals(F.ZERO)}negate(){return new F(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){const{a:E}=t,{ex:A,ey:I,ez:k}=this,g=b(A*A),c=b(I*I),d=b(zh*b(k*k)),R=b(E*g),D=A+I,H=b(b(D*D)-g-c),ee=R+c,oe=ee-d,fe=R-c,Ue=b(H*oe),Se=b(ee*fe),xe=b(H*fe),Bt=b(oe*ee);return new F(Ue,Se,Bt,xe)}add(E){N(E);const{a:A,d:I}=t,{ex:k,ey:g,ez:c,et:d}=this,{ex:R,ey:D,ez:H,et:ee}=E;if(A===BigInt(-1)){const ze=b((g-k)*(D+R)),Oe=b((g+k)*(D-R)),Lt=b(Oe-ze);if(Lt===Xi)return this.double();const $e=b(c*zh*ee),qe=b(d*zh*H),Kt=qe+$e,Ke=Oe+ze,C=qe-$e,v=b(Kt*Lt),_=b(Ke*C),U=b(Kt*C),G=b(Lt*Ke);return new F(v,_,G,U)}const oe=b(k*R),fe=b(g*D),Ue=b(d*I*ee),Se=b(c*H),xe=b((k+g)*(R+D)-oe-fe),Bt=Se-Ue,Re=Se+Ue,Be=b(fe-A*oe),Gn=b(xe*Bt),We=b(Re*Be),Qe=b(xe*Be),Fn=b(Bt*Re);return new F(Gn,We,Fn,Qe)}subtract(E){return this.add(E.negate())}wNAF(E){return X.wNAFCached(this,E,F.normalizeZ)}multiply(E){const A=E;zi("scalar",A,ni,r);const{p:I,f:k}=this.wNAF(A);return F.normalizeZ([I,k])[0]}multiplyUnsafe(E,A=F.ZERO){const I=E;return zi("scalar",I,Xi,r),I===Xi?J:this.is0()||I===ni?this:X.wNAFCachedUnsafe(this,I,F.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return X.unsafeLadder(this,r).is0()}toAffine(E){return $(this,E)}clearCofactor(){const{h:E}=t;return E===ni?this:this.multiplyUnsafe(E)}static fromHex(E,A=!1){const{d:I,a:k}=t,g=e.BYTES;E=Wn("pointHex",E,g),ro("zip215",A);const c=E.slice(),d=E[g-1];c[g-1]=d&-129;const R=Wu(c),D=A?w:e.ORDER;zi("pointHex.y",R,Xi,D);const H=b(R*R),ee=b(H-ni),oe=b(I*H-k);let{isValid:fe,value:Ue}=B(ee,oe);if(!fe)throw new Error("Point.fromHex: invalid y coordinate");const Se=(Ue&ni)===ni,xe=(d&128)!==0;if(!A&&Ue===Xi&&xe)throw new Error("Point.fromHex: x=0 and x_0=1");return xe!==Se&&(Ue=b(-Ue)),F.fromAffine({x:Ue,y:R})}static fromPrivateKey(E){return W(E).point}toRawBytes(){const{x:E,y:A}=this.toAffine(),I=Fl(A,e.BYTES);return I[I.length-1]|=E&ni?128:0,I}toHex(){return qa(this.toRawBytes())}}F.BASE=new F(t.Gx,t.Gy,ni,b(t.Gx*t.Gy)),F.ZERO=new F(Xi,ni,ni,Xi);const{BASE:Y,ZERO:J}=F,X=qA(F,f*8);function te(m){return En(m,r)}function re(m){return te(Wu(m))}function W(m){const E=e.BYTES;m=Wn("private key",m,E);const A=Wn("hashed private key",i(m),2*E),I=M(A.slice(0,E)),k=A.slice(E,2*E),g=re(I),c=Y.multiply(g),d=c.toRawBytes();return{head:I,prefix:k,scalar:g,point:c,pointBytes:d}}function q(m){return W(m).pointBytes}function K(m=new Uint8Array,...E){const A=Ka(...E);return re(i(O(A,Wn("context",m),!!s)))}function V(m,E,A={}){m=Wn("message",m),s&&(m=s(m));const{prefix:I,scalar:k,pointBytes:g}=W(E),c=K(A.context,I,m),d=Y.multiply(c).toRawBytes(),R=K(A.context,d,g,m),D=te(c+R*k);zi("signature.s",D,Xi,r);const H=Ka(d,Fl(D,e.BYTES));return Wn("result",H,e.BYTES*2)}const S=fP;function a(m,E,A,I=S){const{context:k,zip215:g}=I,c=e.BYTES;m=Wn("signature",m,2*c),E=Wn("message",E),A=Wn("publicKey",A,c),g!==void 0&&ro("zip215",g),s&&(E=s(E));const d=Wu(m.slice(c,2*c));let R,D,H;try{R=F.fromHex(A,g),D=F.fromHex(m.slice(0,c),g),H=Y.multiplyUnsafe(d)}catch{return!1}if(!g&&R.isSmallOrder())return!1;const ee=K(k,D.toRawBytes(),R.toRawBytes(),E);return D.add(R.multiplyUnsafe(ee)).subtract(H).clearCofactor().equals(F.ZERO)}return Y._setWindowSize(8),{CURVE:t,getPublicKey:q,sign:V,verify:a,ExtendedPoint:F,utils:{getExtendedPublicKey:W,randomPrivateKey:()=>u(e.BYTES),precompute(m=8,E=F.BASE){return E._setWindowSize(m),E.multiply(BigInt(3)),E}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mw=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),AS=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const pP=BigInt(1),IS=BigInt(2);BigInt(3);const gP=BigInt(5),yP=BigInt(8);function mP(n){const t=BigInt(10),e=BigInt(20),r=BigInt(40),s=BigInt(80),i=mw,f=n*n%i*n%i,p=Pn(f,IS,i)*f%i,w=Pn(p,pP,i)*n%i,b=Pn(w,gP,i)*w%i,T=Pn(b,t,i)*b%i,B=Pn(T,e,i)*T%i,M=Pn(B,r,i)*B%i,O=Pn(M,s,i)*M%i,P=Pn(O,s,i)*M%i,N=Pn(P,t,i)*b%i;return{pow_p_5_8:Pn(N,IS,i)*n%i,b2:f}}function wP(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function vP(n,t){const e=mw,r=En(t*t*t,e),s=En(r*r*t,e),i=mP(n*s).pow_p_5_8;let u=En(n*r*i,e);const f=En(t*u*u,e),p=u,w=En(u*AS,e),b=f===n,T=f===En(-n,e),B=f===En(-n*AS,e);return b&&(u=p),(T||B)&&(u=w),nP(u,e)&&(u=En(-u,e)),{isValid:b||T,value:u}}const _P=p0(mw,void 0,!0),bP={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_P,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:yP,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$5,randomBytes:OA,adjustScalarBytes:wP,uvRatio:vP},ww=dP(bP);var id={exports:{}},EP=id.exports,MS;function SP(){return MS||(MS=1,function(n){(function(t,e){function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var h=function(){};h.prototype=a.prototype,S.prototype=new h,S.prototype.constructor=S}function i(S,a,h){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(S||0,a||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=P1.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,h){return a.cmp(h)>0?a:h},i.min=function(a,h){return a.cmp(h)<0?a:h},i.prototype._init=function(a,h,m){if(typeof a=="number")return this._initNumber(a,h,m);if(typeof a=="object")return this._initArray(a,h,m);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var E=0;a[0]==="-"&&(E++,this.negative=1),E<a.length&&(h===16?this._parseHex(a,E,m):(this._parseBase(a,h,E),m==="le"&&this._initArray(this.toArray(),h,m)))},i.prototype._initNumber=function(a,h,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},i.prototype._initArray=function(a,h,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A,I,k=0;if(m==="be")for(E=a.length-1,A=0;E>=0;E-=3)I=a[E]|a[E-1]<<8|a[E-2]<<16,this.words[A]|=I<<k&67108863,this.words[A+1]=I>>>26-k&67108863,k+=24,k>=26&&(k-=26,A++);else if(m==="le")for(E=0,A=0;E<a.length;E+=3)I=a[E]|a[E+1]<<8|a[E+2]<<16,this.words[A]|=I<<k&67108863,this.words[A+1]=I>>>26-k&67108863,k+=24,k>=26&&(k-=26,A++);return this._strip()};function f(S,a){var h=S.charCodeAt(a);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+S)}function p(S,a,h){var m=f(S,h);return h-1>=a&&(m|=f(S,h-1)<<4),m}i.prototype._parseHex=function(a,h,m){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A=0,I=0,k;if(m==="be")for(E=a.length-1;E>=h;E-=2)k=p(a,h,E)<<A,this.words[I]|=k&67108863,A>=18?(A-=18,I+=1,this.words[I]|=k>>>26):A+=8;else{var g=a.length-h;for(E=g%2===0?h+1:h;E<a.length;E+=2)k=p(a,h,E)<<A,this.words[I]|=k&67108863,A>=18?(A-=18,I+=1,this.words[I]|=k>>>26):A+=8}this._strip()};function w(S,a,h,m){for(var E=0,A=0,I=Math.min(S.length,h),k=a;k<I;k++){var g=S.charCodeAt(k)-48;E*=m,g>=49?A=g-49+10:g>=17?A=g-17+10:A=g,r(g>=0&&A<m,"Invalid character"),E+=A}return E}i.prototype._parseBase=function(a,h,m){this.words=[0],this.length=1;for(var E=0,A=1;A<=67108863;A*=h)E++;E--,A=A/h|0;for(var I=a.length-m,k=I%E,g=Math.min(I,I-k)+m,c=0,d=m;d<g;d+=E)c=w(a,d,d+E,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=w(a,d,a.length,h),d=0;d<k;d++)R*=h;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red};function b(S,a){S.words=a.words,S.length=a.length,S.negative=a.negative,S.red=a.red}if(i.prototype._move=function(a){b(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{i.prototype.inspect=T}else i.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,h){a=a||10,h=h|0||1;var m;if(a===16||a==="hex"){m="";for(var E=0,A=0,I=0;I<this.length;I++){var k=this.words[I],g=((k<<E|A)&16777215).toString(16);A=k>>>24-E&16777215,E+=2,E>=26&&(E-=26,I--),A!==0||I!==this.length-1?m=B[6-g.length]+g+m:m=g+m}for(A!==0&&(m=A.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=M[a],d=O[a];m="";var R=this.clone();for(R.negative=0;!R.isZero();){var D=R.modrn(d).toString(a);R=R.idivn(d),R.isZero()?m=D+m:m=B[c-D.length]+D+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(a,h){return this.toArrayLike(u,a,h)}),i.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)};var P=function(a,h){return a.allocUnsafe?a.allocUnsafe(h):new a(h)};i.prototype.toArrayLike=function(a,h,m){this._strip();var E=this.byteLength(),A=m||Math.max(1,E);r(E<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0");var I=P(a,A),k=h==="le"?"LE":"BE";return this["_toArrayLike"+k](I,E),I},i.prototype._toArrayLikeLE=function(a,h){for(var m=0,E=0,A=0,I=0;A<this.length;A++){var k=this.words[A]<<I|E;a[m++]=k&255,m<a.length&&(a[m++]=k>>8&255),m<a.length&&(a[m++]=k>>16&255),I===6?(m<a.length&&(a[m++]=k>>24&255),E=0,I=0):(E=k>>>24,I+=2)}if(m<a.length)for(a[m++]=E;m<a.length;)a[m++]=0},i.prototype._toArrayLikeBE=function(a,h){for(var m=a.length-1,E=0,A=0,I=0;A<this.length;A++){var k=this.words[A]<<I|E;a[m--]=k&255,m>=0&&(a[m--]=k>>8&255),m>=0&&(a[m--]=k>>16&255),I===6?(m>=0&&(a[m--]=k>>24&255),E=0,I=0):(E=k>>>24,I+=2)}if(m>=0)for(a[m--]=E;m>=0;)a[m--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var h=a,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},i.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function N(S){for(var a=new Array(S.bitLength()),h=0;h<a.length;h++){var m=h/26|0,E=h%26;a[h]=S.words[m]>>>E&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this._strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=h.length,this._strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var h,m;this.length>a.length?(h=this,m=a):(h=a,m=this);for(var E=0;E<m.length;E++)this.words[E]=h.words[E]^m.words[E];if(this!==h)for(;E<h.length;E++)this.words[E]=h.words[E];return this.length=h.length,this._strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,m=a%26;this._expand(h),m>0&&h--;for(var E=0;E<h;E++)this.words[E]=~this.words[E]&67108863;return m>0&&(this.words[E]=~this.words[E]&67108863>>26-m),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var m=a/26|0,E=a%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<E:this.words[m]=this.words[m]&~(1<<E),this._strip()},i.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var m,E;this.length>a.length?(m=this,E=a):(m=a,E=this);for(var A=0,I=0;I<E.length;I++)h=(m.words[I]|0)+(E.words[I]|0)+A,this.words[I]=h&67108863,A=h>>>26;for(;A!==0&&I<m.length;I++)h=(m.words[I]|0)+A,this.words[I]=h&67108863,A=h>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},i.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,A;m>0?(E=this,A=a):(E=a,A=this);for(var I=0,k=0;k<A.length;k++)h=(E.words[k]|0)-(A.words[k]|0)+I,I=h>>26,this.words[k]=h&67108863;for(;I!==0&&k<E.length;k++)h=(E.words[k]|0)+I,I=h>>26,this.words[k]=h&67108863;if(I===0&&k<E.length&&E!==this)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=Math.max(this.length,k),E!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function $(S,a,h){h.negative=a.negative^S.negative;var m=S.length+a.length|0;h.length=m,m=m-1|0;var E=S.words[0]|0,A=a.words[0]|0,I=E*A,k=I&67108863,g=I/67108864|0;h.words[0]=k;for(var c=1;c<m;c++){for(var d=g>>>26,R=g&67108863,D=Math.min(c,a.length-1),H=Math.max(0,c-S.length+1);H<=D;H++){var ee=c-H|0;E=S.words[ee]|0,A=a.words[H]|0,I=E*A+R,d+=I/67108864|0,R=I&67108863}h.words[c]=R|0,g=d|0}return g!==0?h.words[c]=g|0:h.length--,h._strip()}var j=function(a,h,m){var E=a.words,A=h.words,I=m.words,k=0,g,c,d,R=E[0]|0,D=R&8191,H=R>>>13,ee=E[1]|0,oe=ee&8191,fe=ee>>>13,Ue=E[2]|0,Se=Ue&8191,xe=Ue>>>13,Bt=E[3]|0,Re=Bt&8191,Be=Bt>>>13,Gn=E[4]|0,We=Gn&8191,Qe=Gn>>>13,Fn=E[5]|0,ze=Fn&8191,Oe=Fn>>>13,Lt=E[6]|0,$e=Lt&8191,qe=Lt>>>13,Kt=E[7]|0,Ke=Kt&8191,C=Kt>>>13,v=E[8]|0,_=v&8191,U=v>>>13,G=E[9]|0,Q=G&8191,ne=G>>>13,Le=A[0]|0,Ee=Le&8191,be=Le>>>13,St=A[1]|0,_e=St&8191,st=St>>>13,Ri=A[2]|0,et=Ri&8191,tt=Ri>>>13,Hi=A[3]|0,lt=Hi&8191,ft=Hi>>>13,Wi=A[4]|0,ht=Wi&8191,ot=Wi>>>13,qi=A[5]|0,nt=qi&8191,at=qi>>>13,jr=A[6]|0,gt=jr&8191,rt=jr>>>13,ci=A[7]|0,it=ci&8191,ut=ci>>>13,os=A[8]|0,yt=os&8191,mt=os>>>13,wr=A[9]|0,dt=wr&8191,pt=wr>>>13;m.negative=a.negative^h.negative,m.length=19,g=Math.imul(D,Ee),c=Math.imul(D,be),c=c+Math.imul(H,Ee)|0,d=Math.imul(H,be);var li=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(li>>>26)|0,li&=67108863,g=Math.imul(oe,Ee),c=Math.imul(oe,be),c=c+Math.imul(fe,Ee)|0,d=Math.imul(fe,be),g=g+Math.imul(D,_e)|0,c=c+Math.imul(D,st)|0,c=c+Math.imul(H,_e)|0,d=d+Math.imul(H,st)|0;var Hr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,g=Math.imul(Se,Ee),c=Math.imul(Se,be),c=c+Math.imul(xe,Ee)|0,d=Math.imul(xe,be),g=g+Math.imul(oe,_e)|0,c=c+Math.imul(oe,st)|0,c=c+Math.imul(fe,_e)|0,d=d+Math.imul(fe,st)|0,g=g+Math.imul(D,et)|0,c=c+Math.imul(D,tt)|0,c=c+Math.imul(H,et)|0,d=d+Math.imul(H,tt)|0;var Wr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,g=Math.imul(Re,Ee),c=Math.imul(Re,be),c=c+Math.imul(Be,Ee)|0,d=Math.imul(Be,be),g=g+Math.imul(Se,_e)|0,c=c+Math.imul(Se,st)|0,c=c+Math.imul(xe,_e)|0,d=d+Math.imul(xe,st)|0,g=g+Math.imul(oe,et)|0,c=c+Math.imul(oe,tt)|0,c=c+Math.imul(fe,et)|0,d=d+Math.imul(fe,tt)|0,g=g+Math.imul(D,lt)|0,c=c+Math.imul(D,ft)|0,c=c+Math.imul(H,lt)|0,d=d+Math.imul(H,ft)|0;var qr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,g=Math.imul(We,Ee),c=Math.imul(We,be),c=c+Math.imul(Qe,Ee)|0,d=Math.imul(Qe,be),g=g+Math.imul(Re,_e)|0,c=c+Math.imul(Re,st)|0,c=c+Math.imul(Be,_e)|0,d=d+Math.imul(Be,st)|0,g=g+Math.imul(Se,et)|0,c=c+Math.imul(Se,tt)|0,c=c+Math.imul(xe,et)|0,d=d+Math.imul(xe,tt)|0,g=g+Math.imul(oe,lt)|0,c=c+Math.imul(oe,ft)|0,c=c+Math.imul(fe,lt)|0,d=d+Math.imul(fe,ft)|0,g=g+Math.imul(D,ht)|0,c=c+Math.imul(D,ot)|0,c=c+Math.imul(H,ht)|0,d=d+Math.imul(H,ot)|0;var Kr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,g=Math.imul(ze,Ee),c=Math.imul(ze,be),c=c+Math.imul(Oe,Ee)|0,d=Math.imul(Oe,be),g=g+Math.imul(We,_e)|0,c=c+Math.imul(We,st)|0,c=c+Math.imul(Qe,_e)|0,d=d+Math.imul(Qe,st)|0,g=g+Math.imul(Re,et)|0,c=c+Math.imul(Re,tt)|0,c=c+Math.imul(Be,et)|0,d=d+Math.imul(Be,tt)|0,g=g+Math.imul(Se,lt)|0,c=c+Math.imul(Se,ft)|0,c=c+Math.imul(xe,lt)|0,d=d+Math.imul(xe,ft)|0,g=g+Math.imul(oe,ht)|0,c=c+Math.imul(oe,ot)|0,c=c+Math.imul(fe,ht)|0,d=d+Math.imul(fe,ot)|0,g=g+Math.imul(D,nt)|0,c=c+Math.imul(D,at)|0,c=c+Math.imul(H,nt)|0,d=d+Math.imul(H,at)|0;var fi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(fi>>>26)|0,fi&=67108863,g=Math.imul($e,Ee),c=Math.imul($e,be),c=c+Math.imul(qe,Ee)|0,d=Math.imul(qe,be),g=g+Math.imul(ze,_e)|0,c=c+Math.imul(ze,st)|0,c=c+Math.imul(Oe,_e)|0,d=d+Math.imul(Oe,st)|0,g=g+Math.imul(We,et)|0,c=c+Math.imul(We,tt)|0,c=c+Math.imul(Qe,et)|0,d=d+Math.imul(Qe,tt)|0,g=g+Math.imul(Re,lt)|0,c=c+Math.imul(Re,ft)|0,c=c+Math.imul(Be,lt)|0,d=d+Math.imul(Be,ft)|0,g=g+Math.imul(Se,ht)|0,c=c+Math.imul(Se,ot)|0,c=c+Math.imul(xe,ht)|0,d=d+Math.imul(xe,ot)|0,g=g+Math.imul(oe,nt)|0,c=c+Math.imul(oe,at)|0,c=c+Math.imul(fe,nt)|0,d=d+Math.imul(fe,at)|0,g=g+Math.imul(D,gt)|0,c=c+Math.imul(D,rt)|0,c=c+Math.imul(H,gt)|0,d=d+Math.imul(H,rt)|0;var hi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(hi>>>26)|0,hi&=67108863,g=Math.imul(Ke,Ee),c=Math.imul(Ke,be),c=c+Math.imul(C,Ee)|0,d=Math.imul(C,be),g=g+Math.imul($e,_e)|0,c=c+Math.imul($e,st)|0,c=c+Math.imul(qe,_e)|0,d=d+Math.imul(qe,st)|0,g=g+Math.imul(ze,et)|0,c=c+Math.imul(ze,tt)|0,c=c+Math.imul(Oe,et)|0,d=d+Math.imul(Oe,tt)|0,g=g+Math.imul(We,lt)|0,c=c+Math.imul(We,ft)|0,c=c+Math.imul(Qe,lt)|0,d=d+Math.imul(Qe,ft)|0,g=g+Math.imul(Re,ht)|0,c=c+Math.imul(Re,ot)|0,c=c+Math.imul(Be,ht)|0,d=d+Math.imul(Be,ot)|0,g=g+Math.imul(Se,nt)|0,c=c+Math.imul(Se,at)|0,c=c+Math.imul(xe,nt)|0,d=d+Math.imul(xe,at)|0,g=g+Math.imul(oe,gt)|0,c=c+Math.imul(oe,rt)|0,c=c+Math.imul(fe,gt)|0,d=d+Math.imul(fe,rt)|0,g=g+Math.imul(D,it)|0,c=c+Math.imul(D,ut)|0,c=c+Math.imul(H,it)|0,d=d+Math.imul(H,ut)|0;var Yt=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,g=Math.imul(_,Ee),c=Math.imul(_,be),c=c+Math.imul(U,Ee)|0,d=Math.imul(U,be),g=g+Math.imul(Ke,_e)|0,c=c+Math.imul(Ke,st)|0,c=c+Math.imul(C,_e)|0,d=d+Math.imul(C,st)|0,g=g+Math.imul($e,et)|0,c=c+Math.imul($e,tt)|0,c=c+Math.imul(qe,et)|0,d=d+Math.imul(qe,tt)|0,g=g+Math.imul(ze,lt)|0,c=c+Math.imul(ze,ft)|0,c=c+Math.imul(Oe,lt)|0,d=d+Math.imul(Oe,ft)|0,g=g+Math.imul(We,ht)|0,c=c+Math.imul(We,ot)|0,c=c+Math.imul(Qe,ht)|0,d=d+Math.imul(Qe,ot)|0,g=g+Math.imul(Re,nt)|0,c=c+Math.imul(Re,at)|0,c=c+Math.imul(Be,nt)|0,d=d+Math.imul(Be,at)|0,g=g+Math.imul(Se,gt)|0,c=c+Math.imul(Se,rt)|0,c=c+Math.imul(xe,gt)|0,d=d+Math.imul(xe,rt)|0,g=g+Math.imul(oe,it)|0,c=c+Math.imul(oe,ut)|0,c=c+Math.imul(fe,it)|0,d=d+Math.imul(fe,ut)|0,g=g+Math.imul(D,yt)|0,c=c+Math.imul(D,mt)|0,c=c+Math.imul(H,yt)|0,d=d+Math.imul(H,mt)|0;var di=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(di>>>26)|0,di&=67108863,g=Math.imul(Q,Ee),c=Math.imul(Q,be),c=c+Math.imul(ne,Ee)|0,d=Math.imul(ne,be),g=g+Math.imul(_,_e)|0,c=c+Math.imul(_,st)|0,c=c+Math.imul(U,_e)|0,d=d+Math.imul(U,st)|0,g=g+Math.imul(Ke,et)|0,c=c+Math.imul(Ke,tt)|0,c=c+Math.imul(C,et)|0,d=d+Math.imul(C,tt)|0,g=g+Math.imul($e,lt)|0,c=c+Math.imul($e,ft)|0,c=c+Math.imul(qe,lt)|0,d=d+Math.imul(qe,ft)|0,g=g+Math.imul(ze,ht)|0,c=c+Math.imul(ze,ot)|0,c=c+Math.imul(Oe,ht)|0,d=d+Math.imul(Oe,ot)|0,g=g+Math.imul(We,nt)|0,c=c+Math.imul(We,at)|0,c=c+Math.imul(Qe,nt)|0,d=d+Math.imul(Qe,at)|0,g=g+Math.imul(Re,gt)|0,c=c+Math.imul(Re,rt)|0,c=c+Math.imul(Be,gt)|0,d=d+Math.imul(Be,rt)|0,g=g+Math.imul(Se,it)|0,c=c+Math.imul(Se,ut)|0,c=c+Math.imul(xe,it)|0,d=d+Math.imul(xe,ut)|0,g=g+Math.imul(oe,yt)|0,c=c+Math.imul(oe,mt)|0,c=c+Math.imul(fe,yt)|0,d=d+Math.imul(fe,mt)|0,g=g+Math.imul(D,dt)|0,c=c+Math.imul(D,pt)|0,c=c+Math.imul(H,dt)|0,d=d+Math.imul(H,pt)|0;var Lr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,g=Math.imul(Q,_e),c=Math.imul(Q,st),c=c+Math.imul(ne,_e)|0,d=Math.imul(ne,st),g=g+Math.imul(_,et)|0,c=c+Math.imul(_,tt)|0,c=c+Math.imul(U,et)|0,d=d+Math.imul(U,tt)|0,g=g+Math.imul(Ke,lt)|0,c=c+Math.imul(Ke,ft)|0,c=c+Math.imul(C,lt)|0,d=d+Math.imul(C,ft)|0,g=g+Math.imul($e,ht)|0,c=c+Math.imul($e,ot)|0,c=c+Math.imul(qe,ht)|0,d=d+Math.imul(qe,ot)|0,g=g+Math.imul(ze,nt)|0,c=c+Math.imul(ze,at)|0,c=c+Math.imul(Oe,nt)|0,d=d+Math.imul(Oe,at)|0,g=g+Math.imul(We,gt)|0,c=c+Math.imul(We,rt)|0,c=c+Math.imul(Qe,gt)|0,d=d+Math.imul(Qe,rt)|0,g=g+Math.imul(Re,it)|0,c=c+Math.imul(Re,ut)|0,c=c+Math.imul(Be,it)|0,d=d+Math.imul(Be,ut)|0,g=g+Math.imul(Se,yt)|0,c=c+Math.imul(Se,mt)|0,c=c+Math.imul(xe,yt)|0,d=d+Math.imul(xe,mt)|0,g=g+Math.imul(oe,dt)|0,c=c+Math.imul(oe,pt)|0,c=c+Math.imul(fe,dt)|0,d=d+Math.imul(fe,pt)|0;var Vr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,g=Math.imul(Q,et),c=Math.imul(Q,tt),c=c+Math.imul(ne,et)|0,d=Math.imul(ne,tt),g=g+Math.imul(_,lt)|0,c=c+Math.imul(_,ft)|0,c=c+Math.imul(U,lt)|0,d=d+Math.imul(U,ft)|0,g=g+Math.imul(Ke,ht)|0,c=c+Math.imul(Ke,ot)|0,c=c+Math.imul(C,ht)|0,d=d+Math.imul(C,ot)|0,g=g+Math.imul($e,nt)|0,c=c+Math.imul($e,at)|0,c=c+Math.imul(qe,nt)|0,d=d+Math.imul(qe,at)|0,g=g+Math.imul(ze,gt)|0,c=c+Math.imul(ze,rt)|0,c=c+Math.imul(Oe,gt)|0,d=d+Math.imul(Oe,rt)|0,g=g+Math.imul(We,it)|0,c=c+Math.imul(We,ut)|0,c=c+Math.imul(Qe,it)|0,d=d+Math.imul(Qe,ut)|0,g=g+Math.imul(Re,yt)|0,c=c+Math.imul(Re,mt)|0,c=c+Math.imul(Be,yt)|0,d=d+Math.imul(Be,mt)|0,g=g+Math.imul(Se,dt)|0,c=c+Math.imul(Se,pt)|0,c=c+Math.imul(xe,dt)|0,d=d+Math.imul(xe,pt)|0;var vr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,g=Math.imul(Q,lt),c=Math.imul(Q,ft),c=c+Math.imul(ne,lt)|0,d=Math.imul(ne,ft),g=g+Math.imul(_,ht)|0,c=c+Math.imul(_,ot)|0,c=c+Math.imul(U,ht)|0,d=d+Math.imul(U,ot)|0,g=g+Math.imul(Ke,nt)|0,c=c+Math.imul(Ke,at)|0,c=c+Math.imul(C,nt)|0,d=d+Math.imul(C,at)|0,g=g+Math.imul($e,gt)|0,c=c+Math.imul($e,rt)|0,c=c+Math.imul(qe,gt)|0,d=d+Math.imul(qe,rt)|0,g=g+Math.imul(ze,it)|0,c=c+Math.imul(ze,ut)|0,c=c+Math.imul(Oe,it)|0,d=d+Math.imul(Oe,ut)|0,g=g+Math.imul(We,yt)|0,c=c+Math.imul(We,mt)|0,c=c+Math.imul(Qe,yt)|0,d=d+Math.imul(Qe,mt)|0,g=g+Math.imul(Re,dt)|0,c=c+Math.imul(Re,pt)|0,c=c+Math.imul(Be,dt)|0,d=d+Math.imul(Be,pt)|0;var pi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(pi>>>26)|0,pi&=67108863,g=Math.imul(Q,ht),c=Math.imul(Q,ot),c=c+Math.imul(ne,ht)|0,d=Math.imul(ne,ot),g=g+Math.imul(_,nt)|0,c=c+Math.imul(_,at)|0,c=c+Math.imul(U,nt)|0,d=d+Math.imul(U,at)|0,g=g+Math.imul(Ke,gt)|0,c=c+Math.imul(Ke,rt)|0,c=c+Math.imul(C,gt)|0,d=d+Math.imul(C,rt)|0,g=g+Math.imul($e,it)|0,c=c+Math.imul($e,ut)|0,c=c+Math.imul(qe,it)|0,d=d+Math.imul(qe,ut)|0,g=g+Math.imul(ze,yt)|0,c=c+Math.imul(ze,mt)|0,c=c+Math.imul(Oe,yt)|0,d=d+Math.imul(Oe,mt)|0,g=g+Math.imul(We,dt)|0,c=c+Math.imul(We,pt)|0,c=c+Math.imul(Qe,dt)|0,d=d+Math.imul(Qe,pt)|0;var Gr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,g=Math.imul(Q,nt),c=Math.imul(Q,at),c=c+Math.imul(ne,nt)|0,d=Math.imul(ne,at),g=g+Math.imul(_,gt)|0,c=c+Math.imul(_,rt)|0,c=c+Math.imul(U,gt)|0,d=d+Math.imul(U,rt)|0,g=g+Math.imul(Ke,it)|0,c=c+Math.imul(Ke,ut)|0,c=c+Math.imul(C,it)|0,d=d+Math.imul(C,ut)|0,g=g+Math.imul($e,yt)|0,c=c+Math.imul($e,mt)|0,c=c+Math.imul(qe,yt)|0,d=d+Math.imul(qe,mt)|0,g=g+Math.imul(ze,dt)|0,c=c+Math.imul(ze,pt)|0,c=c+Math.imul(Oe,dt)|0,d=d+Math.imul(Oe,pt)|0;var _r=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,g=Math.imul(Q,gt),c=Math.imul(Q,rt),c=c+Math.imul(ne,gt)|0,d=Math.imul(ne,rt),g=g+Math.imul(_,it)|0,c=c+Math.imul(_,ut)|0,c=c+Math.imul(U,it)|0,d=d+Math.imul(U,ut)|0,g=g+Math.imul(Ke,yt)|0,c=c+Math.imul(Ke,mt)|0,c=c+Math.imul(C,yt)|0,d=d+Math.imul(C,mt)|0,g=g+Math.imul($e,dt)|0,c=c+Math.imul($e,pt)|0,c=c+Math.imul(qe,dt)|0,d=d+Math.imul(qe,pt)|0;var Cn=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,g=Math.imul(Q,it),c=Math.imul(Q,ut),c=c+Math.imul(ne,it)|0,d=Math.imul(ne,ut),g=g+Math.imul(_,yt)|0,c=c+Math.imul(_,mt)|0,c=c+Math.imul(U,yt)|0,d=d+Math.imul(U,mt)|0,g=g+Math.imul(Ke,dt)|0,c=c+Math.imul(Ke,pt)|0,c=c+Math.imul(C,dt)|0,d=d+Math.imul(C,pt)|0;var gi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,g=Math.imul(Q,yt),c=Math.imul(Q,mt),c=c+Math.imul(ne,yt)|0,d=Math.imul(ne,mt),g=g+Math.imul(_,dt)|0,c=c+Math.imul(_,pt)|0,c=c+Math.imul(U,dt)|0,d=d+Math.imul(U,pt)|0;var Sn=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,g=Math.imul(Q,dt),c=Math.imul(Q,pt),c=c+Math.imul(ne,dt)|0,d=Math.imul(ne,pt);var yi=(k+g|0)+((c&8191)<<13)|0;return k=(d+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,I[0]=li,I[1]=Hr,I[2]=Wr,I[3]=qr,I[4]=Kr,I[5]=fi,I[6]=hi,I[7]=Yt,I[8]=di,I[9]=Lr,I[10]=Vr,I[11]=vr,I[12]=pi,I[13]=Gr,I[14]=_r,I[15]=Cn,I[16]=gi,I[17]=Sn,I[18]=yi,k!==0&&(I[19]=k,m.length++),m};Math.imul||(j=$);function F(S,a,h){h.negative=a.negative^S.negative,h.length=S.length+a.length;for(var m=0,E=0,A=0;A<h.length-1;A++){var I=E;E=0;for(var k=m&67108863,g=Math.min(A,a.length-1),c=Math.max(0,A-S.length+1);c<=g;c++){var d=A-c,R=S.words[d]|0,D=a.words[c]|0,H=R*D,ee=H&67108863;I=I+(H/67108864|0)|0,ee=ee+k|0,k=ee&67108863,I=I+(ee>>>26)|0,E+=I>>>26,I&=67108863}h.words[A]=k,m=I,I=E}return m!==0?h.words[A]=m:h.length--,h._strip()}function Y(S,a,h){return F(S,a,h)}i.prototype.mulTo=function(a,h){var m,E=this.length+a.length;return this.length===10&&a.length===10?m=j(this,a,h):E<63?m=$(this,a,h):E<1024?m=F(this,a,h):m=Y(this,a,h),m},i.prototype.mul=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},i.prototype.mulf=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),Y(this,a,h)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var h=a<0;h&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var m=0,E=0;E<this.length;E++){var A=(this.words[E]|0)*a,I=(A&67108863)+(m&67108863);m>>=26,m+=A/67108864|0,m+=I>>>26,this.words[E]=I&67108863}return m!==0&&(this.words[E]=m,this.length++),h?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var h=N(a);if(h.length===0)return new i(1);for(var m=this,E=0;E<h.length&&h[E]===0;E++,m=m.sqr());if(++E<h.length)for(var A=m.sqr();E<h.length;E++,A=A.sqr())h[E]!==0&&(m=m.mul(A));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26,E=67108863>>>26-h<<26-h,A;if(h!==0){var I=0;for(A=0;A<this.length;A++){var k=this.words[A]&E,g=(this.words[A]|0)-k<<h;this.words[A]=g|I,I=k>>>26-h}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,h,m){r(typeof a=="number"&&a>=0);var E;h?E=(h-h%26)/26:E=0;var A=a%26,I=Math.min((a-A)/26,this.length),k=67108863^67108863>>>A<<A,g=m;if(E-=I,E=Math.max(0,E),g){for(var c=0;c<I;c++)g.words[c]=this.words[c];g.length=I}if(I!==0)if(this.length>I)for(this.length-=I,c=0;c<this.length;c++)this.words[c]=this.words[c+I];else this.words[0]=0,this.length=1;var d=0;for(c=this.length-1;c>=0&&(d!==0||c>=E);c--){var R=this.words[c]|0;this.words[c]=d<<26-A|R>>>A,d=R&k}return g&&d!==0&&(g.words[g.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,h,m){return r(this.negative===0),this.iushrn(a,h,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26,E=1<<h;if(this.length<=m)return!1;var A=this.words[m];return!!(A&E)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var E=67108863^67108863>>>h<<h;this.words[this.length-1]&=E}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,h,m){var E=a.length+m,A;this._expand(E);var I,k=0;for(A=0;A<a.length;A++){I=(this.words[A+m]|0)+k;var g=(a.words[A]|0)*h;I-=g&67108863,k=(I>>26)-(g/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+k,k=I>>26,this.words[A+m]=I&67108863;if(k===0)return this._strip();for(r(k===-1),k=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+k,k=I>>26,this.words[A]=I&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,h){var m=this.length-a.length,E=this.clone(),A=a,I=A.words[A.length-1]|0,k=this._countBits(I);m=26-k,m!==0&&(A=A.ushln(m),E.iushln(m),I=A.words[A.length-1]|0);var g=E.length-A.length,c;if(h!=="mod"){c=new i(null),c.length=g+1,c.words=new Array(c.length);for(var d=0;d<c.length;d++)c.words[d]=0}var R=E.clone()._ishlnsubmul(A,1,g);R.negative===0&&(E=R,c&&(c.words[g]=1));for(var D=g-1;D>=0;D--){var H=(E.words[A.length+D]|0)*67108864+(E.words[A.length+D-1]|0);for(H=Math.min(H/I|0,67108863),E._ishlnsubmul(A,H,D);E.negative!==0;)H--,E.negative=0,E._ishlnsubmul(A,1,D),E.isZero()||(E.negative^=1);c&&(c.words[D]=H)}return c&&c._strip(),E._strip(),h!=="div"&&m!==0&&E.iushrn(m),{div:c||null,mod:E}},i.prototype.divmod=function(a,h,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var E,A,I;return this.negative!==0&&a.negative===0?(I=this.neg().divmod(a,h),h!=="mod"&&(E=I.div.neg()),h!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(a)),{div:E,mod:A}):this.negative===0&&a.negative!==0?(I=this.divmod(a.neg(),h),h!=="mod"&&(E=I.div.neg()),{div:E,mod:I.mod}):this.negative&a.negative?(I=this.neg().divmod(a.neg(),h),h!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(a)),{div:I.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,h)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(a):h.mod,E=a.ushrn(1),A=a.andln(1),I=m.cmp(E);return I<0||A===1&&I===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var m=(1<<26)%a,E=0,A=this.length-1;A>=0;A--)E=(m*E+(this.words[A]|0))%a;return h?-E:E},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var m=0,E=this.length-1;E>=0;E--){var A=(this.words[E]|0)+m*67108864;this.words[E]=A/a|0,m=A%a}return this._strip(),h?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,m=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var E=new i(1),A=new i(0),I=new i(0),k=new i(1),g=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++g;for(var c=m.clone(),d=h.clone();!h.isZero();){for(var R=0,D=1;!(h.words[0]&D)&&R<26;++R,D<<=1);if(R>0)for(h.iushrn(R);R-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(c),A.isub(d)),E.iushrn(1),A.iushrn(1);for(var H=0,ee=1;!(m.words[0]&ee)&&H<26;++H,ee<<=1);if(H>0)for(m.iushrn(H);H-- >0;)(I.isOdd()||k.isOdd())&&(I.iadd(c),k.isub(d)),I.iushrn(1),k.iushrn(1);h.cmp(m)>=0?(h.isub(m),E.isub(I),A.isub(k)):(m.isub(h),I.isub(E),k.isub(A))}return{a:I,b:k,gcd:m.iushln(g)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,m=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var E=new i(1),A=new i(0),I=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var k=0,g=1;!(h.words[0]&g)&&k<26;++k,g<<=1);if(k>0)for(h.iushrn(k);k-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);for(var c=0,d=1;!(m.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(m.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);h.cmp(m)>=0?(h.isub(m),E.isub(A)):(m.isub(h),A.isub(E))}var R;return h.cmpn(1)===0?R=E:R=A,R.cmpn(0)<0&&R.iadd(a),R},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),m=a.clone();h.negative=0,m.negative=0;for(var E=0;h.isEven()&&m.isEven();E++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=h.cmp(m);if(A<0){var I=h;h=m,m=I}else if(A===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(E)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,m=(a-h)/26,E=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=E,this;for(var A=E,I=m;A!==0&&I<this.length;I++){var k=this.words[I]|0;k+=A,A=k>>>26,k&=67108863,this.words[I]=k}return A!==0&&(this.words[I]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var E=this.words[0]|0;m=E===a?0:E<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var E=this.words[m]|0,A=a.words[m]|0;if(E!==A){E<A?h=-1:E>A&&(h=1);break}}return h},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new K(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var J={k256:null,p224:null,p192:null,p25519:null};function X(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},X.prototype.ireduce=function(a){var h=a,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var E=m<this.n?-1:h.ucmp(this.p);return E===0?(h.words[0]=0,h.length=1):E>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},X.prototype.split=function(a,h){a.iushrn(this.n,0,h)},X.prototype.imulK=function(a){return a.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(te,X),te.prototype.split=function(a,h){for(var m=4194303,E=Math.min(a.length,9),A=0;A<E;A++)h.words[A]=a.words[A];if(h.length=E,a.length<=9){a.words[0]=0,a.length=1;return}var I=a.words[9];for(h.words[h.length++]=I&m,A=10;A<a.length;A++){var k=a.words[A]|0;a.words[A-10]=(k&m)<<4|I>>>22,I=k}I>>>=22,a.words[A-10]=I,I===0&&a.length>10?a.length-=10:a.length-=9},te.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,m=0;m<a.length;m++){var E=a.words[m]|0;h+=E*977,a.words[m]=h&67108863,h=E*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function re(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(re,X);function W(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,X);function q(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,X),q.prototype.imulK=function(a){for(var h=0,m=0;m<a.length;m++){var E=(a.words[m]|0)*19+h,A=E&67108863;E>>>=26,a.words[m]=A,h=E}return h!==0&&(a.words[a.length++]=h),a},i._prime=function(a){if(J[a])return J[a];var h;if(a==="k256")h=new te;else if(a==="p224")h=new re;else if(a==="p192")h=new W;else if(a==="p25519")h=new q;else throw new Error("Unknown prime "+a);return J[a]=h,h};function K(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}K.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},K.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},K.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(b(a,a.umod(this.m)._forceRed(this)),a)},K.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},K.prototype.add=function(a,h){this._verify2(a,h);var m=a.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},K.prototype.iadd=function(a,h){this._verify2(a,h);var m=a.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},K.prototype.sub=function(a,h){this._verify2(a,h);var m=a.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},K.prototype.isub=function(a,h){this._verify2(a,h);var m=a.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},K.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},K.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},K.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},K.prototype.isqr=function(a){return this.imul(a,a.clone())},K.prototype.sqr=function(a){return this.mul(a,a)},K.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var E=this.m.subn(1),A=0;!E.isZero()&&E.andln(1)===0;)A++,E.iushrn(1);r(!E.isZero());var I=new i(1).toRed(this),k=I.redNeg(),g=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,g).cmp(k)!==0;)c.redIAdd(k);for(var d=this.pow(c,E),R=this.pow(a,E.addn(1).iushrn(1)),D=this.pow(a,E),H=A;D.cmp(I)!==0;){for(var ee=D,oe=0;ee.cmp(I)!==0;oe++)ee=ee.redSqr();r(oe<H);var fe=this.pow(d,new i(1).iushln(H-oe-1));R=R.redMul(fe),d=fe.redSqr(),D=D.redMul(d),H=oe}return R},K.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},K.prototype.pow=function(a,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var m=4,E=new Array(1<<m);E[0]=new i(1).toRed(this),E[1]=a;for(var A=2;A<E.length;A++)E[A]=this.mul(E[A-1],a);var I=E[0],k=0,g=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var d=h.words[A],R=c-1;R>=0;R--){var D=d>>R&1;if(I!==E[0]&&(I=this.sqr(I)),D===0&&k===0){g=0;continue}k<<=1,k|=D,g++,!(g!==m&&(A!==0||R!==0))&&(I=this.mul(I,E[k]),g=0,k=0)}c=26}return I},K.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},K.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},i.mont=function(a){return new V(a)};function V(S){K.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(V,K),V.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},V.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},V.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(h),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(E).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},V.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new i(0)._forceRed(this);var m=a.mul(h),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(E).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},V.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(n,EP)}(id)),id.exports}var xP=SP();const RS=ss(xP);var Fh={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var TS;function kP(){return TS||(TS=1,function(n,t){var e=hw(),r=e.Buffer;function s(u,f){for(var p in u)f[p]=u[p]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(s(e,t),t.Buffer=i);function i(u,f,p){return r(u,f,p)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(u,f,p){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,f,p)},i.alloc=function(u,f,p){if(typeof u!="number")throw new TypeError("Argument must be a number");var w=r(u);return f!==void 0?typeof p=="string"?w.fill(f,p):w.fill(f):w.fill(0),w},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(u)}}(Fh,Fh.exports)),Fh.exports}var hy,NS;function VA(){if(NS)return hy;NS=1;var n=kP().Buffer;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var i=0;i<e.length;i++){var u=e.charAt(i),f=u.charCodeAt(0);if(r[f]!==255)throw new TypeError(u+" is ambiguous");r[f]=i}var p=e.length,w=e.charAt(0),b=Math.log(p)/Math.log(256),T=Math.log(256)/Math.log(p);function B(P){if((Array.isArray(P)||P instanceof Uint8Array)&&(P=n.from(P)),!n.isBuffer(P))throw new TypeError("Expected Buffer");if(P.length===0)return"";for(var N=0,$=0,j=0,F=P.length;j!==F&&P[j]===0;)j++,N++;for(var Y=(F-j)*T+1>>>0,J=new Uint8Array(Y);j!==F;){for(var X=P[j],te=0,re=Y-1;(X!==0||te<$)&&re!==-1;re--,te++)X+=256*J[re]>>>0,J[re]=X%p>>>0,X=X/p>>>0;if(X!==0)throw new Error("Non-zero carry");$=te,j++}for(var W=Y-$;W!==Y&&J[W]===0;)W++;for(var q=w.repeat(N);W<Y;++W)q+=e.charAt(J[W]);return q}function M(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return n.alloc(0);for(var N=0,$=0,j=0;P[N]===w;)$++,N++;for(var F=(P.length-N)*b+1>>>0,Y=new Uint8Array(F);N<P.length;){var J=P.charCodeAt(N);if(J>255)return;var X=r[J];if(X===255)return;for(var te=0,re=F-1;(X!==0||te<j)&&re!==-1;re--,te++)X+=p*Y[re]>>>0,Y[re]=X%256>>>0,X=X/256>>>0;if(X!==0)throw new Error("Non-zero carry");j=te,N++}for(var W=F-j;W!==F&&Y[W]===0;)W++;var q=n.allocUnsafe($+(F-W));q.fill(0,0,$);for(var K=$;W!==F;)q[K++]=Y[W++];return q}function O(P){var N=M(P);if(N)return N;throw new Error("Non-base"+p+" character")}return{encode:B,decodeUnsafe:M,decode:O}}return hy=t,hy}var dy,BS;function AP(){if(BS)return dy;BS=1;var n=VA(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return dy=n(t),dy}var IP=AP();const yr=ss(IP),MP=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Oo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Po=new Uint32Array(64);class RP extends PA{constructor(){super(64,32,8,!1),this.A=Oo[0]|0,this.B=Oo[1]|0,this.C=Oo[2]|0,this.D=Oo[3]|0,this.E=Oo[4]|0,this.F=Oo[5]|0,this.G=Oo[6]|0,this.H=Oo[7]|0}get(){const{A:t,B:e,C:r,D:s,E:i,F:u,G:f,H:p}=this;return[t,e,r,s,i,u,f,p]}set(t,e,r,s,i,u,f,p){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=u|0,this.G=f|0,this.H=p|0}process(t,e){for(let T=0;T<16;T++,e+=4)Po[T]=t.getUint32(e,!1);for(let T=16;T<64;T++){const B=Po[T-15],M=Po[T-2],O=ds(B,7)^ds(B,18)^B>>>3,P=ds(M,17)^ds(M,19)^M>>>10;Po[T]=P+Po[T-7]+O+Po[T-16]|0}let{A:r,B:s,C:i,D:u,E:f,F:p,G:w,H:b}=this;for(let T=0;T<64;T++){const B=ds(f,6)^ds(f,11)^ds(f,25),M=b+B+g5(f,p,w)+MP[T]+Po[T]|0,P=(ds(r,2)^ds(r,13)^ds(r,22))+y5(r,s,i)|0;b=w,w=p,p=f,f=u+M|0,u=i,i=s,s=r,r=M+P|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,u=u+this.D|0,f=f+this.E|0,p=p+this.F|0,w=w+this.G|0,b=b+this.H|0,this.set(r,s,i,u,f,p,w,b)}roundClean(){Po.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ym=LA(()=>new RP);var vn={},sd={exports:{}},TP=sd.exports,CS;function NP(){return CS||(CS=1,function(n){(function(t,e){function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function s(S,a){S.super_=a;var h=function(){};h.prototype=a.prototype,S.prototype=new h,S.prototype.constructor=S}function i(S,a,h){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(S||0,a||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=P1.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,h){return a.cmp(h)>0?a:h},i.min=function(a,h){return a.cmp(h)<0?a:h},i.prototype._init=function(a,h,m){if(typeof a=="number")return this._initNumber(a,h,m);if(typeof a=="object")return this._initArray(a,h,m);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var E=0;a[0]==="-"&&(E++,this.negative=1),E<a.length&&(h===16?this._parseHex(a,E,m):(this._parseBase(a,h,E),m==="le"&&this._initArray(this.toArray(),h,m)))},i.prototype._initNumber=function(a,h,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},i.prototype._initArray=function(a,h,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A,I,k=0;if(m==="be")for(E=a.length-1,A=0;E>=0;E-=3)I=a[E]|a[E-1]<<8|a[E-2]<<16,this.words[A]|=I<<k&67108863,this.words[A+1]=I>>>26-k&67108863,k+=24,k>=26&&(k-=26,A++);else if(m==="le")for(E=0,A=0;E<a.length;E+=3)I=a[E]|a[E+1]<<8|a[E+2]<<16,this.words[A]|=I<<k&67108863,this.words[A+1]=I>>>26-k&67108863,k+=24,k>=26&&(k-=26,A++);return this._strip()};function f(S,a){var h=S.charCodeAt(a);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+S)}function p(S,a,h){var m=f(S,h);return h-1>=a&&(m|=f(S,h-1)<<4),m}i.prototype._parseHex=function(a,h,m){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A=0,I=0,k;if(m==="be")for(E=a.length-1;E>=h;E-=2)k=p(a,h,E)<<A,this.words[I]|=k&67108863,A>=18?(A-=18,I+=1,this.words[I]|=k>>>26):A+=8;else{var g=a.length-h;for(E=g%2===0?h+1:h;E<a.length;E+=2)k=p(a,h,E)<<A,this.words[I]|=k&67108863,A>=18?(A-=18,I+=1,this.words[I]|=k>>>26):A+=8}this._strip()};function w(S,a,h,m){for(var E=0,A=0,I=Math.min(S.length,h),k=a;k<I;k++){var g=S.charCodeAt(k)-48;E*=m,g>=49?A=g-49+10:g>=17?A=g-17+10:A=g,r(g>=0&&A<m,"Invalid character"),E+=A}return E}i.prototype._parseBase=function(a,h,m){this.words=[0],this.length=1;for(var E=0,A=1;A<=67108863;A*=h)E++;E--,A=A/h|0;for(var I=a.length-m,k=I%E,g=Math.min(I,I-k)+m,c=0,d=m;d<g;d+=E)c=w(a,d,d+E,h),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(k!==0){var R=1;for(c=w(a,d,a.length,h),d=0;d<k;d++)R*=h;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red};function b(S,a){S.words=a.words,S.length=a.length,S.negative=a.negative,S.red=a.red}if(i.prototype._move=function(a){b(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{i.prototype.inspect=T}else i.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,h){a=a||10,h=h|0||1;var m;if(a===16||a==="hex"){m="";for(var E=0,A=0,I=0;I<this.length;I++){var k=this.words[I],g=((k<<E|A)&16777215).toString(16);A=k>>>24-E&16777215,E+=2,E>=26&&(E-=26,I--),A!==0||I!==this.length-1?m=B[6-g.length]+g+m:m=g+m}for(A!==0&&(m=A.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var c=M[a],d=O[a];m="";var R=this.clone();for(R.negative=0;!R.isZero();){var D=R.modrn(d).toString(a);R=R.idivn(d),R.isZero()?m=D+m:m=B[c-D.length]+D+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(a,h){return this.toArrayLike(u,a,h)}),i.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)};var P=function(a,h){return a.allocUnsafe?a.allocUnsafe(h):new a(h)};i.prototype.toArrayLike=function(a,h,m){this._strip();var E=this.byteLength(),A=m||Math.max(1,E);r(E<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0");var I=P(a,A),k=h==="le"?"LE":"BE";return this["_toArrayLike"+k](I,E),I},i.prototype._toArrayLikeLE=function(a,h){for(var m=0,E=0,A=0,I=0;A<this.length;A++){var k=this.words[A]<<I|E;a[m++]=k&255,m<a.length&&(a[m++]=k>>8&255),m<a.length&&(a[m++]=k>>16&255),I===6?(m<a.length&&(a[m++]=k>>24&255),E=0,I=0):(E=k>>>24,I+=2)}if(m<a.length)for(a[m++]=E;m<a.length;)a[m++]=0},i.prototype._toArrayLikeBE=function(a,h){for(var m=a.length-1,E=0,A=0,I=0;A<this.length;A++){var k=this.words[A]<<I|E;a[m--]=k&255,m>=0&&(a[m--]=k>>8&255),m>=0&&(a[m--]=k>>16&255),I===6?(m>=0&&(a[m--]=k>>24&255),E=0,I=0):(E=k>>>24,I+=2)}if(m>=0)for(a[m--]=E;m>=0;)a[m--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var h=a,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},i.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},i.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function N(S){for(var a=new Array(S.bitLength()),h=0;h<a.length;h++){var m=h/26|0,E=h%26;a[h]=S.words[m]>>>E&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(a+=m,m!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this._strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=h.length,this._strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var h,m;this.length>a.length?(h=this,m=a):(h=a,m=this);for(var E=0;E<m.length;E++)this.words[E]=h.words[E]^m.words[E];if(this!==h)for(;E<h.length;E++)this.words[E]=h.words[E];return this.length=h.length,this._strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,m=a%26;this._expand(h),m>0&&h--;for(var E=0;E<h;E++)this.words[E]=~this.words[E]&67108863;return m>0&&(this.words[E]=~this.words[E]&67108863>>26-m),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,h){r(typeof a=="number"&&a>=0);var m=a/26|0,E=a%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<E:this.words[m]=this.words[m]&~(1<<E),this._strip()},i.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var m,E;this.length>a.length?(m=this,E=a):(m=a,E=this);for(var A=0,I=0;I<E.length;I++)h=(m.words[I]|0)+(E.words[I]|0)+A,this.words[I]=h&67108863,A=h>>>26;for(;A!==0&&I<m.length;I++)h=(m.words[I]|0)+A,this.words[I]=h&67108863,A=h>>>26;if(this.length=m.length,A!==0)this.words[this.length]=A,this.length++;else if(m!==this)for(;I<m.length;I++)this.words[I]=m.words[I];return this},i.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,A;m>0?(E=this,A=a):(E=a,A=this);for(var I=0,k=0;k<A.length;k++)h=(E.words[k]|0)-(A.words[k]|0)+I,I=h>>26,this.words[k]=h&67108863;for(;I!==0&&k<E.length;k++)h=(E.words[k]|0)+I,I=h>>26,this.words[k]=h&67108863;if(I===0&&k<E.length&&E!==this)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=Math.max(this.length,k),E!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function $(S,a,h){h.negative=a.negative^S.negative;var m=S.length+a.length|0;h.length=m,m=m-1|0;var E=S.words[0]|0,A=a.words[0]|0,I=E*A,k=I&67108863,g=I/67108864|0;h.words[0]=k;for(var c=1;c<m;c++){for(var d=g>>>26,R=g&67108863,D=Math.min(c,a.length-1),H=Math.max(0,c-S.length+1);H<=D;H++){var ee=c-H|0;E=S.words[ee]|0,A=a.words[H]|0,I=E*A+R,d+=I/67108864|0,R=I&67108863}h.words[c]=R|0,g=d|0}return g!==0?h.words[c]=g|0:h.length--,h._strip()}var j=function(a,h,m){var E=a.words,A=h.words,I=m.words,k=0,g,c,d,R=E[0]|0,D=R&8191,H=R>>>13,ee=E[1]|0,oe=ee&8191,fe=ee>>>13,Ue=E[2]|0,Se=Ue&8191,xe=Ue>>>13,Bt=E[3]|0,Re=Bt&8191,Be=Bt>>>13,Gn=E[4]|0,We=Gn&8191,Qe=Gn>>>13,Fn=E[5]|0,ze=Fn&8191,Oe=Fn>>>13,Lt=E[6]|0,$e=Lt&8191,qe=Lt>>>13,Kt=E[7]|0,Ke=Kt&8191,C=Kt>>>13,v=E[8]|0,_=v&8191,U=v>>>13,G=E[9]|0,Q=G&8191,ne=G>>>13,Le=A[0]|0,Ee=Le&8191,be=Le>>>13,St=A[1]|0,_e=St&8191,st=St>>>13,Ri=A[2]|0,et=Ri&8191,tt=Ri>>>13,Hi=A[3]|0,lt=Hi&8191,ft=Hi>>>13,Wi=A[4]|0,ht=Wi&8191,ot=Wi>>>13,qi=A[5]|0,nt=qi&8191,at=qi>>>13,jr=A[6]|0,gt=jr&8191,rt=jr>>>13,ci=A[7]|0,it=ci&8191,ut=ci>>>13,os=A[8]|0,yt=os&8191,mt=os>>>13,wr=A[9]|0,dt=wr&8191,pt=wr>>>13;m.negative=a.negative^h.negative,m.length=19,g=Math.imul(D,Ee),c=Math.imul(D,be),c=c+Math.imul(H,Ee)|0,d=Math.imul(H,be);var li=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(li>>>26)|0,li&=67108863,g=Math.imul(oe,Ee),c=Math.imul(oe,be),c=c+Math.imul(fe,Ee)|0,d=Math.imul(fe,be),g=g+Math.imul(D,_e)|0,c=c+Math.imul(D,st)|0,c=c+Math.imul(H,_e)|0,d=d+Math.imul(H,st)|0;var Hr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,g=Math.imul(Se,Ee),c=Math.imul(Se,be),c=c+Math.imul(xe,Ee)|0,d=Math.imul(xe,be),g=g+Math.imul(oe,_e)|0,c=c+Math.imul(oe,st)|0,c=c+Math.imul(fe,_e)|0,d=d+Math.imul(fe,st)|0,g=g+Math.imul(D,et)|0,c=c+Math.imul(D,tt)|0,c=c+Math.imul(H,et)|0,d=d+Math.imul(H,tt)|0;var Wr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,g=Math.imul(Re,Ee),c=Math.imul(Re,be),c=c+Math.imul(Be,Ee)|0,d=Math.imul(Be,be),g=g+Math.imul(Se,_e)|0,c=c+Math.imul(Se,st)|0,c=c+Math.imul(xe,_e)|0,d=d+Math.imul(xe,st)|0,g=g+Math.imul(oe,et)|0,c=c+Math.imul(oe,tt)|0,c=c+Math.imul(fe,et)|0,d=d+Math.imul(fe,tt)|0,g=g+Math.imul(D,lt)|0,c=c+Math.imul(D,ft)|0,c=c+Math.imul(H,lt)|0,d=d+Math.imul(H,ft)|0;var qr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,g=Math.imul(We,Ee),c=Math.imul(We,be),c=c+Math.imul(Qe,Ee)|0,d=Math.imul(Qe,be),g=g+Math.imul(Re,_e)|0,c=c+Math.imul(Re,st)|0,c=c+Math.imul(Be,_e)|0,d=d+Math.imul(Be,st)|0,g=g+Math.imul(Se,et)|0,c=c+Math.imul(Se,tt)|0,c=c+Math.imul(xe,et)|0,d=d+Math.imul(xe,tt)|0,g=g+Math.imul(oe,lt)|0,c=c+Math.imul(oe,ft)|0,c=c+Math.imul(fe,lt)|0,d=d+Math.imul(fe,ft)|0,g=g+Math.imul(D,ht)|0,c=c+Math.imul(D,ot)|0,c=c+Math.imul(H,ht)|0,d=d+Math.imul(H,ot)|0;var Kr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,g=Math.imul(ze,Ee),c=Math.imul(ze,be),c=c+Math.imul(Oe,Ee)|0,d=Math.imul(Oe,be),g=g+Math.imul(We,_e)|0,c=c+Math.imul(We,st)|0,c=c+Math.imul(Qe,_e)|0,d=d+Math.imul(Qe,st)|0,g=g+Math.imul(Re,et)|0,c=c+Math.imul(Re,tt)|0,c=c+Math.imul(Be,et)|0,d=d+Math.imul(Be,tt)|0,g=g+Math.imul(Se,lt)|0,c=c+Math.imul(Se,ft)|0,c=c+Math.imul(xe,lt)|0,d=d+Math.imul(xe,ft)|0,g=g+Math.imul(oe,ht)|0,c=c+Math.imul(oe,ot)|0,c=c+Math.imul(fe,ht)|0,d=d+Math.imul(fe,ot)|0,g=g+Math.imul(D,nt)|0,c=c+Math.imul(D,at)|0,c=c+Math.imul(H,nt)|0,d=d+Math.imul(H,at)|0;var fi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(fi>>>26)|0,fi&=67108863,g=Math.imul($e,Ee),c=Math.imul($e,be),c=c+Math.imul(qe,Ee)|0,d=Math.imul(qe,be),g=g+Math.imul(ze,_e)|0,c=c+Math.imul(ze,st)|0,c=c+Math.imul(Oe,_e)|0,d=d+Math.imul(Oe,st)|0,g=g+Math.imul(We,et)|0,c=c+Math.imul(We,tt)|0,c=c+Math.imul(Qe,et)|0,d=d+Math.imul(Qe,tt)|0,g=g+Math.imul(Re,lt)|0,c=c+Math.imul(Re,ft)|0,c=c+Math.imul(Be,lt)|0,d=d+Math.imul(Be,ft)|0,g=g+Math.imul(Se,ht)|0,c=c+Math.imul(Se,ot)|0,c=c+Math.imul(xe,ht)|0,d=d+Math.imul(xe,ot)|0,g=g+Math.imul(oe,nt)|0,c=c+Math.imul(oe,at)|0,c=c+Math.imul(fe,nt)|0,d=d+Math.imul(fe,at)|0,g=g+Math.imul(D,gt)|0,c=c+Math.imul(D,rt)|0,c=c+Math.imul(H,gt)|0,d=d+Math.imul(H,rt)|0;var hi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(hi>>>26)|0,hi&=67108863,g=Math.imul(Ke,Ee),c=Math.imul(Ke,be),c=c+Math.imul(C,Ee)|0,d=Math.imul(C,be),g=g+Math.imul($e,_e)|0,c=c+Math.imul($e,st)|0,c=c+Math.imul(qe,_e)|0,d=d+Math.imul(qe,st)|0,g=g+Math.imul(ze,et)|0,c=c+Math.imul(ze,tt)|0,c=c+Math.imul(Oe,et)|0,d=d+Math.imul(Oe,tt)|0,g=g+Math.imul(We,lt)|0,c=c+Math.imul(We,ft)|0,c=c+Math.imul(Qe,lt)|0,d=d+Math.imul(Qe,ft)|0,g=g+Math.imul(Re,ht)|0,c=c+Math.imul(Re,ot)|0,c=c+Math.imul(Be,ht)|0,d=d+Math.imul(Be,ot)|0,g=g+Math.imul(Se,nt)|0,c=c+Math.imul(Se,at)|0,c=c+Math.imul(xe,nt)|0,d=d+Math.imul(xe,at)|0,g=g+Math.imul(oe,gt)|0,c=c+Math.imul(oe,rt)|0,c=c+Math.imul(fe,gt)|0,d=d+Math.imul(fe,rt)|0,g=g+Math.imul(D,it)|0,c=c+Math.imul(D,ut)|0,c=c+Math.imul(H,it)|0,d=d+Math.imul(H,ut)|0;var Yt=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,g=Math.imul(_,Ee),c=Math.imul(_,be),c=c+Math.imul(U,Ee)|0,d=Math.imul(U,be),g=g+Math.imul(Ke,_e)|0,c=c+Math.imul(Ke,st)|0,c=c+Math.imul(C,_e)|0,d=d+Math.imul(C,st)|0,g=g+Math.imul($e,et)|0,c=c+Math.imul($e,tt)|0,c=c+Math.imul(qe,et)|0,d=d+Math.imul(qe,tt)|0,g=g+Math.imul(ze,lt)|0,c=c+Math.imul(ze,ft)|0,c=c+Math.imul(Oe,lt)|0,d=d+Math.imul(Oe,ft)|0,g=g+Math.imul(We,ht)|0,c=c+Math.imul(We,ot)|0,c=c+Math.imul(Qe,ht)|0,d=d+Math.imul(Qe,ot)|0,g=g+Math.imul(Re,nt)|0,c=c+Math.imul(Re,at)|0,c=c+Math.imul(Be,nt)|0,d=d+Math.imul(Be,at)|0,g=g+Math.imul(Se,gt)|0,c=c+Math.imul(Se,rt)|0,c=c+Math.imul(xe,gt)|0,d=d+Math.imul(xe,rt)|0,g=g+Math.imul(oe,it)|0,c=c+Math.imul(oe,ut)|0,c=c+Math.imul(fe,it)|0,d=d+Math.imul(fe,ut)|0,g=g+Math.imul(D,yt)|0,c=c+Math.imul(D,mt)|0,c=c+Math.imul(H,yt)|0,d=d+Math.imul(H,mt)|0;var di=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(di>>>26)|0,di&=67108863,g=Math.imul(Q,Ee),c=Math.imul(Q,be),c=c+Math.imul(ne,Ee)|0,d=Math.imul(ne,be),g=g+Math.imul(_,_e)|0,c=c+Math.imul(_,st)|0,c=c+Math.imul(U,_e)|0,d=d+Math.imul(U,st)|0,g=g+Math.imul(Ke,et)|0,c=c+Math.imul(Ke,tt)|0,c=c+Math.imul(C,et)|0,d=d+Math.imul(C,tt)|0,g=g+Math.imul($e,lt)|0,c=c+Math.imul($e,ft)|0,c=c+Math.imul(qe,lt)|0,d=d+Math.imul(qe,ft)|0,g=g+Math.imul(ze,ht)|0,c=c+Math.imul(ze,ot)|0,c=c+Math.imul(Oe,ht)|0,d=d+Math.imul(Oe,ot)|0,g=g+Math.imul(We,nt)|0,c=c+Math.imul(We,at)|0,c=c+Math.imul(Qe,nt)|0,d=d+Math.imul(Qe,at)|0,g=g+Math.imul(Re,gt)|0,c=c+Math.imul(Re,rt)|0,c=c+Math.imul(Be,gt)|0,d=d+Math.imul(Be,rt)|0,g=g+Math.imul(Se,it)|0,c=c+Math.imul(Se,ut)|0,c=c+Math.imul(xe,it)|0,d=d+Math.imul(xe,ut)|0,g=g+Math.imul(oe,yt)|0,c=c+Math.imul(oe,mt)|0,c=c+Math.imul(fe,yt)|0,d=d+Math.imul(fe,mt)|0,g=g+Math.imul(D,dt)|0,c=c+Math.imul(D,pt)|0,c=c+Math.imul(H,dt)|0,d=d+Math.imul(H,pt)|0;var Lr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,g=Math.imul(Q,_e),c=Math.imul(Q,st),c=c+Math.imul(ne,_e)|0,d=Math.imul(ne,st),g=g+Math.imul(_,et)|0,c=c+Math.imul(_,tt)|0,c=c+Math.imul(U,et)|0,d=d+Math.imul(U,tt)|0,g=g+Math.imul(Ke,lt)|0,c=c+Math.imul(Ke,ft)|0,c=c+Math.imul(C,lt)|0,d=d+Math.imul(C,ft)|0,g=g+Math.imul($e,ht)|0,c=c+Math.imul($e,ot)|0,c=c+Math.imul(qe,ht)|0,d=d+Math.imul(qe,ot)|0,g=g+Math.imul(ze,nt)|0,c=c+Math.imul(ze,at)|0,c=c+Math.imul(Oe,nt)|0,d=d+Math.imul(Oe,at)|0,g=g+Math.imul(We,gt)|0,c=c+Math.imul(We,rt)|0,c=c+Math.imul(Qe,gt)|0,d=d+Math.imul(Qe,rt)|0,g=g+Math.imul(Re,it)|0,c=c+Math.imul(Re,ut)|0,c=c+Math.imul(Be,it)|0,d=d+Math.imul(Be,ut)|0,g=g+Math.imul(Se,yt)|0,c=c+Math.imul(Se,mt)|0,c=c+Math.imul(xe,yt)|0,d=d+Math.imul(xe,mt)|0,g=g+Math.imul(oe,dt)|0,c=c+Math.imul(oe,pt)|0,c=c+Math.imul(fe,dt)|0,d=d+Math.imul(fe,pt)|0;var Vr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,g=Math.imul(Q,et),c=Math.imul(Q,tt),c=c+Math.imul(ne,et)|0,d=Math.imul(ne,tt),g=g+Math.imul(_,lt)|0,c=c+Math.imul(_,ft)|0,c=c+Math.imul(U,lt)|0,d=d+Math.imul(U,ft)|0,g=g+Math.imul(Ke,ht)|0,c=c+Math.imul(Ke,ot)|0,c=c+Math.imul(C,ht)|0,d=d+Math.imul(C,ot)|0,g=g+Math.imul($e,nt)|0,c=c+Math.imul($e,at)|0,c=c+Math.imul(qe,nt)|0,d=d+Math.imul(qe,at)|0,g=g+Math.imul(ze,gt)|0,c=c+Math.imul(ze,rt)|0,c=c+Math.imul(Oe,gt)|0,d=d+Math.imul(Oe,rt)|0,g=g+Math.imul(We,it)|0,c=c+Math.imul(We,ut)|0,c=c+Math.imul(Qe,it)|0,d=d+Math.imul(Qe,ut)|0,g=g+Math.imul(Re,yt)|0,c=c+Math.imul(Re,mt)|0,c=c+Math.imul(Be,yt)|0,d=d+Math.imul(Be,mt)|0,g=g+Math.imul(Se,dt)|0,c=c+Math.imul(Se,pt)|0,c=c+Math.imul(xe,dt)|0,d=d+Math.imul(xe,pt)|0;var vr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,g=Math.imul(Q,lt),c=Math.imul(Q,ft),c=c+Math.imul(ne,lt)|0,d=Math.imul(ne,ft),g=g+Math.imul(_,ht)|0,c=c+Math.imul(_,ot)|0,c=c+Math.imul(U,ht)|0,d=d+Math.imul(U,ot)|0,g=g+Math.imul(Ke,nt)|0,c=c+Math.imul(Ke,at)|0,c=c+Math.imul(C,nt)|0,d=d+Math.imul(C,at)|0,g=g+Math.imul($e,gt)|0,c=c+Math.imul($e,rt)|0,c=c+Math.imul(qe,gt)|0,d=d+Math.imul(qe,rt)|0,g=g+Math.imul(ze,it)|0,c=c+Math.imul(ze,ut)|0,c=c+Math.imul(Oe,it)|0,d=d+Math.imul(Oe,ut)|0,g=g+Math.imul(We,yt)|0,c=c+Math.imul(We,mt)|0,c=c+Math.imul(Qe,yt)|0,d=d+Math.imul(Qe,mt)|0,g=g+Math.imul(Re,dt)|0,c=c+Math.imul(Re,pt)|0,c=c+Math.imul(Be,dt)|0,d=d+Math.imul(Be,pt)|0;var pi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(pi>>>26)|0,pi&=67108863,g=Math.imul(Q,ht),c=Math.imul(Q,ot),c=c+Math.imul(ne,ht)|0,d=Math.imul(ne,ot),g=g+Math.imul(_,nt)|0,c=c+Math.imul(_,at)|0,c=c+Math.imul(U,nt)|0,d=d+Math.imul(U,at)|0,g=g+Math.imul(Ke,gt)|0,c=c+Math.imul(Ke,rt)|0,c=c+Math.imul(C,gt)|0,d=d+Math.imul(C,rt)|0,g=g+Math.imul($e,it)|0,c=c+Math.imul($e,ut)|0,c=c+Math.imul(qe,it)|0,d=d+Math.imul(qe,ut)|0,g=g+Math.imul(ze,yt)|0,c=c+Math.imul(ze,mt)|0,c=c+Math.imul(Oe,yt)|0,d=d+Math.imul(Oe,mt)|0,g=g+Math.imul(We,dt)|0,c=c+Math.imul(We,pt)|0,c=c+Math.imul(Qe,dt)|0,d=d+Math.imul(Qe,pt)|0;var Gr=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,g=Math.imul(Q,nt),c=Math.imul(Q,at),c=c+Math.imul(ne,nt)|0,d=Math.imul(ne,at),g=g+Math.imul(_,gt)|0,c=c+Math.imul(_,rt)|0,c=c+Math.imul(U,gt)|0,d=d+Math.imul(U,rt)|0,g=g+Math.imul(Ke,it)|0,c=c+Math.imul(Ke,ut)|0,c=c+Math.imul(C,it)|0,d=d+Math.imul(C,ut)|0,g=g+Math.imul($e,yt)|0,c=c+Math.imul($e,mt)|0,c=c+Math.imul(qe,yt)|0,d=d+Math.imul(qe,mt)|0,g=g+Math.imul(ze,dt)|0,c=c+Math.imul(ze,pt)|0,c=c+Math.imul(Oe,dt)|0,d=d+Math.imul(Oe,pt)|0;var _r=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,g=Math.imul(Q,gt),c=Math.imul(Q,rt),c=c+Math.imul(ne,gt)|0,d=Math.imul(ne,rt),g=g+Math.imul(_,it)|0,c=c+Math.imul(_,ut)|0,c=c+Math.imul(U,it)|0,d=d+Math.imul(U,ut)|0,g=g+Math.imul(Ke,yt)|0,c=c+Math.imul(Ke,mt)|0,c=c+Math.imul(C,yt)|0,d=d+Math.imul(C,mt)|0,g=g+Math.imul($e,dt)|0,c=c+Math.imul($e,pt)|0,c=c+Math.imul(qe,dt)|0,d=d+Math.imul(qe,pt)|0;var Cn=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,g=Math.imul(Q,it),c=Math.imul(Q,ut),c=c+Math.imul(ne,it)|0,d=Math.imul(ne,ut),g=g+Math.imul(_,yt)|0,c=c+Math.imul(_,mt)|0,c=c+Math.imul(U,yt)|0,d=d+Math.imul(U,mt)|0,g=g+Math.imul(Ke,dt)|0,c=c+Math.imul(Ke,pt)|0,c=c+Math.imul(C,dt)|0,d=d+Math.imul(C,pt)|0;var gi=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,g=Math.imul(Q,yt),c=Math.imul(Q,mt),c=c+Math.imul(ne,yt)|0,d=Math.imul(ne,mt),g=g+Math.imul(_,dt)|0,c=c+Math.imul(_,pt)|0,c=c+Math.imul(U,dt)|0,d=d+Math.imul(U,pt)|0;var Sn=(k+g|0)+((c&8191)<<13)|0;k=(d+(c>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,g=Math.imul(Q,dt),c=Math.imul(Q,pt),c=c+Math.imul(ne,dt)|0,d=Math.imul(ne,pt);var yi=(k+g|0)+((c&8191)<<13)|0;return k=(d+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,I[0]=li,I[1]=Hr,I[2]=Wr,I[3]=qr,I[4]=Kr,I[5]=fi,I[6]=hi,I[7]=Yt,I[8]=di,I[9]=Lr,I[10]=Vr,I[11]=vr,I[12]=pi,I[13]=Gr,I[14]=_r,I[15]=Cn,I[16]=gi,I[17]=Sn,I[18]=yi,k!==0&&(I[19]=k,m.length++),m};Math.imul||(j=$);function F(S,a,h){h.negative=a.negative^S.negative,h.length=S.length+a.length;for(var m=0,E=0,A=0;A<h.length-1;A++){var I=E;E=0;for(var k=m&67108863,g=Math.min(A,a.length-1),c=Math.max(0,A-S.length+1);c<=g;c++){var d=A-c,R=S.words[d]|0,D=a.words[c]|0,H=R*D,ee=H&67108863;I=I+(H/67108864|0)|0,ee=ee+k|0,k=ee&67108863,I=I+(ee>>>26)|0,E+=I>>>26,I&=67108863}h.words[A]=k,m=I,I=E}return m!==0?h.words[A]=m:h.length--,h._strip()}function Y(S,a,h){return F(S,a,h)}i.prototype.mulTo=function(a,h){var m,E=this.length+a.length;return this.length===10&&a.length===10?m=j(this,a,h):E<63?m=$(this,a,h):E<1024?m=F(this,a,h):m=Y(this,a,h),m},i.prototype.mul=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},i.prototype.mulf=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),Y(this,a,h)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var h=a<0;h&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var m=0,E=0;E<this.length;E++){var A=(this.words[E]|0)*a,I=(A&67108863)+(m&67108863);m>>=26,m+=A/67108864|0,m+=I>>>26,this.words[E]=I&67108863}return m!==0&&(this.words[E]=m,this.length++),h?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var h=N(a);if(h.length===0)return new i(1);for(var m=this,E=0;E<h.length&&h[E]===0;E++,m=m.sqr());if(++E<h.length)for(var A=m.sqr();E<h.length;E++,A=A.sqr())h[E]!==0&&(m=m.mul(A));return m},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26,E=67108863>>>26-h<<26-h,A;if(h!==0){var I=0;for(A=0;A<this.length;A++){var k=this.words[A]&E,g=(this.words[A]|0)-k<<h;this.words[A]=g|I,I=k>>>26-h}I&&(this.words[A]=I,this.length++)}if(m!==0){for(A=this.length-1;A>=0;A--)this.words[A+m]=this.words[A];for(A=0;A<m;A++)this.words[A]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,h,m){r(typeof a=="number"&&a>=0);var E;h?E=(h-h%26)/26:E=0;var A=a%26,I=Math.min((a-A)/26,this.length),k=67108863^67108863>>>A<<A,g=m;if(E-=I,E=Math.max(0,E),g){for(var c=0;c<I;c++)g.words[c]=this.words[c];g.length=I}if(I!==0)if(this.length>I)for(this.length-=I,c=0;c<this.length;c++)this.words[c]=this.words[c+I];else this.words[0]=0,this.length=1;var d=0;for(c=this.length-1;c>=0&&(d!==0||c>=E);c--){var R=this.words[c]|0;this.words[c]=d<<26-A|R>>>A,d=R&k}return g&&d!==0&&(g.words[g.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,h,m){return r(this.negative===0),this.iushrn(a,h,m)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26,E=1<<h;if(this.length<=m)return!1;var A=this.words[m];return!!(A&E)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var h=a%26,m=(a-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var E=67108863^67108863>>>h<<h;this.words[this.length-1]&=E}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,h,m){var E=a.length+m,A;this._expand(E);var I,k=0;for(A=0;A<a.length;A++){I=(this.words[A+m]|0)+k;var g=(a.words[A]|0)*h;I-=g&67108863,k=(I>>26)-(g/67108864|0),this.words[A+m]=I&67108863}for(;A<this.length-m;A++)I=(this.words[A+m]|0)+k,k=I>>26,this.words[A+m]=I&67108863;if(k===0)return this._strip();for(r(k===-1),k=0,A=0;A<this.length;A++)I=-(this.words[A]|0)+k,k=I>>26,this.words[A]=I&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,h){var m=this.length-a.length,E=this.clone(),A=a,I=A.words[A.length-1]|0,k=this._countBits(I);m=26-k,m!==0&&(A=A.ushln(m),E.iushln(m),I=A.words[A.length-1]|0);var g=E.length-A.length,c;if(h!=="mod"){c=new i(null),c.length=g+1,c.words=new Array(c.length);for(var d=0;d<c.length;d++)c.words[d]=0}var R=E.clone()._ishlnsubmul(A,1,g);R.negative===0&&(E=R,c&&(c.words[g]=1));for(var D=g-1;D>=0;D--){var H=(E.words[A.length+D]|0)*67108864+(E.words[A.length+D-1]|0);for(H=Math.min(H/I|0,67108863),E._ishlnsubmul(A,H,D);E.negative!==0;)H--,E.negative=0,E._ishlnsubmul(A,1,D),E.isZero()||(E.negative^=1);c&&(c.words[D]=H)}return c&&c._strip(),E._strip(),h!=="div"&&m!==0&&E.iushrn(m),{div:c||null,mod:E}},i.prototype.divmod=function(a,h,m){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var E,A,I;return this.negative!==0&&a.negative===0?(I=this.neg().divmod(a,h),h!=="mod"&&(E=I.div.neg()),h!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.iadd(a)),{div:E,mod:A}):this.negative===0&&a.negative!==0?(I=this.divmod(a.neg(),h),h!=="mod"&&(E=I.div.neg()),{div:E,mod:I.mod}):this.negative&a.negative?(I=this.neg().divmod(a.neg(),h),h!=="div"&&(A=I.mod.neg(),m&&A.negative!==0&&A.isub(a)),{div:I.div,mod:A}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,h)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(a):h.mod,E=a.ushrn(1),A=a.andln(1),I=m.cmp(E);return I<0||A===1&&I===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var m=(1<<26)%a,E=0,A=this.length-1;A>=0;A--)E=(m*E+(this.words[A]|0))%a;return h?-E:E},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var h=a<0;h&&(a=-a),r(a<=67108863);for(var m=0,E=this.length-1;E>=0;E--){var A=(this.words[E]|0)+m*67108864;this.words[E]=A/a|0,m=A%a}return this._strip(),h?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var h=this,m=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var E=new i(1),A=new i(0),I=new i(0),k=new i(1),g=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++g;for(var c=m.clone(),d=h.clone();!h.isZero();){for(var R=0,D=1;!(h.words[0]&D)&&R<26;++R,D<<=1);if(R>0)for(h.iushrn(R);R-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(c),A.isub(d)),E.iushrn(1),A.iushrn(1);for(var H=0,ee=1;!(m.words[0]&ee)&&H<26;++H,ee<<=1);if(H>0)for(m.iushrn(H);H-- >0;)(I.isOdd()||k.isOdd())&&(I.iadd(c),k.isub(d)),I.iushrn(1),k.iushrn(1);h.cmp(m)>=0?(h.isub(m),E.isub(I),A.isub(k)):(m.isub(h),I.isub(E),k.isub(A))}return{a:I,b:k,gcd:m.iushln(g)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var h=this,m=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var E=new i(1),A=new i(0),I=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var k=0,g=1;!(h.words[0]&g)&&k<26;++k,g<<=1);if(k>0)for(h.iushrn(k);k-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);for(var c=0,d=1;!(m.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(m.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(I),A.iushrn(1);h.cmp(m)>=0?(h.isub(m),E.isub(A)):(m.isub(h),A.isub(E))}var R;return h.cmpn(1)===0?R=E:R=A,R.cmpn(0)<0&&R.iadd(a),R},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),m=a.clone();h.negative=0,m.negative=0;for(var E=0;h.isEven()&&m.isEven();E++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var A=h.cmp(m);if(A<0){var I=h;h=m,m=I}else if(A===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(E)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var h=a%26,m=(a-h)/26,E=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=E,this;for(var A=E,I=m;A!==0&&I<this.length;I++){var k=this.words[I]|0;k+=A,A=k>>>26,k&=67108863,this.words[I]=k}return A!==0&&(this.words[I]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(a=-a),r(a<=67108863,"Number is too big");var E=this.words[0]|0;m=E===a?0:E<a?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var E=this.words[m]|0,A=a.words[m]|0;if(E!==A){E<A?h=-1:E>A&&(h=1);break}}return h},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new K(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var J={k256:null,p224:null,p192:null,p25519:null};function X(S,a){this.name=S,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},X.prototype.ireduce=function(a){var h=a,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var E=m<this.n?-1:h.ucmp(this.p);return E===0?(h.words[0]=0,h.length=1):E>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},X.prototype.split=function(a,h){a.iushrn(this.n,0,h)},X.prototype.imulK=function(a){return a.imul(this.k)};function te(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(te,X),te.prototype.split=function(a,h){for(var m=4194303,E=Math.min(a.length,9),A=0;A<E;A++)h.words[A]=a.words[A];if(h.length=E,a.length<=9){a.words[0]=0,a.length=1;return}var I=a.words[9];for(h.words[h.length++]=I&m,A=10;A<a.length;A++){var k=a.words[A]|0;a.words[A-10]=(k&m)<<4|I>>>22,I=k}I>>>=22,a.words[A-10]=I,I===0&&a.length>10?a.length-=10:a.length-=9},te.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,m=0;m<a.length;m++){var E=a.words[m]|0;h+=E*977,a.words[m]=h&67108863,h=E*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function re(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(re,X);function W(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,X);function q(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,X),q.prototype.imulK=function(a){for(var h=0,m=0;m<a.length;m++){var E=(a.words[m]|0)*19+h,A=E&67108863;E>>>=26,a.words[m]=A,h=E}return h!==0&&(a.words[a.length++]=h),a},i._prime=function(a){if(J[a])return J[a];var h;if(a==="k256")h=new te;else if(a==="p224")h=new re;else if(a==="p192")h=new W;else if(a==="p25519")h=new q;else throw new Error("Unknown prime "+a);return J[a]=h,h};function K(S){if(typeof S=="string"){var a=i._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}K.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},K.prototype._verify2=function(a,h){r((a.negative|h.negative)===0,"red works only with positives"),r(a.red&&a.red===h.red,"red works only with red numbers")},K.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(b(a,a.umod(this.m)._forceRed(this)),a)},K.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},K.prototype.add=function(a,h){this._verify2(a,h);var m=a.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},K.prototype.iadd=function(a,h){this._verify2(a,h);var m=a.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},K.prototype.sub=function(a,h){this._verify2(a,h);var m=a.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},K.prototype.isub=function(a,h){this._verify2(a,h);var m=a.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},K.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},K.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},K.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},K.prototype.isqr=function(a){return this.imul(a,a.clone())},K.prototype.sqr=function(a){return this.mul(a,a)},K.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(a,m)}for(var E=this.m.subn(1),A=0;!E.isZero()&&E.andln(1)===0;)A++,E.iushrn(1);r(!E.isZero());var I=new i(1).toRed(this),k=I.redNeg(),g=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,g).cmp(k)!==0;)c.redIAdd(k);for(var d=this.pow(c,E),R=this.pow(a,E.addn(1).iushrn(1)),D=this.pow(a,E),H=A;D.cmp(I)!==0;){for(var ee=D,oe=0;ee.cmp(I)!==0;oe++)ee=ee.redSqr();r(oe<H);var fe=this.pow(d,new i(1).iushln(H-oe-1));R=R.redMul(fe),d=fe.redSqr(),D=D.redMul(d),H=oe}return R},K.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},K.prototype.pow=function(a,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var m=4,E=new Array(1<<m);E[0]=new i(1).toRed(this),E[1]=a;for(var A=2;A<E.length;A++)E[A]=this.mul(E[A-1],a);var I=E[0],k=0,g=0,c=h.bitLength()%26;for(c===0&&(c=26),A=h.length-1;A>=0;A--){for(var d=h.words[A],R=c-1;R>=0;R--){var D=d>>R&1;if(I!==E[0]&&(I=this.sqr(I)),D===0&&k===0){g=0;continue}k<<=1,k|=D,g++,!(g!==m&&(A!==0||R!==0))&&(I=this.mul(I,E[k]),g=0,k=0)}c=26}return I},K.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},K.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},i.mont=function(a){return new V(a)};function V(S){K.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(V,K),V.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},V.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},V.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(h),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(E).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},V.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new i(0)._forceRed(this);var m=a.mul(h),E=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=m.isub(E).iushrn(this.shift),I=A;return A.cmp(this.m)>=0?I=A.isub(this.m):A.cmpn(0)<0&&(I=A.iadd(this.m)),I._forceRed(this)},V.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(n,TP)}(sd)),sd.exports}var py,LS;function BP(){if(LS)return py;LS=1;var n=VA(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return py=n(t),py}function Qs(n,t,e){return t<=n&&n<=e}function g0(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function CP(n){for(var t=String(n),e=t.length,r=0,s=[];r<e;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===e-1)s.push(65533);else{var u=n.charCodeAt(r+1);if(56320<=u&&u<=57343){var f=i&1023,p=u&1023;s.push(65536+(f<<10)+p),r+=1}else s.push(65533)}r+=1}return s}function LP(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Id=-1;function vw(n){this.tokens=[].slice.call(n)}vw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Id},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var rc=-1;function gy(n,t){if(n)throw TypeError("Decoder error");return t||65533}var Md="utf-8";function Rd(n,t){if(!(this instanceof Rd))return new Rd(n,t);if(n=n!==void 0?String(n).toLowerCase():Md,n!==Md)throw new Error("Encoding not supported. Only utf-8 is supported");t=g0(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Rd.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=g0(e),this._streaming||(this._decoder=new OP({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new vw(r),i=[],u;!s.endOfStream()&&(u=this._decoder.handler(s,s.read()),u!==rc);)u!==null&&(Array.isArray(u)?i.push.apply(i,u):i.push(u));if(!this._streaming){do{if(u=this._decoder.handler(s,s.read()),u===rc)break;u!==null&&(Array.isArray(u)?i.push.apply(i,u):i.push(u))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),LP(i)}};function Td(n,t){if(!(this instanceof Td))return new Td(n,t);if(n=n!==void 0?String(n).toLowerCase():Md,n!==Md)throw new Error("Encoding not supported. Only utf-8 is supported");t=g0(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Td.prototype={encode:function(t,e){t=t?String(t):"",e=g0(e),this._streaming||(this._encoder=new PP(this._options)),this._streaming=!!e.stream;for(var r=[],s=new vw(CP(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==rc);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==rc;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function OP(n){var t=n.fatal,e=0,r=0,s=0,i=128,u=191;this.handler=function(f,p){if(p===Id&&s!==0)return s=0,gy(t);if(p===Id)return rc;if(s===0){if(Qs(p,0,127))return p;if(Qs(p,194,223))s=1,e=p-192;else if(Qs(p,224,239))p===224&&(i=160),p===237&&(u=159),s=2,e=p-224;else if(Qs(p,240,244))p===240&&(i=144),p===244&&(u=143),s=3,e=p-240;else return gy(t);return e=e<<6*s,null}if(!Qs(p,i,u))return e=s=r=0,i=128,u=191,f.prepend(p),gy(t);if(i=128,u=191,r+=1,e+=p-128<<6*(s-r),r!==s)return null;var w=e;return e=s=r=0,w}}function PP(n){n.fatal,this.handler=function(t,e){if(e===Id)return rc;if(Qs(e,0,127))return e;var r,s;Qs(e,128,2047)?(r=1,s=192):Qs(e,2048,65535)?(r=2,s=224):Qs(e,65536,1114111)&&(r=3,s=240);for(var i=[(e>>6*r)+s];r>0;){var u=e>>6*(r-1);i.push(128|u&63),r-=1}return i}}const DP=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Rd,TextEncoder:Td},Symbol.toStringTag,{value:"Module"})),UP=oc(DP);var OS;function zP(){if(OS)return vn;OS=1;var n=vn.__createBinding||(Object.create?function(W,q,K,V){V===void 0&&(V=K),Object.defineProperty(W,V,{enumerable:!0,get:function(){return q[K]}})}:function(W,q,K,V){V===void 0&&(V=K),W[V]=q[K]}),t=vn.__setModuleDefault||(Object.create?function(W,q){Object.defineProperty(W,"default",{enumerable:!0,value:q})}:function(W,q){W.default=q}),e=vn.__decorate||function(W,q,K,V){var S=arguments.length,a=S<3?q:V===null?V=Object.getOwnPropertyDescriptor(q,K):V,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(W,q,K,V);else for(var m=W.length-1;m>=0;m--)(h=W[m])&&(a=(S<3?h(a):S>3?h(q,K,a):h(q,K))||a);return S>3&&a&&Object.defineProperty(q,K,a),a},r=vn.__importStar||function(W){if(W&&W.__esModule)return W;var q={};if(W!=null)for(var K in W)K!=="default"&&Object.hasOwnProperty.call(W,K)&&n(q,W,K);return t(q,W),q},s=vn.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(vn,"__esModule",{value:!0}),vn.deserializeUnchecked=vn.deserialize=vn.serialize=vn.BinaryReader=vn.BinaryWriter=vn.BorshError=vn.baseDecode=vn.baseEncode=void 0;const i=s(NP()),u=s(BP()),f=r(UP),p=typeof TextDecoder!="function"?f.TextDecoder:TextDecoder,w=new p("utf-8",{fatal:!0});function b(W){return typeof W=="string"&&(W=Buffer.from(W,"utf8")),u.default.encode(Buffer.from(W))}vn.baseEncode=b;function T(W){return Buffer.from(u.default.decode(W))}vn.baseDecode=T;const B=1024;class M extends Error{constructor(q){super(q),this.fieldPath=[],this.originalMessage=q}addToFieldPath(q){this.fieldPath.splice(0,0,q),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}vn.BorshError=M;class O{constructor(){this.buf=Buffer.alloc(B),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(B)]))}writeU8(q){this.maybeResize(),this.buf.writeUInt8(q,this.length),this.length+=1}writeU16(q){this.maybeResize(),this.buf.writeUInt16LE(q,this.length),this.length+=2}writeU32(q){this.maybeResize(),this.buf.writeUInt32LE(q,this.length),this.length+=4}writeU64(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",8)))}writeU128(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",16)))}writeU256(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",32)))}writeU512(q){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(q).toArray("le",64)))}writeBuffer(q){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),q,Buffer.alloc(B)]),this.length+=q.length}writeString(q){this.maybeResize();const K=Buffer.from(q,"utf8");this.writeU32(K.length),this.writeBuffer(K)}writeFixedArray(q){this.writeBuffer(Buffer.from(q))}writeArray(q,K){this.maybeResize(),this.writeU32(q.length);for(const V of q)this.maybeResize(),K(V)}toArray(){return this.buf.subarray(0,this.length)}}vn.BinaryWriter=O;function P(W,q,K){const V=K.value;K.value=function(...S){try{return V.apply(this,S)}catch(a){if(a instanceof RangeError){const h=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new M("Reached the end of buffer when deserializing")}throw a}}}class N{constructor(q){this.buf=q,this.offset=0}readU8(){const q=this.buf.readUInt8(this.offset);return this.offset+=1,q}readU16(){const q=this.buf.readUInt16LE(this.offset);return this.offset+=2,q}readU32(){const q=this.buf.readUInt32LE(this.offset);return this.offset+=4,q}readU64(){const q=this.readBuffer(8);return new i.default(q,"le")}readU128(){const q=this.readBuffer(16);return new i.default(q,"le")}readU256(){const q=this.readBuffer(32);return new i.default(q,"le")}readU512(){const q=this.readBuffer(64);return new i.default(q,"le")}readBuffer(q){if(this.offset+q>this.buf.length)throw new M(`Expected buffer length ${q} isn't within bounds`);const K=this.buf.slice(this.offset,this.offset+q);return this.offset+=q,K}readString(){const q=this.readU32(),K=this.readBuffer(q);try{return w.decode(K)}catch(V){throw new M(`Error decoding UTF-8 string: ${V}`)}}readFixedArray(q){return new Uint8Array(this.readBuffer(q))}readArray(q){const K=this.readU32(),V=Array();for(let S=0;S<K;++S)V.push(q());return V}}e([P],N.prototype,"readU8",null),e([P],N.prototype,"readU16",null),e([P],N.prototype,"readU32",null),e([P],N.prototype,"readU64",null),e([P],N.prototype,"readU128",null),e([P],N.prototype,"readU256",null),e([P],N.prototype,"readU512",null),e([P],N.prototype,"readString",null),e([P],N.prototype,"readFixedArray",null),e([P],N.prototype,"readArray",null),vn.BinaryReader=N;function $(W){return W.charAt(0).toUpperCase()+W.slice(1)}function j(W,q,K,V,S){try{if(typeof V=="string")S[`write${$(V)}`](K);else if(V instanceof Array)if(typeof V[0]=="number"){if(K.length!==V[0])throw new M(`Expecting byte array of length ${V[0]}, but got ${K.length} bytes`);S.writeFixedArray(K)}else if(V.length===2&&typeof V[1]=="number"){if(K.length!==V[1])throw new M(`Expecting byte array of length ${V[1]}, but got ${K.length} bytes`);for(let a=0;a<V[1];a++)j(W,null,K[a],V[0],S)}else S.writeArray(K,a=>{j(W,q,a,V[0],S)});else if(V.kind!==void 0)switch(V.kind){case"option":{K==null?S.writeU8(0):(S.writeU8(1),j(W,q,K,V.type,S));break}case"map":{S.writeU32(K.size),K.forEach((a,h)=>{j(W,q,h,V.key,S),j(W,q,a,V.value,S)});break}default:throw new M(`FieldType ${V} unrecognized`)}else F(W,K,S)}catch(a){throw a instanceof M&&a.addToFieldPath(q),a}}function F(W,q,K){if(typeof q.borshSerialize=="function"){q.borshSerialize(K);return}const V=W.get(q.constructor);if(!V)throw new M(`Class ${q.constructor.name} is missing in schema`);if(V.kind==="struct")V.fields.map(([S,a])=>{j(W,S,q[S],a,K)});else if(V.kind==="enum"){const S=q[V.field];for(let a=0;a<V.values.length;++a){const[h,m]=V.values[a];if(h===S){K.writeU8(a),j(W,h,q[h],m,K);break}}}else throw new M(`Unexpected schema kind: ${V.kind} for ${q.constructor.name}`)}function Y(W,q,K=O){const V=new K;return F(W,q,V),V.toArray()}vn.serialize=Y;function J(W,q,K,V){try{if(typeof K=="string")return V[`read${$(K)}`]();if(K instanceof Array){if(typeof K[0]=="number")return V.readFixedArray(K[0]);if(typeof K[1]=="number"){const S=[];for(let a=0;a<K[1];a++)S.push(J(W,null,K[0],V));return S}else return V.readArray(()=>J(W,q,K[0],V))}if(K.kind==="option")return V.readU8()?J(W,q,K.type,V):void 0;if(K.kind==="map"){let S=new Map;const a=V.readU32();for(let h=0;h<a;h++){const m=J(W,q,K.key,V),E=J(W,q,K.value,V);S.set(m,E)}return S}return X(W,K,V)}catch(S){throw S instanceof M&&S.addToFieldPath(q),S}}function X(W,q,K){if(typeof q.borshDeserialize=="function")return q.borshDeserialize(K);const V=W.get(q);if(!V)throw new M(`Class ${q.name} is missing in schema`);if(V.kind==="struct"){const S={};for(const[a,h]of W.get(q).fields)S[a]=J(W,a,h,K);return new q(S)}if(V.kind==="enum"){const S=K.readU8();if(S>=V.values.length)throw new M(`Enum index: ${S} is out of range`);const[a,h]=V.values[S],m=J(W,a,h,K);return new q({[a]:m})}throw new M(`Unexpected schema kind: ${V.kind} for ${q.constructor.name}`)}function te(W,q,K,V=N){const S=new V(K),a=X(W,q,S);if(S.offset<K.length)throw new M(`Unexpected ${K.length-S.offset} bytes after deserialized data`);return a}vn.deserialize=te;function re(W,q,K,V=N){const S=new V(K);return X(W,q,S)}return vn.deserializeUnchecked=re,vn}var yy=zP(),we={},PS;function FP(){if(PS)return we;PS=1,Object.defineProperty(we,"__esModule",{value:!0}),we.s16=we.s8=we.nu64be=we.u48be=we.u40be=we.u32be=we.u24be=we.u16be=we.nu64=we.u48=we.u40=we.u32=we.u24=we.u16=we.u8=we.offset=we.greedy=we.Constant=we.UTF8=we.CString=we.Blob=we.Boolean=we.BitField=we.BitStructure=we.VariantLayout=we.Union=we.UnionLayoutDiscriminator=we.UnionDiscriminator=we.Structure=we.Sequence=we.DoubleBE=we.Double=we.FloatBE=we.Float=we.NearInt64BE=we.NearInt64=we.NearUInt64BE=we.NearUInt64=we.IntBE=we.Int=we.UIntBE=we.UInt=we.OffsetLayout=we.GreedyCount=we.ExternalLayout=we.bindConstructorLayout=we.nameWithProperty=we.Layout=we.uint8ArrayToBuffer=we.checkUint8Array=void 0,we.constant=we.utf8=we.cstr=we.blob=we.unionLayoutDiscriminator=we.union=we.seq=we.bits=we.struct=we.f64be=we.f64=we.f32be=we.f32=we.ns64be=we.s48be=we.s40be=we.s32be=we.s24be=we.s16be=we.ns64=we.s48=we.s40=we.s32=we.s24=void 0;const n=hw();function t(c){if(!(c instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}we.checkUint8Array=t;function e(c){return t(c),n.Buffer.from(c.buffer,c.byteOffset,c.length)}we.uint8ArrayToBuffer=e;let r=class{constructor(d,R){if(!Number.isInteger(d))throw new TypeError("span must be an integer");this.span=d,this.property=R}makeDestinationObject(){return{}}getSpan(d,R){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(d){const R=Object.create(this.constructor.prototype);return Object.assign(R,this),R.property=d,R}fromArray(d){}};we.Layout=r;function s(c,d){return d.property?c+"["+d.property+"]":c}we.nameWithProperty=s;function i(c,d){if(typeof c!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(c,"layout_"))throw new Error("Class is already bound to a layout");if(!(d&&d instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(d,"boundConstructor_"))throw new Error("layout is already bound to a constructor");c.layout_=d,d.boundConstructor_=c,d.makeDestinationObject=()=>new c,Object.defineProperty(c.prototype,"encode",{value(R,D){return d.encode(this,R,D)},writable:!0}),Object.defineProperty(c,"decode",{value(R,D){return d.decode(R,D)},writable:!0})}we.bindConstructorLayout=i;class u extends r{isCount(){throw new Error("ExternalLayout is abstract")}}we.ExternalLayout=u;class f extends u{constructor(d=1,R){if(!Number.isInteger(d)||0>=d)throw new TypeError("elementSpan must be a (positive) integer");super(-1,R),this.elementSpan=d}isCount(){return!0}decode(d,R=0){t(d);const D=d.length-R;return Math.floor(D/this.elementSpan)}encode(d,R,D){return 0}}we.GreedyCount=f;class p extends u{constructor(d,R=0,D){if(!(d instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(R))throw new TypeError("offset must be integer or undefined");super(d.span,D||d.property),this.layout=d,this.offset=R}isCount(){return this.layout instanceof w||this.layout instanceof b}decode(d,R=0){return this.layout.decode(d,R+this.offset)}encode(d,R,D=0){return this.layout.encode(d,R,D+this.offset)}}we.OffsetLayout=p;class w extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readUIntLE(R,this.span)}encode(d,R,D=0){return e(R).writeUIntLE(d,D,this.span),this.span}}we.UInt=w;class b extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readUIntBE(R,this.span)}encode(d,R,D=0){return e(R).writeUIntBE(d,D,this.span),this.span}}we.UIntBE=b;class T extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readIntLE(R,this.span)}encode(d,R,D=0){return e(R).writeIntLE(d,D,this.span),this.span}}we.Int=T;class B extends r{constructor(d,R){if(super(d,R),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(d,R=0){return e(d).readIntBE(R,this.span)}encode(d,R,D=0){return e(R).writeIntBE(d,D,this.span),this.span}}we.IntBE=B;const M=Math.pow(2,32);function O(c){const d=Math.floor(c/M),R=c-d*M;return{hi32:d,lo32:R}}function P(c,d){return c*M+d}class N extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readUInt32LE(R),ee=D.readUInt32LE(R+4);return P(ee,H)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeUInt32LE(H.lo32,D),ee.writeUInt32LE(H.hi32,D+4),8}}we.NearUInt64=N;class $ extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readUInt32BE(R),ee=D.readUInt32BE(R+4);return P(H,ee)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeUInt32BE(H.hi32,D),ee.writeUInt32BE(H.lo32,D+4),8}}we.NearUInt64BE=$;class j extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readUInt32LE(R),ee=D.readInt32LE(R+4);return P(ee,H)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeUInt32LE(H.lo32,D),ee.writeInt32LE(H.hi32,D+4),8}}we.NearInt64=j;class F extends r{constructor(d){super(8,d)}decode(d,R=0){const D=e(d),H=D.readInt32BE(R),ee=D.readUInt32BE(R+4);return P(H,ee)}encode(d,R,D=0){const H=O(d),ee=e(R);return ee.writeInt32BE(H.hi32,D),ee.writeUInt32BE(H.lo32,D+4),8}}we.NearInt64BE=F;class Y extends r{constructor(d){super(4,d)}decode(d,R=0){return e(d).readFloatLE(R)}encode(d,R,D=0){return e(R).writeFloatLE(d,D),4}}we.Float=Y;class J extends r{constructor(d){super(4,d)}decode(d,R=0){return e(d).readFloatBE(R)}encode(d,R,D=0){return e(R).writeFloatBE(d,D),4}}we.FloatBE=J;class X extends r{constructor(d){super(8,d)}decode(d,R=0){return e(d).readDoubleLE(R)}encode(d,R,D=0){return e(R).writeDoubleLE(d,D),8}}we.Double=X;class te extends r{constructor(d){super(8,d)}decode(d,R=0){return e(d).readDoubleBE(R)}encode(d,R,D=0){return e(R).writeDoubleBE(d,D),8}}we.DoubleBE=te;class re extends r{constructor(d,R,D){if(!(d instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(R instanceof u&&R.isCount()||Number.isInteger(R)&&0<=R))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let H=-1;!(R instanceof u)&&0<d.span&&(H=R*d.span),super(H,D),this.elementLayout=d,this.count=R}getSpan(d,R=0){if(0<=this.span)return this.span;let D=0,H=this.count;if(H instanceof u&&(H=H.decode(d,R)),0<this.elementLayout.span)D=H*this.elementLayout.span;else{let ee=0;for(;ee<H;)D+=this.elementLayout.getSpan(d,R+D),++ee}return D}decode(d,R=0){const D=[];let H=0,ee=this.count;for(ee instanceof u&&(ee=ee.decode(d,R));H<ee;)D.push(this.elementLayout.decode(d,R)),R+=this.elementLayout.getSpan(d,R),H+=1;return D}encode(d,R,D=0){const H=this.elementLayout,ee=d.reduce((oe,fe)=>oe+H.encode(fe,R,D+oe),0);return this.count instanceof u&&this.count.encode(d.length,R,D),ee}}we.Sequence=re;class W extends r{constructor(d,R,D){if(!(Array.isArray(d)&&d.reduce((ee,oe)=>ee&&oe instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof R=="boolean"&&D===void 0&&(D=R,R=void 0);for(const ee of d)if(0>ee.span&&ee.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let H=-1;try{H=d.reduce((ee,oe)=>ee+oe.getSpan(),0)}catch{}super(H,R),this.fields=d,this.decodePrefixes=!!D}getSpan(d,R=0){if(0<=this.span)return this.span;let D=0;try{D=this.fields.reduce((H,ee)=>{const oe=ee.getSpan(d,R);return R+=oe,H+oe},0)}catch{throw new RangeError("indeterminate span")}return D}decode(d,R=0){t(d);const D=this.makeDestinationObject();for(const H of this.fields)if(H.property!==void 0&&(D[H.property]=H.decode(d,R)),R+=H.getSpan(d,R),this.decodePrefixes&&d.length===R)break;return D}encode(d,R,D=0){const H=D;let ee=0,oe=0;for(const fe of this.fields){let Ue=fe.span;if(oe=0<Ue?Ue:0,fe.property!==void 0){const Se=d[fe.property];Se!==void 0&&(oe=fe.encode(Se,R,D),0>Ue&&(Ue=fe.getSpan(R,D)))}ee=D,D+=Ue}return ee+oe-H}fromArray(d){const R=this.makeDestinationObject();for(const D of this.fields)D.property!==void 0&&0<d.length&&(R[D.property]=d.shift());return R}layoutFor(d){if(typeof d!="string")throw new TypeError("property must be string");for(const R of this.fields)if(R.property===d)return R}offsetOf(d){if(typeof d!="string")throw new TypeError("property must be string");let R=0;for(const D of this.fields){if(D.property===d)return R;0>D.span?R=-1:0<=R&&(R+=D.span)}}}we.Structure=W;class q{constructor(d){this.property=d}decode(d,R){throw new Error("UnionDiscriminator is abstract")}encode(d,R,D){throw new Error("UnionDiscriminator is abstract")}}we.UnionDiscriminator=q;class K extends q{constructor(d,R){if(!(d instanceof u&&d.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(R||d.property||"variant"),this.layout=d}decode(d,R){return this.layout.decode(d,R)}encode(d,R,D){return this.layout.encode(d,R,D)}}we.UnionLayoutDiscriminator=K;class V extends r{constructor(d,R,D){let H;if(d instanceof w||d instanceof b)H=new K(new p(d));else if(d instanceof u&&d.isCount())H=new K(d);else if(d instanceof q)H=d;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(R===void 0&&(R=null),!(R===null||R instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(R!==null){if(0>R.span)throw new Error("defaultLayout must have constant span");R.property===void 0&&(R=R.replicate("content"))}let ee=-1;R&&(ee=R.span,0<=ee&&(d instanceof w||d instanceof b)&&(ee+=H.layout.span)),super(ee,D),this.discriminator=H,this.usesPrefixDiscriminator=d instanceof w||d instanceof b,this.defaultLayout=R,this.registry={};let oe=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(fe){return oe(fe)},this.configGetSourceVariant=function(fe){oe=fe.bind(this)}}getSpan(d,R=0){if(0<=this.span)return this.span;const D=this.getVariant(d,R);if(!D)throw new Error("unable to determine span for unrecognized variant");return D.getSpan(d,R)}defaultGetSourceVariant(d){if(Object.prototype.hasOwnProperty.call(d,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(d,this.defaultLayout.property))return;const R=this.registry[d[this.discriminator.property]];if(R&&(!R.layout||R.property&&Object.prototype.hasOwnProperty.call(d,R.property)))return R}else for(const R in this.registry){const D=this.registry[R];if(D.property&&Object.prototype.hasOwnProperty.call(d,D.property))return D}throw new Error("unable to infer src variant")}decode(d,R=0){let D;const H=this.discriminator,ee=H.decode(d,R),oe=this.registry[ee];if(oe===void 0){const fe=this.defaultLayout;let Ue=0;this.usesPrefixDiscriminator&&(Ue=H.layout.span),D=this.makeDestinationObject(),D[H.property]=ee,D[fe.property]=fe.decode(d,R+Ue)}else D=oe.decode(d,R);return D}encode(d,R,D=0){const H=this.getSourceVariant(d);if(H===void 0){const ee=this.discriminator,oe=this.defaultLayout;let fe=0;return this.usesPrefixDiscriminator&&(fe=ee.layout.span),ee.encode(d[ee.property],R,D),fe+oe.encode(d[oe.property],R,D+fe)}return H.encode(d,R,D)}addVariant(d,R,D){const H=new S(this,d,R,D);return this.registry[d]=H,H}getVariant(d,R=0){let D;return d instanceof Uint8Array?D=this.discriminator.decode(d,R):D=d,this.registry[D]}}we.Union=V;class S extends r{constructor(d,R,D,H){if(!(d instanceof V))throw new TypeError("union must be a Union");if(!Number.isInteger(R)||0>R)throw new TypeError("variant must be a (non-negative) integer");if(typeof D=="string"&&H===void 0&&(H=D,D=null),D){if(!(D instanceof r))throw new TypeError("layout must be a Layout");if(d.defaultLayout!==null&&0<=D.span&&D.span>d.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof H!="string")throw new TypeError("variant must have a String property")}let ee=d.span;0>d.span&&(ee=D?D.span:0,0<=ee&&d.usesPrefixDiscriminator&&(ee+=d.discriminator.layout.span)),super(ee,H),this.union=d,this.variant=R,this.layout=D||null}getSpan(d,R=0){if(0<=this.span)return this.span;let D=0;this.union.usesPrefixDiscriminator&&(D=this.union.discriminator.layout.span);let H=0;return this.layout&&(H=this.layout.getSpan(d,R+D)),D+H}decode(d,R=0){const D=this.makeDestinationObject();if(this!==this.union.getVariant(d,R))throw new Error("variant mismatch");let H=0;return this.union.usesPrefixDiscriminator&&(H=this.union.discriminator.layout.span),this.layout?D[this.property]=this.layout.decode(d,R+H):this.property?D[this.property]=!0:this.union.usesPrefixDiscriminator&&(D[this.union.discriminator.property]=this.variant),D}encode(d,R,D=0){let H=0;if(this.union.usesPrefixDiscriminator&&(H=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(d,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,R,D);let ee=H;if(this.layout&&(this.layout.encode(d[this.property],R,D+H),ee+=this.layout.getSpan(R,D+H),0<=this.union.span&&ee>this.union.span))throw new Error("encoded variant overruns containing union");return ee}fromArray(d){if(this.layout)return this.layout.fromArray(d)}}we.VariantLayout=S;function a(c){return 0>c&&(c+=4294967296),c}class h extends r{constructor(d,R,D){if(!(d instanceof w||d instanceof b))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof R=="string"&&D===void 0&&(D=R,R=!1),4<d.span)throw new RangeError("word cannot exceed 32 bits");super(d.span,D),this.word=d,this.msb=!!R,this.fields=[];let H=0;this._packedSetValue=function(ee){return H=a(ee),this},this._packedGetValue=function(){return H}}decode(d,R=0){const D=this.makeDestinationObject(),H=this.word.decode(d,R);this._packedSetValue(H);for(const ee of this.fields)ee.property!==void 0&&(D[ee.property]=ee.decode(d));return D}encode(d,R,D=0){const H=this.word.decode(R,D);this._packedSetValue(H);for(const ee of this.fields)if(ee.property!==void 0){const oe=d[ee.property];oe!==void 0&&ee.encode(oe)}return this.word.encode(this._packedGetValue(),R,D)}addField(d,R){const D=new m(this,d,R);return this.fields.push(D),D}addBoolean(d){const R=new E(this,d);return this.fields.push(R),R}fieldFor(d){if(typeof d!="string")throw new TypeError("property must be string");for(const R of this.fields)if(R.property===d)return R}}we.BitStructure=h;class m{constructor(d,R,D){if(!(d instanceof h))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(R)||0>=R)throw new TypeError("bits must be positive integer");const H=8*d.span,ee=d.fields.reduce((oe,fe)=>oe+fe.bits,0);if(R+ee>H)throw new Error("bits too long for span remainder ("+(H-ee)+" of "+H+" remain)");this.container=d,this.bits=R,this.valueMask=(1<<R)-1,R===32&&(this.valueMask=4294967295),this.start=ee,this.container.msb&&(this.start=H-ee-R),this.wordMask=a(this.valueMask<<this.start),this.property=D}decode(d,R){const D=this.container._packedGetValue();return a(D&this.wordMask)>>>this.start}encode(d){if(typeof d!="number"||!Number.isInteger(d)||d!==a(d&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const R=this.container._packedGetValue(),D=a(d<<this.start);this.container._packedSetValue(a(R&~this.wordMask)|D)}}we.BitField=m;class E extends m{constructor(d,R){super(d,1,R)}decode(d,R){return!!super.decode(d,R)}encode(d){typeof d=="boolean"&&(d=+d),super.encode(d)}}we.Boolean=E;class A extends r{constructor(d,R){if(!(d instanceof u&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let D=-1;d instanceof u||(D=d),super(D,R),this.length=d}getSpan(d,R){let D=this.span;return 0>D&&(D=this.length.decode(d,R)),D}decode(d,R=0){let D=this.span;return 0>D&&(D=this.length.decode(d,R)),e(d).slice(R,R+D)}encode(d,R,D){let H=this.length;if(this.length instanceof u&&(H=d.length),!(d instanceof Uint8Array&&H===d.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+H+") Uint8Array as src");if(D+H>R.length)throw new RangeError("encoding overruns Uint8Array");const ee=e(d);return e(R).write(ee.toString("hex"),D,H,"hex"),this.length instanceof u&&this.length.encode(H,R,D),H}}we.Blob=A;class I extends r{constructor(d){super(-1,d)}getSpan(d,R=0){t(d);let D=R;for(;D<d.length&&d[D]!==0;)D+=1;return 1+D-R}decode(d,R=0){const D=this.getSpan(d,R);return e(d).slice(R,R+D-1).toString("utf-8")}encode(d,R,D=0){typeof d!="string"&&(d=String(d));const H=n.Buffer.from(d,"utf8"),ee=H.length;if(D+ee>R.length)throw new RangeError("encoding overruns Buffer");const oe=e(R);return H.copy(oe,D),oe[D+ee]=0,ee+1}}we.CString=I;class k extends r{constructor(d,R){if(typeof d=="string"&&R===void 0&&(R=d,d=void 0),d===void 0)d=-1;else if(!Number.isInteger(d))throw new TypeError("maxSpan must be an integer");super(-1,R),this.maxSpan=d}getSpan(d,R=0){return t(d),d.length-R}decode(d,R=0){const D=this.getSpan(d,R);if(0<=this.maxSpan&&this.maxSpan<D)throw new RangeError("text length exceeds maxSpan");return e(d).slice(R,R+D).toString("utf-8")}encode(d,R,D=0){typeof d!="string"&&(d=String(d));const H=n.Buffer.from(d,"utf8"),ee=H.length;if(0<=this.maxSpan&&this.maxSpan<ee)throw new RangeError("text length exceeds maxSpan");if(D+ee>R.length)throw new RangeError("encoding overruns Buffer");return H.copy(e(R),D),ee}}we.UTF8=k;class g extends r{constructor(d,R){super(0,R),this.value=d}decode(d,R){return this.value}encode(d,R,D){return 0}}return we.Constant=g,we.greedy=(c,d)=>new f(c,d),we.offset=(c,d,R)=>new p(c,d,R),we.u8=c=>new w(1,c),we.u16=c=>new w(2,c),we.u24=c=>new w(3,c),we.u32=c=>new w(4,c),we.u40=c=>new w(5,c),we.u48=c=>new w(6,c),we.nu64=c=>new N(c),we.u16be=c=>new b(2,c),we.u24be=c=>new b(3,c),we.u32be=c=>new b(4,c),we.u40be=c=>new b(5,c),we.u48be=c=>new b(6,c),we.nu64be=c=>new $(c),we.s8=c=>new T(1,c),we.s16=c=>new T(2,c),we.s24=c=>new T(3,c),we.s32=c=>new T(4,c),we.s40=c=>new T(5,c),we.s48=c=>new T(6,c),we.ns64=c=>new j(c),we.s16be=c=>new B(2,c),we.s24be=c=>new B(3,c),we.s32be=c=>new B(4,c),we.s40be=c=>new B(5,c),we.s48be=c=>new B(6,c),we.ns64be=c=>new F(c),we.f32=c=>new Y(c),we.f32be=c=>new J(c),we.f64=c=>new X(c),we.f64be=c=>new te(c),we.struct=(c,d,R)=>new W(c,d,R),we.bits=(c,d,R)=>new h(c,d,R),we.seq=(c,d,R)=>new re(c,d,R),we.union=(c,d,R)=>new V(c,d,R),we.unionLayoutDiscriminator=(c,d)=>new K(c,d),we.blob=(c,d)=>new A(c,d),we.cstr=c=>new I(c),we.utf8=(c,d)=>new k(c,d),we.constant=(c,d)=>new g(c,d),we}var ae=FP(),_a={},DS;function $P(){if(DS)return _a;DS=1,Object.defineProperty(_a,"__esModule",{value:!0});function n(s){{const i=Buffer.from(s);i.reverse();const u=i.toString("hex");return u.length===0?BigInt(0):BigInt(`0x${u}`)}}_a.toBigIntLE=n;function t(s){{const i=s.toString("hex");return i.length===0?BigInt(0):BigInt(`0x${i}`)}}_a.toBigIntBE=t;function e(s,i){{const u=s.toString(16),f=Buffer.from(u.padStart(i*2,"0").slice(0,i*2),"hex");return f.reverse(),f}}_a.toBufferLE=e;function r(s,i){{const u=s.toString(16);return Buffer.from(u.padStart(i*2,"0").slice(0,i*2),"hex")}}return _a.toBufferBE=r,_a}var US=$P();class jP extends TypeError{constructor(t,e){let r;const{message:s,explanation:i,...u}=t,{path:f}=t,p=f.length===0?s:`At path: ${f.join(".")} -- ${s}`;super(i??p),i!=null&&(this.cause=p),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function HP(n){return cf(n)&&typeof n[Symbol.iterator]=="function"}function cf(n){return typeof n=="object"&&n!=null}function Nd(n){return cf(n)&&!Array.isArray(n)}function is(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function WP(n){const{done:t,value:e}=n.next();return t?void 0:e}function qP(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=t,{type:u}=e,{refinement:f,message:p=`Expected a value of type \`${u}\`${f?` with refinement \`${f}\``:""}, but received: \`${is(r)}\``}=n;return{value:r,type:u,refinement:f,key:s[s.length-1],path:s,branch:i,...n,message:p}}function*zS(n,t,e,r){HP(n)||(n=[n]);for(const s of n){const i=qP(s,t,e,r);i&&(yield i)}}function*_w(n,t,e={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:u=!1}=e,f={path:r,branch:s,mask:u};i&&(n=t.coercer(n,f));let p="valid";for(const w of t.validator(n,f))w.explanation=e.message,p="not_valid",yield[w,void 0];for(let[w,b,T]of t.entries(n,f)){const B=_w(b,T,{path:w===void 0?r:[...r,w],branch:w===void 0?s:[...s,b],coerce:i,mask:u,message:e.message});for(const M of B)M[0]?(p=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):i&&(b=M[1],w===void 0?n=b:n instanceof Map?n.set(w,b):n instanceof Set?n.add(b):cf(n)&&(b!==void 0||w in n)&&(n[w]=b))}if(p!=="not_valid")for(const w of t.refiner(n,f))w.explanation=e.message,p="not_refined",yield[w,void 0];p==="valid"&&(yield[void 0,n])}let Ts=class{constructor(t){const{type:e,schema:r,validator:s,refiner:i,coercer:u=p=>p,entries:f=function*(){}}=t;this.type=e,this.schema=r,this.entries=f,this.coercer=u,s?this.validator=(p,w)=>{const b=s(p,w);return zS(b,w,this,p)}:this.validator=()=>[],i?this.refiner=(p,w)=>{const b=i(p,w);return zS(b,w,this,p)}:this.refiner=()=>[]}assert(t,e){return KP(t,this,e)}create(t,e){return He(t,this,e)}is(t){return GA(t,this)}mask(t,e){return VP(t,this,e)}validate(t,e={}){return lf(t,this,e)}};function KP(n,t,e){const r=lf(n,t,{message:e});if(r[0])throw r[0]}function He(n,t,e){const r=lf(n,t,{coerce:!0,message:e});if(r[0])throw r[0];return r[1]}function VP(n,t,e){const r=lf(n,t,{coerce:!0,mask:!0,message:e});if(r[0])throw r[0];return r[1]}function GA(n,t){return!lf(n,t)[0]}function lf(n,t,e={}){const r=_w(n,t,e),s=WP(r);return s[0]?[new jP(s[0],function*(){for(const u of r)u[0]&&(yield u[0])}),void 0]:[void 0,s[1]]}function Ja(n,t){return new Ts({type:n,schema:null,validator:t})}function GP(){return Ja("any",()=>!0)}function Ge(n){return new Ts({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${is(t)}`}})}function Is(){return Ja("boolean",n=>typeof n=="boolean")}function bw(n){return Ja("instance",t=>t instanceof n||`Expected a \`${n.name}\` instance, but received: ${is(t)}`)}function In(n){const t=is(n),e=typeof n;return new Ts({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${t}\`, but received: ${is(r)}`}})}function ZP(){return Ja("never",()=>!1)}function Ye(n){return new Ts({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function pe(){return Ja("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${is(n)}`)}function Tt(n){return new Ts({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function ZA(n,t){return new Ts({type:"record",schema:null,*entries(e){if(cf(e))for(const r in e){const s=e[r];yield[r,r,n],yield[r,s,t]}},validator(e){return Nd(e)||`Expected an object, but received: ${is(e)}`},coercer(e){return Nd(e)?{...e}:e}})}function De(){return Ja("string",n=>typeof n=="string"||`Expected a string, but received: ${is(n)}`)}function Ew(n){const t=ZP();return new Ts({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let s=0;s<r;s++)yield[s,e[s],n[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${is(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function Me(n){const t=Object.keys(n);return new Ts({type:"type",schema:n,*entries(e){if(cf(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return Nd(e)||`Expected an object, but received: ${is(e)}`},coercer(e){return Nd(e)?{...e}:e}})}function $r(n){const t=n.map(e=>e.type).join(" | ");return new Ts({type:"union",schema:null,coercer(e,r){for(const s of n){const[i,u]=s.validate(e,{coerce:!0,mask:r.mask});if(!i)return u}return e},validator(e,r){const s=[];for(const i of n){const[...u]=_w(e,i,r),[f]=u;if(f[0])for(const[p]of u)p&&s.push(p);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${is(e)}`,...s]}})}function vc(){return Ja("unknown",()=>!0)}function ff(n,t,e){return new Ts({...n,coercer:(r,s)=>GA(r,t)?n.coercer(e(r,s),s):n.coercer(r,s)})}var $h,YP=new Uint8Array(16);function YA(){if(!$h&&($h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!$h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $h(YP)}const QP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function y0(n){return typeof n=="string"&&QP.test(n)}var dr=[];for(var my=0;my<256;++my)dr.push((my+256).toString(16).substr(1));function m0(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(dr[n[t+0]]+dr[n[t+1]]+dr[n[t+2]]+dr[n[t+3]]+"-"+dr[n[t+4]]+dr[n[t+5]]+"-"+dr[n[t+6]]+dr[n[t+7]]+"-"+dr[n[t+8]]+dr[n[t+9]]+"-"+dr[n[t+10]]+dr[n[t+11]]+dr[n[t+12]]+dr[n[t+13]]+dr[n[t+14]]+dr[n[t+15]]).toLowerCase();if(!y0(e))throw TypeError("Stringified UUID is invalid");return e}var FS,wy,vy=0,_y=0;function JP(n,t,e){var r=t&&e||0,s=t||new Array(16);n=n||{};var i=n.node||FS,u=n.clockseq!==void 0?n.clockseq:wy;if(i==null||u==null){var f=n.random||(n.rng||YA)();i==null&&(i=FS=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),u==null&&(u=wy=(f[6]<<8|f[7])&16383)}var p=n.msecs!==void 0?n.msecs:Date.now(),w=n.nsecs!==void 0?n.nsecs:_y+1,b=p-vy+(w-_y)/1e4;if(b<0&&n.clockseq===void 0&&(u=u+1&16383),(b<0||p>vy)&&n.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");vy=p,_y=w,wy=u,p+=122192928e5;var T=((p&268435455)*1e4+w)%4294967296;s[r++]=T>>>24&255,s[r++]=T>>>16&255,s[r++]=T>>>8&255,s[r++]=T&255;var B=p/4294967296*1e4&268435455;s[r++]=B>>>8&255,s[r++]=B&255,s[r++]=B>>>24&15|16,s[r++]=B>>>16&255,s[r++]=u>>>8|128,s[r++]=u&255;for(var M=0;M<6;++M)s[r+M]=i[M];return t||m0(s)}function QA(n){if(!y0(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function XP(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var eD="6ba7b810-9dad-11d1-80b4-00c04fd430c8",tD="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function JA(n,t,e){function r(s,i,u,f){if(typeof s=="string"&&(s=XP(s)),typeof i=="string"&&(i=QA(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+s.length);if(p.set(i),p.set(s,i.length),p=e(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,u){f=f||0;for(var w=0;w<16;++w)u[f+w]=p[w];return u}return m0(p)}try{r.name=n}catch{}return r.DNS=eD,r.URL=tD,r}function nD(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return rD(iD(sD(n),n.length*8))}function rD(n){for(var t=[],e=n.length*32,r="0123456789abcdef",s=0;s<e;s+=8){var i=n[s>>5]>>>s%32&255,u=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(u)}return t}function XA(n){return(n+64>>>9<<4)+14+1}function iD(n,t){n[t>>5]|=128<<t%32,n[XA(t)-1]=t;for(var e=1732584193,r=-271733879,s=-1732584194,i=271733878,u=0;u<n.length;u+=16){var f=e,p=r,w=s,b=i;e=Rr(e,r,s,i,n[u],7,-680876936),i=Rr(i,e,r,s,n[u+1],12,-389564586),s=Rr(s,i,e,r,n[u+2],17,606105819),r=Rr(r,s,i,e,n[u+3],22,-1044525330),e=Rr(e,r,s,i,n[u+4],7,-176418897),i=Rr(i,e,r,s,n[u+5],12,1200080426),s=Rr(s,i,e,r,n[u+6],17,-1473231341),r=Rr(r,s,i,e,n[u+7],22,-45705983),e=Rr(e,r,s,i,n[u+8],7,1770035416),i=Rr(i,e,r,s,n[u+9],12,-1958414417),s=Rr(s,i,e,r,n[u+10],17,-42063),r=Rr(r,s,i,e,n[u+11],22,-1990404162),e=Rr(e,r,s,i,n[u+12],7,1804603682),i=Rr(i,e,r,s,n[u+13],12,-40341101),s=Rr(s,i,e,r,n[u+14],17,-1502002290),r=Rr(r,s,i,e,n[u+15],22,1236535329),e=Tr(e,r,s,i,n[u+1],5,-165796510),i=Tr(i,e,r,s,n[u+6],9,-1069501632),s=Tr(s,i,e,r,n[u+11],14,643717713),r=Tr(r,s,i,e,n[u],20,-373897302),e=Tr(e,r,s,i,n[u+5],5,-701558691),i=Tr(i,e,r,s,n[u+10],9,38016083),s=Tr(s,i,e,r,n[u+15],14,-660478335),r=Tr(r,s,i,e,n[u+4],20,-405537848),e=Tr(e,r,s,i,n[u+9],5,568446438),i=Tr(i,e,r,s,n[u+14],9,-1019803690),s=Tr(s,i,e,r,n[u+3],14,-187363961),r=Tr(r,s,i,e,n[u+8],20,1163531501),e=Tr(e,r,s,i,n[u+13],5,-1444681467),i=Tr(i,e,r,s,n[u+2],9,-51403784),s=Tr(s,i,e,r,n[u+7],14,1735328473),r=Tr(r,s,i,e,n[u+12],20,-1926607734),e=Nr(e,r,s,i,n[u+5],4,-378558),i=Nr(i,e,r,s,n[u+8],11,-2022574463),s=Nr(s,i,e,r,n[u+11],16,1839030562),r=Nr(r,s,i,e,n[u+14],23,-35309556),e=Nr(e,r,s,i,n[u+1],4,-1530992060),i=Nr(i,e,r,s,n[u+4],11,1272893353),s=Nr(s,i,e,r,n[u+7],16,-155497632),r=Nr(r,s,i,e,n[u+10],23,-1094730640),e=Nr(e,r,s,i,n[u+13],4,681279174),i=Nr(i,e,r,s,n[u],11,-358537222),s=Nr(s,i,e,r,n[u+3],16,-722521979),r=Nr(r,s,i,e,n[u+6],23,76029189),e=Nr(e,r,s,i,n[u+9],4,-640364487),i=Nr(i,e,r,s,n[u+12],11,-421815835),s=Nr(s,i,e,r,n[u+15],16,530742520),r=Nr(r,s,i,e,n[u+2],23,-995338651),e=Br(e,r,s,i,n[u],6,-198630844),i=Br(i,e,r,s,n[u+7],10,1126891415),s=Br(s,i,e,r,n[u+14],15,-1416354905),r=Br(r,s,i,e,n[u+5],21,-57434055),e=Br(e,r,s,i,n[u+12],6,1700485571),i=Br(i,e,r,s,n[u+3],10,-1894986606),s=Br(s,i,e,r,n[u+10],15,-1051523),r=Br(r,s,i,e,n[u+1],21,-2054922799),e=Br(e,r,s,i,n[u+8],6,1873313359),i=Br(i,e,r,s,n[u+15],10,-30611744),s=Br(s,i,e,r,n[u+6],15,-1560198380),r=Br(r,s,i,e,n[u+13],21,1309151649),e=Br(e,r,s,i,n[u+4],6,-145523070),i=Br(i,e,r,s,n[u+11],10,-1120210379),s=Br(s,i,e,r,n[u+2],15,718787259),r=Br(r,s,i,e,n[u+9],21,-343485551),e=Ho(e,f),r=Ho(r,p),s=Ho(s,w),i=Ho(i,b)}return[e,r,s,i]}function sD(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(XA(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function Ho(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function oD(n,t){return n<<t|n>>>32-t}function w0(n,t,e,r,s,i){return Ho(oD(Ho(Ho(t,n),Ho(r,i)),s),e)}function Rr(n,t,e,r,s,i,u){return w0(t&e|~t&r,n,t,s,i,u)}function Tr(n,t,e,r,s,i,u){return w0(t&r|e&~r,n,t,s,i,u)}function Nr(n,t,e,r,s,i,u){return w0(t^e^r,n,t,s,i,u)}function Br(n,t,e,r,s,i,u){return w0(e^(t|~r),n,t,s,i,u)}var aD=JA("v3",48,nD);function uD(n,t,e){n=n||{};var r=n.random||(n.rng||YA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=r[s];return t}return m0(r)}function cD(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function by(n,t){return n<<t|n>>>32-t}function lD(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,u=Math.ceil(i/16),f=new Array(u),p=0;p<u;++p){for(var w=new Uint32Array(16),b=0;b<16;++b)w[b]=n[p*64+b*4]<<24|n[p*64+b*4+1]<<16|n[p*64+b*4+2]<<8|n[p*64+b*4+3];f[p]=w}f[u-1][14]=(n.length-1)*8/Math.pow(2,32),f[u-1][14]=Math.floor(f[u-1][14]),f[u-1][15]=(n.length-1)*8&4294967295;for(var T=0;T<u;++T){for(var B=new Uint32Array(80),M=0;M<16;++M)B[M]=f[T][M];for(var O=16;O<80;++O)B[O]=by(B[O-3]^B[O-8]^B[O-14]^B[O-16],1);for(var P=e[0],N=e[1],$=e[2],j=e[3],F=e[4],Y=0;Y<80;++Y){var J=Math.floor(Y/20),X=by(P,5)+cD(J,N,$,j)+F+t[J]+B[Y]>>>0;F=j,j=$,$=by(N,30)>>>0,N=P,P=X}e[0]=e[0]+P>>>0,e[1]=e[1]+N>>>0,e[2]=e[2]+$>>>0,e[3]=e[3]+j>>>0,e[4]=e[4]+F>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var fD=JA("v5",80,lD);const hD="00000000-0000-0000-0000-000000000000";function dD(n){if(!y0(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const pD=Object.freeze(Object.defineProperty({__proto__:null,NIL:hD,parse:QA,stringify:m0,v1:JP,v3:aD,v4:uD,v5:fD,validate:y0,version:dD},Symbol.toStringTag,{value:"Module"})),eI=oc(pD);var Ey,$S;function gD(){if($S)return Ey;$S=1;const n=eI.v4;return Ey=function(e,r,s,i){if(typeof e!="string")throw new TypeError(e+" must be a string");i=i||{};const u=typeof i.version=="number"?i.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const f={method:e};if(u===2&&(f.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");f.params=r}if(typeof s>"u"){const p=typeof i.generator=="function"?i.generator:function(){return n()};f.id=p(f,i)}else u===2&&s===null?i.notificationIdNull&&(f.id=null):f.id=s;return f},Ey}var Sy,jS;function yD(){if(jS)return Sy;jS=1;const n=eI.v4,t=gD(),e=function(r,s){if(!(this instanceof e))return new e(r,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return n()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=r};return Sy=e,e.prototype.request=function(r,s,i,u){const f=this;let p=null;const w=Array.isArray(r)&&typeof s=="function";if(this.options.version===1&&w)throw new TypeError("JSON-RPC 1.0 does not support batching");if(w||!w&&r&&typeof r=="object"&&typeof s=="function")u=s,p=r;else{typeof i=="function"&&(u=i,i=void 0);const B=typeof u=="function";try{p=t(r,s,i,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(M){if(B)return u(M);throw M}if(!B)return p}let T;try{T=JSON.stringify(p,this.options.replacer)}catch(B){return u(B)}return this.callServer(T,function(B,M){f._parseResponse(B,M,u)}),p},e.prototype._parseResponse=function(r,s,i){if(r){i(r);return}if(!s)return i();let u;try{u=JSON.parse(s,this.options.reviver)}catch(f){return i(f)}if(i.length===3)if(Array.isArray(u)){const f=function(w){return typeof w.error<"u"},p=function(w){return!f(w)};return i(null,u.filter(f),u.filter(p))}else return i(null,u.error,u.result);i(null,u)},Sy}var mD=yD();const wD=ss(mD);var xy={exports:{}},HS;function vD(){return HS||(HS=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(p,w,b){this.fn=p,this.context=w,this.once=b||!1}function i(p,w,b,T,B){if(typeof b!="function")throw new TypeError("The listener must be a function");var M=new s(b,T||p,B),O=e?e+w:w;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],M]:p._events[O].push(M):(p._events[O]=M,p._eventsCount++),p}function u(p,w){--p._eventsCount===0?p._events=new r:delete p._events[w]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var w=[],b,T;if(this._eventsCount===0)return w;for(T in b=this._events)t.call(b,T)&&w.push(e?T.slice(1):T);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(b)):w},f.prototype.listeners=function(w){var b=e?e+w:w,T=this._events[b];if(!T)return[];if(T.fn)return[T.fn];for(var B=0,M=T.length,O=new Array(M);B<M;B++)O[B]=T[B].fn;return O},f.prototype.listenerCount=function(w){var b=e?e+w:w,T=this._events[b];return T?T.fn?1:T.length:0},f.prototype.emit=function(w,b,T,B,M,O){var P=e?e+w:w;if(!this._events[P])return!1;var N=this._events[P],$=arguments.length,j,F;if(N.fn){switch(N.once&&this.removeListener(w,N.fn,void 0,!0),$){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,b),!0;case 3:return N.fn.call(N.context,b,T),!0;case 4:return N.fn.call(N.context,b,T,B),!0;case 5:return N.fn.call(N.context,b,T,B,M),!0;case 6:return N.fn.call(N.context,b,T,B,M,O),!0}for(F=1,j=new Array($-1);F<$;F++)j[F-1]=arguments[F];N.fn.apply(N.context,j)}else{var Y=N.length,J;for(F=0;F<Y;F++)switch(N[F].once&&this.removeListener(w,N[F].fn,void 0,!0),$){case 1:N[F].fn.call(N[F].context);break;case 2:N[F].fn.call(N[F].context,b);break;case 3:N[F].fn.call(N[F].context,b,T);break;case 4:N[F].fn.call(N[F].context,b,T,B);break;default:if(!j)for(J=1,j=new Array($-1);J<$;J++)j[J-1]=arguments[J];N[F].fn.apply(N[F].context,j)}}return!0},f.prototype.on=function(w,b,T){return i(this,w,b,T,!1)},f.prototype.once=function(w,b,T){return i(this,w,b,T,!0)},f.prototype.removeListener=function(w,b,T,B){var M=e?e+w:w;if(!this._events[M])return this;if(!b)return u(this,M),this;var O=this._events[M];if(O.fn)O.fn===b&&(!B||O.once)&&(!T||O.context===T)&&u(this,M);else{for(var P=0,N=[],$=O.length;P<$;P++)(O[P].fn!==b||B&&!O[P].once||T&&O[P].context!==T)&&N.push(O[P]);N.length?this._events[M]=N.length===1?N[0]:N:u(this,M)}return this},f.prototype.removeAllListeners=function(w){var b;return w?(b=e?e+w:w,this._events[b]&&u(this,b)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,n.exports=f}(xy)),xy.exports}var _D=vD();const tI=ss(_D);var bD=class extends tI{constructor(t,e,r){super();Ht(this,"socket");this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,e,r){const s=r||e;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function ED(n,t){return new bD(n,t)}var SD=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},xD=class extends tI{constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:u=5,...f}={},p,w){super();Ht(this,"address");Ht(this,"rpc_id");Ht(this,"queue");Ht(this,"options");Ht(this,"autoconnect");Ht(this,"ready");Ht(this,"reconnect");Ht(this,"reconnect_timer_id");Ht(this,"reconnect_interval");Ht(this,"max_reconnects");Ht(this,"rest_options");Ht(this,"current_reconnects");Ht(this,"generate_request_id");Ht(this,"socket");Ht(this,"webSocketFactory");Ht(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=u,this.rest_options=f,this.current_reconnects=0,this.generate_request_id=p||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),w?this.dataPack=w:this.dataPack=new SD,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,u)=>{if(!this.ready)return u(new Error("socket not ready"));const f=this.generate_request_id(t,e),p={jsonrpc:"2.0",method:t,params:e||void 0,id:f};this.socket.send(this.dataPack.encode(p),s,w=>{if(w)return u(w);this.queue[f]={promise:[i,u]},r&&(this.queue[f].timeout=setTimeout(()=>{delete this.queue[f],u(new Error("reply timeout"))},r))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),u=>{if(u)return s(u);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=zt.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}};class nI extends CA{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,l5(t);const r=dw(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let u=0;u<i.length;u++)i[u]^=54;this.iHash.update(i),this.oHash=t.create();for(let u=0;u<i.length;u++)i[u]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ad(this),this.iHash.update(t),this}digestInto(t){Ad(this),l0(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:i,blockLen:u,outputLen:f}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=u,t.outputLen=f,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rI=(n,t,e)=>new nI(n,t).update(e).digest();rI.create=(n,t)=>new nI(n,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WS(n){n.lowS!==void 0&&ro("lowS",n.lowS),n.prehash!==void 0&&ro("prehash",n.prehash)}function kD(n){const t=yw(n);wc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:r,a:s}=t;if(e){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:AD,hexToBytes:ID}=Q5;class MD extends Error{constructor(t=""){super(t)}}const Ks={Err:MD,_tlv:{encode:(n,t)=>{const{Err:e}=Ks;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const r=t.length/2,s=Ou(r);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=r>127?Ou(s.length/2|128):"";return Ou(n)+i+s+t},decode(n,t){const{Err:e}=Ks;let r=0;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[r++]!==n)throw new e("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let u=0;if(!i)u=s;else{const p=s&127;if(!p)throw new e("tlv.decode(long): indefinite length not supported");if(p>4)throw new e("tlv.decode(long): byte length is too big");const w=t.subarray(r,r+p);if(w.length!==p)throw new e("tlv.decode: length bytes not complete");if(w[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const b of w)u=u<<8|b;if(r+=p,u<128)throw new e("tlv.decode(long): not minimal encoding")}const f=t.subarray(r,r+u);if(f.length!==u)throw new e("tlv.decode: wrong value length");return{v:f,l:t.subarray(r+u)}}},_int:{encode(n){const{Err:t}=Ks;if(n<Js)throw new t("integer: negative integers are not allowed");let e=Ou(n);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(n){const{Err:t}=Ks;if(n[0]&128)throw new t("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return AD(n)}},toSig(n){const{Err:t,_int:e,_tlv:r}=Ks,s=typeof n=="string"?ID(n):n;uf(s);const{v:i,l:u}=r.decode(48,s);if(u.length)throw new t("invalid signature: left bytes after parsing");const{v:f,l:p}=r.decode(2,i),{v:w,l:b}=r.decode(2,p);if(b.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(f),s:e.decode(w)}},hexFromSig(n){const{_tlv:t,_int:e}=Ks,r=t.encode(2,e.encode(n.r)),s=t.encode(2,e.encode(n.s)),i=r+s;return t.encode(48,i)}},Js=BigInt(0),rr=BigInt(1);BigInt(2);const qS=BigInt(3);BigInt(4);function RD(n){const t=kD(n),{Fp:e}=t,r=p0(t.n,t.nBitLength),s=t.toBytes||((P,N,$)=>{const j=N.toAffine();return Ka(Uint8Array.from([4]),e.toBytes(j.x),e.toBytes(j.y))}),i=t.fromBytes||(P=>{const N=P.subarray(1),$=e.fromBytes(N.subarray(0,e.BYTES)),j=e.fromBytes(N.subarray(e.BYTES,2*e.BYTES));return{x:$,y:j}});function u(P){const{a:N,b:$}=t,j=e.sqr(P),F=e.mul(j,P);return e.add(e.add(F,e.mul(P,N)),$)}if(!e.eql(e.sqr(t.Gy),u(t.Gx)))throw new Error("bad generator point: equation left != right");function f(P){return d0(P,rr,t.n)}function p(P){const{allowedPrivateKeyLengths:N,nByteLength:$,wrapPrivateKey:j,n:F}=t;if(N&&typeof P!="bigint"){if(Wa(P)&&(P=qa(P)),typeof P!="string"||!N.includes(P.length))throw new Error("invalid private key");P=P.padStart($*2,"0")}let Y;try{Y=typeof P=="bigint"?P:Da(Wn("private key",P,$))}catch{throw new Error("invalid private key, expected hex or "+$+" bytes, got "+typeof P)}return j&&(Y=En(Y,F)),zi("private key",Y,rr,F),Y}function w(P){if(!(P instanceof B))throw new Error("ProjectivePoint expected")}const b=$l((P,N)=>{const{px:$,py:j,pz:F}=P;if(e.eql(F,e.ONE))return{x:$,y:j};const Y=P.is0();N==null&&(N=Y?e.ONE:e.inv(F));const J=e.mul($,N),X=e.mul(j,N),te=e.mul(F,N);if(Y)return{x:e.ZERO,y:e.ZERO};if(!e.eql(te,e.ONE))throw new Error("invZ was invalid");return{x:J,y:X}}),T=$l(P=>{if(P.is0()){if(t.allowInfinityPoint&&!e.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:N,y:$}=P.toAffine();if(!e.isValid(N)||!e.isValid($))throw new Error("bad point: x or y not FE");const j=e.sqr($),F=u(N);if(!e.eql(j,F))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class B{constructor(N,$,j){if(this.px=N,this.py=$,this.pz=j,N==null||!e.isValid(N))throw new Error("x required");if($==null||!e.isValid($))throw new Error("y required");if(j==null||!e.isValid(j))throw new Error("z required");Object.freeze(this)}static fromAffine(N){const{x:$,y:j}=N||{};if(!N||!e.isValid($)||!e.isValid(j))throw new Error("invalid affine point");if(N instanceof B)throw new Error("projective point not allowed");const F=Y=>e.eql(Y,e.ZERO);return F($)&&F(j)?B.ZERO:new B($,j,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const $=e.invertBatch(N.map(j=>j.pz));return N.map((j,F)=>j.toAffine($[F])).map(B.fromAffine)}static fromHex(N){const $=B.fromAffine(i(Wn("pointHex",N)));return $.assertValidity(),$}static fromPrivateKey(N){return B.BASE.multiply(p(N))}static msm(N,$){return KA(B,r,N,$)}_setWindowSize(N){O.setWindowSize(this,N)}assertValidity(){T(this)}hasEvenY(){const{y:N}=this.toAffine();if(e.isOdd)return!e.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){w(N);const{px:$,py:j,pz:F}=this,{px:Y,py:J,pz:X}=N,te=e.eql(e.mul($,X),e.mul(Y,F)),re=e.eql(e.mul(j,X),e.mul(J,F));return te&&re}negate(){return new B(this.px,e.neg(this.py),this.pz)}double(){const{a:N,b:$}=t,j=e.mul($,qS),{px:F,py:Y,pz:J}=this;let X=e.ZERO,te=e.ZERO,re=e.ZERO,W=e.mul(F,F),q=e.mul(Y,Y),K=e.mul(J,J),V=e.mul(F,Y);return V=e.add(V,V),re=e.mul(F,J),re=e.add(re,re),X=e.mul(N,re),te=e.mul(j,K),te=e.add(X,te),X=e.sub(q,te),te=e.add(q,te),te=e.mul(X,te),X=e.mul(V,X),re=e.mul(j,re),K=e.mul(N,K),V=e.sub(W,K),V=e.mul(N,V),V=e.add(V,re),re=e.add(W,W),W=e.add(re,W),W=e.add(W,K),W=e.mul(W,V),te=e.add(te,W),K=e.mul(Y,J),K=e.add(K,K),W=e.mul(K,V),X=e.sub(X,W),re=e.mul(K,q),re=e.add(re,re),re=e.add(re,re),new B(X,te,re)}add(N){w(N);const{px:$,py:j,pz:F}=this,{px:Y,py:J,pz:X}=N;let te=e.ZERO,re=e.ZERO,W=e.ZERO;const q=t.a,K=e.mul(t.b,qS);let V=e.mul($,Y),S=e.mul(j,J),a=e.mul(F,X),h=e.add($,j),m=e.add(Y,J);h=e.mul(h,m),m=e.add(V,S),h=e.sub(h,m),m=e.add($,F);let E=e.add(Y,X);return m=e.mul(m,E),E=e.add(V,a),m=e.sub(m,E),E=e.add(j,F),te=e.add(J,X),E=e.mul(E,te),te=e.add(S,a),E=e.sub(E,te),W=e.mul(q,m),te=e.mul(K,a),W=e.add(te,W),te=e.sub(S,W),W=e.add(S,W),re=e.mul(te,W),S=e.add(V,V),S=e.add(S,V),a=e.mul(q,a),m=e.mul(K,m),S=e.add(S,a),a=e.sub(V,a),a=e.mul(q,a),m=e.add(m,a),V=e.mul(S,m),re=e.add(re,V),V=e.mul(E,m),te=e.mul(h,te),te=e.sub(te,V),V=e.mul(h,S),W=e.mul(E,W),W=e.add(W,V),new B(te,re,W)}subtract(N){return this.add(N.negate())}is0(){return this.equals(B.ZERO)}wNAF(N){return O.wNAFCached(this,N,B.normalizeZ)}multiplyUnsafe(N){const{endo:$,n:j}=t;zi("scalar",N,Js,j);const F=B.ZERO;if(N===Js)return F;if(this.is0()||N===rr)return this;if(!$||O.hasPrecomputes(this))return O.wNAFCachedUnsafe(this,N,B.normalizeZ);let{k1neg:Y,k1:J,k2neg:X,k2:te}=$.splitScalar(N),re=F,W=F,q=this;for(;J>Js||te>Js;)J&rr&&(re=re.add(q)),te&rr&&(W=W.add(q)),q=q.double(),J>>=rr,te>>=rr;return Y&&(re=re.negate()),X&&(W=W.negate()),W=new B(e.mul(W.px,$.beta),W.py,W.pz),re.add(W)}multiply(N){const{endo:$,n:j}=t;zi("scalar",N,rr,j);let F,Y;if($){const{k1neg:J,k1:X,k2neg:te,k2:re}=$.splitScalar(N);let{p:W,f:q}=this.wNAF(X),{p:K,f:V}=this.wNAF(re);W=O.constTimeNegate(J,W),K=O.constTimeNegate(te,K),K=new B(e.mul(K.px,$.beta),K.py,K.pz),F=W.add(K),Y=q.add(V)}else{const{p:J,f:X}=this.wNAF(N);F=J,Y=X}return B.normalizeZ([F,Y])[0]}multiplyAndAddUnsafe(N,$,j){const F=B.BASE,Y=(X,te)=>te===Js||te===rr||!X.equals(F)?X.multiplyUnsafe(te):X.multiply(te),J=Y(this,$).add(Y(N,j));return J.is0()?void 0:J}toAffine(N){return b(this,N)}isTorsionFree(){const{h:N,isTorsionFree:$}=t;if(N===rr)return!0;if($)return $(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:$}=t;return N===rr?this:$?$(B,this):this.multiplyUnsafe(t.h)}toRawBytes(N=!0){return ro("isCompressed",N),this.assertValidity(),s(B,this,N)}toHex(N=!0){return ro("isCompressed",N),qa(this.toRawBytes(N))}}B.BASE=new B(t.Gx,t.Gy,e.ONE),B.ZERO=new B(e.ZERO,e.ONE,e.ZERO);const M=t.nBitLength,O=qA(B,t.endo?Math.ceil(M/2):M);return{CURVE:t,ProjectivePoint:B,normPrivateKeyToScalar:p,weierstrassEquation:u,isWithinCurveOrder:f}}function TD(n){const t=yw(n);return wc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function ND(n){const t=TD(n),{Fp:e,n:r}=t,s=e.BYTES+1,i=2*e.BYTES+1;function u(a){return En(a,r)}function f(a){return Zm(a,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:T}=RD({...t,toBytes(a,h,m){const E=h.toAffine(),A=e.toBytes(E.x),I=Ka;return ro("isCompressed",m),m?I(Uint8Array.from([h.hasEvenY()?2:3]),A):I(Uint8Array.from([4]),A,e.toBytes(E.y))},fromBytes(a){const h=a.length,m=a[0],E=a.subarray(1);if(h===s&&(m===2||m===3)){const A=Da(E);if(!d0(A,rr,e.ORDER))throw new Error("Point is not on curve");const I=b(A);let k;try{k=e.sqrt(I)}catch(d){const R=d instanceof Error?": "+d.message:"";throw new Error("Point is not on curve"+R)}const g=(k&rr)===rr;return(m&1)===1!==g&&(k=e.neg(k)),{x:A,y:k}}else if(h===i&&m===4){const A=e.fromBytes(E.subarray(0,e.BYTES)),I=e.fromBytes(E.subarray(e.BYTES,2*e.BYTES));return{x:A,y:I}}else{const A=s,I=i;throw new Error("invalid Point, expected length of "+A+", or uncompressed "+I+", got "+h)}}}),B=a=>qa(nc(a,t.nByteLength));function M(a){const h=r>>rr;return a>h}function O(a){return M(a)?u(-a):a}const P=(a,h,m)=>Da(a.slice(h,m));class N{constructor(h,m,E){this.r=h,this.s=m,this.recovery=E,this.assertValidity()}static fromCompact(h){const m=t.nByteLength;return h=Wn("compactSignature",h,m*2),new N(P(h,0,m),P(h,m,2*m))}static fromDER(h){const{r:m,s:E}=Ks.toSig(Wn("DER",h));return new N(m,E)}assertValidity(){zi("r",this.r,rr,r),zi("s",this.s,rr,r)}addRecoveryBit(h){return new N(this.r,this.s,h)}recoverPublicKey(h){const{r:m,s:E,recovery:A}=this,I=X(Wn("msgHash",h));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const k=A===2||A===3?m+t.n:m;if(k>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const g=A&1?"03":"02",c=p.fromHex(g+B(k)),d=f(k),R=u(-I*d),D=u(E*d),H=p.BASE.multiplyAndAddUnsafe(c,R,D);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return tc(this.toDERHex())}toDERHex(){return Ks.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tc(this.toCompactHex())}toCompactHex(){return B(this.r)+B(this.s)}}const $={isValidPrivateKey(a){try{return w(a),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const a=jA(t.n);return aP(t.randomBytes(a),t.n)},precompute(a=8,h=p.BASE){return h._setWindowSize(a),h.multiply(BigInt(3)),h}};function j(a,h=!0){return p.fromPrivateKey(a).toRawBytes(h)}function F(a){const h=Wa(a),m=typeof a=="string",E=(h||m)&&a.length;return h?E===s||E===i:m?E===2*s||E===2*i:a instanceof p}function Y(a,h,m=!0){if(F(a))throw new Error("first arg must be private key");if(!F(h))throw new Error("second arg must be public key");return p.fromHex(h).multiply(w(a)).toRawBytes(m)}const J=t.bits2int||function(a){if(a.length>8192)throw new Error("input is too large");const h=Da(a),m=a.length*8-t.nBitLength;return m>0?h>>BigInt(m):h},X=t.bits2int_modN||function(a){return u(J(a))},te=gw(t.nBitLength);function re(a){return zi("num < 2^"+t.nBitLength,a,Js,te),nc(a,t.nByteLength)}function W(a,h,m=q){if(["recovered","canonical"].some(oe=>oe in m))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:A}=t;let{lowS:I,prehash:k,extraEntropy:g}=m;I==null&&(I=!0),a=Wn("msgHash",a),WS(m),k&&(a=Wn("prehashed msgHash",E(a)));const c=X(a),d=w(h),R=[re(d),re(c)];if(g!=null&&g!==!1){const oe=g===!0?A(e.BYTES):g;R.push(Wn("extraEntropy",oe))}const D=Ka(...R),H=c;function ee(oe){const fe=J(oe);if(!T(fe))return;const Ue=f(fe),Se=p.BASE.multiply(fe).toAffine(),xe=u(Se.x);if(xe===Js)return;const Bt=u(Ue*u(H+xe*d));if(Bt===Js)return;let Re=(Se.x===xe?0:2)|Number(Se.y&rr),Be=Bt;return I&&M(Bt)&&(Be=O(Bt),Re^=1),new N(xe,Be,Re)}return{seed:D,k2sig:ee}}const q={lowS:t.lowS,prehash:!1},K={lowS:t.lowS,prehash:!1};function V(a,h,m=q){const{seed:E,k2sig:A}=W(a,h,m),I=t;return zA(I.hash.outputLen,I.nByteLength,I.hmac)(E,A)}p.BASE._setWindowSize(8);function S(a,h,m,E=K){var Re;const A=a;h=Wn("msgHash",h),m=Wn("publicKey",m);const{lowS:I,prehash:k,format:g}=E;if(WS(E),"strict"in E)throw new Error("options.strict was renamed to lowS");if(g!==void 0&&g!=="compact"&&g!=="der")throw new Error("format must be compact or der");const c=typeof A=="string"||Wa(A),d=!c&&!g&&typeof A=="object"&&A!==null&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!c&&!d)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let R,D;try{if(d&&(R=new N(A.r,A.s)),c){try{g!=="compact"&&(R=N.fromDER(A))}catch(Be){if(!(Be instanceof Ks.Err))throw Be}!R&&g!=="der"&&(R=N.fromCompact(A))}D=p.fromHex(m)}catch{return!1}if(!R||I&&R.hasHighS())return!1;k&&(h=t.hash(h));const{r:H,s:ee}=R,oe=X(h),fe=f(ee),Ue=u(oe*fe),Se=u(H*fe),xe=(Re=p.BASE.multiplyAndAddUnsafe(D,Ue,Se))==null?void 0:Re.toAffine();return xe?u(xe.x)===H:!1}return{CURVE:t,getPublicKey:j,getSharedSecret:Y,sign:V,verify:S,ProjectivePoint:p,Signature:N,utils:$}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BD(n){return{hash:n,hmac:(t,...e)=>rI(n,t,d5(...e)),randomBytes:OA}}function CD(n,t){const e=r=>ND({...n,...BD(r)});return{...e(t),create:e}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iI=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),KS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),LD=BigInt(1),Qm=BigInt(2),VS=(n,t)=>(n+t/Qm)/t;function OD(n){const t=iI,e=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),u=BigInt(23),f=BigInt(44),p=BigInt(88),w=n*n*n%t,b=w*w*n%t,T=Pn(b,e,t)*b%t,B=Pn(T,e,t)*b%t,M=Pn(B,Qm,t)*w%t,O=Pn(M,s,t)*M%t,P=Pn(O,i,t)*O%t,N=Pn(P,f,t)*P%t,$=Pn(N,p,t)*N%t,j=Pn($,f,t)*P%t,F=Pn(j,e,t)*b%t,Y=Pn(F,u,t)*O%t,J=Pn(Y,r,t)*w%t,X=Pn(J,Qm,t);if(!Jm.eql(Jm.sqr(X),n))throw new Error("Cannot find square root");return X}const Jm=p0(iI,void 0,void 0,{sqrt:OD}),PD=CD({a:BigInt(0),b:BigInt(7),Fp:Jm,n:KS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=KS,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-LD*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,u=BigInt("0x100000000000000000000000000000000"),f=VS(i*n,t),p=VS(-r*n,t);let w=En(n-f*e-p*s,t),b=En(-f*r-p*i,t);const T=w>u,B=b>u;if(T&&(w=t-w),B&&(b=t-b),w>u||b>u)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:T,k1:w,k2neg:B,k2:b}}}},Ym);BigInt(0);function GS(n){try{return ww.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sI=(n,t)=>ww.sign(n,t.slice(0,32)),DD=ww.verify,ic=n=>zt.Buffer.isBuffer(n)?n:n instanceof Uint8Array?zt.Buffer.from(n.buffer,n.byteOffset,n.byteLength):zt.Buffer.from(n);class UD{constructor(t){Object.assign(this,t)}encode(){return zt.Buffer.from(yy.serialize(od,this))}static decode(t){return yy.deserialize(od,this,t)}static decodeUnchecked(t){return yy.deserializeUnchecked(od,this,t)}}const od=new Map;var oI;const zD=32,Xo=32;function FD(n){return n._bn!==void 0}let ZS=1;class At extends UD{constructor(t){if(super({}),this._bn=void 0,FD(t))this._bn=t._bn;else{if(typeof t=="string"){const e=yr.decode(t);if(e.length!=Xo)throw new Error("Invalid public key input");this._bn=new RS(e)}else this._bn=new RS(t);if(this._bn.byteLength()>Xo)throw new Error("Invalid public key input")}}static unique(){const t=new At(ZS);return ZS+=1,new At(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return yr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(zt.Buffer);if(t.length===Xo)return t;const e=zt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const s=zt.Buffer.concat([t.toBuffer(),zt.Buffer.from(e),r.toBuffer()]),i=Ym(s);return new At(i)}static createProgramAddressSync(t,e){let r=zt.Buffer.alloc(0);t.forEach(function(i){if(i.length>zD)throw new TypeError("Max seed length exceeded");r=zt.Buffer.concat([r,ic(i)])}),r=zt.Buffer.concat([r,e.toBuffer(),zt.Buffer.from("ProgramDerivedAddress")]);const s=Ym(r);if(GS(s))throw new Error("Invalid seeds, address must fall off the curve");return new At(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,s;for(;r!=0;){try{const i=t.concat(zt.Buffer.from([r]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new At(t);return GS(e.toBytes())}}oI=At;At.default=new oI("11111111111111111111111111111111");od.set(At,{kind:"struct",fields:[["_bn","u256"]]});new At("BPFLoader1111111111111111111111111111111111");const qu=1232,Sw=127,jl=64;class aI extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(aI.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class uI extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(uI.prototype,"name",{value:"TransactionExpiredTimeoutError"});class yl extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(yl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Bd{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,u)=>{r.set(i.toBase58(),u)});const s=i=>{const u=r.get(i.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(u=>s(u.pubkey)),data:i.data}))}}const qt=(n="publicKey")=>ae.blob(32,n),$D=(n="signature")=>ae.blob(64,n),Pu=(n="string")=>{const t=ae.struct([ae.u32("length"),ae.u32("lengthPadding"),ae.blob(ae.offset(ae.u32(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,u)=>e(i,u).chars.toString(),s.encode=(i,u,f)=>{const p={chars:zt.Buffer.from(i,"utf8")};return r(p,u,f)},s.alloc=i=>ae.u32().span+ae.u32().span+zt.Buffer.from(i,"utf8").length,s},jD=(n="authorized")=>ae.struct([qt("staker"),qt("withdrawer")],n),HD=(n="lockup")=>ae.struct([ae.ns64("unixTimestamp"),ae.ns64("epoch"),qt("custodian")],n),WD=(n="voteInit")=>ae.struct([qt("nodePubkey"),qt("authorizedVoter"),qt("authorizedWithdrawer"),ae.u8("commission")],n),qD=(n="voteAuthorizeWithSeedArgs")=>ae.struct([ae.u32("voteAuthorizationType"),qt("currentAuthorityDerivedKeyOwnerPubkey"),Pu("currentAuthorityDerivedKeySeed"),qt("newAuthorized")],n);function xi(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function ki(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function _n(n,t){if(!n)throw new Error(t||"Assertion failed")}class v0{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,s=u=>{const f=u.toBase58();let p=r.get(f);return p===void 0&&(p={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(f,p)),p},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const u of t){s(u.programId).isInvoked=!0;for(const f of u.keys){const p=s(f.pubkey);p.isSigner||(p.isSigner=f.isSigner),p.isWritable||(p.isWritable=f.isWritable)}}return new v0(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];_n(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,p])=>p.isSigner&&p.isWritable),r=t.filter(([,p])=>p.isSigner&&!p.isWritable),s=t.filter(([,p])=>!p.isSigner&&p.isWritable),i=t.filter(([,p])=>!p.isSigner&&!p.isWritable),u={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{_n(e.length>0,"Expected at least one writable signer key");const[p]=e[0];_n(p===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...e.map(([p])=>new At(p)),...r.map(([p])=>new At(p)),...s.map(([p])=>new At(p)),...i.map(([p])=>new At(p))];return[u,f]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,s=new Array;for(const[i,u]of this.keyMetaMap.entries())if(e(u)){const f=new At(i),p=t.findIndex(w=>w.equals(f));p>=0&&(_n(p<256,"Max lookup table index exceeded"),r.push(p),s.push(f),this.keyMetaMap.delete(i))}return[r,s]}}const cI="Reached end of buffer unexpectedly";function Xs(n){if(n.length===0)throw new Error(cI);return n.shift()}function Ai(n,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>n.length:e>=n.length)throw new Error(cI);return n.splice(...t)}class so{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new At(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:yr.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Bd(this.staticAccountKeys)}static compile(t){const e=v0.compile(t.instructions,t.payerKey),[r,s]=e.getMessageComponents(),u=new Bd(s).compileInstructions(t.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:yr.encode(f.data)}));return new so({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:u})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];ki(e,t);const r=this.instructions.map(T=>{const{accounts:B,programIdIndex:M}=T,O=Array.from(yr.decode(T.data));let P=[];ki(P,B.length);let N=[];return ki(N,O.length),{programIdIndex:M,keyIndicesCount:zt.Buffer.from(P),keyIndices:B,dataLength:zt.Buffer.from(N),data:O}});let s=[];ki(s,r.length);let i=zt.Buffer.alloc(qu);zt.Buffer.from(s).copy(i);let u=s.length;r.forEach(T=>{const M=ae.struct([ae.u8("programIdIndex"),ae.blob(T.keyIndicesCount.length,"keyIndicesCount"),ae.seq(ae.u8("keyIndex"),T.keyIndices.length,"keyIndices"),ae.blob(T.dataLength.length,"dataLength"),ae.seq(ae.u8("userdatum"),T.data.length,"data")]).encode(T,i,u);u+=M}),i=i.slice(0,u);const f=ae.struct([ae.blob(1,"numRequiredSignatures"),ae.blob(1,"numReadonlySignedAccounts"),ae.blob(1,"numReadonlyUnsignedAccounts"),ae.blob(e.length,"keyCount"),ae.seq(qt("key"),t,"keys"),qt("recentBlockhash")]),p={numRequiredSignatures:zt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:zt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:zt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:zt.Buffer.from(e),keys:this.accountKeys.map(T=>ic(T.toBytes())),recentBlockhash:yr.decode(this.recentBlockhash)};let w=zt.Buffer.alloc(2048);const b=f.encode(p,w);return i.copy(w,b),w.slice(0,b+i.length)}static from(t){let e=[...t];const r=Xs(e);if(r!==(r&Sw))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Xs(e),i=Xs(e),u=xi(e);let f=[];for(let B=0;B<u;B++){const M=Ai(e,0,Xo);f.push(new At(zt.Buffer.from(M)))}const p=Ai(e,0,Xo),w=xi(e);let b=[];for(let B=0;B<w;B++){const M=Xs(e),O=xi(e),P=Ai(e,0,O),N=xi(e),$=Ai(e,0,N),j=yr.encode(zt.Buffer.from($));b.push({programIdIndex:M,accounts:P,data:j})}const T={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:yr.encode(zt.Buffer.from(p)),accountKeys:f,instructions:b};return new so(T)}}class Hl{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bd(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,i=this.addressTableLookups.reduce((u,f)=>u+f.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,u=r-e-this.header.numReadonlyUnsignedAccounts;return s<u}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=v0.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const b of i){const T=e.extractTableLookup(b);if(T!==void 0){const[B,{writable:M,readonly:O}]=T;r.push(B),s.writable.push(...M),s.readonly.push(...O)}}const[u,f]=e.getMessageComponents(),w=new Bd(f,s).compileInstructions(t.instructions);return new Hl({header:u,staticAccountKeys:f,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:r})}serialize(){const t=Array();ki(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();ki(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();ki(i,this.addressTableLookups.length);const u=ae.struct([ae.u8("prefix"),ae.struct([ae.u8("numRequiredSignatures"),ae.u8("numReadonlySignedAccounts"),ae.u8("numReadonlyUnsignedAccounts")],"header"),ae.blob(t.length,"staticAccountKeysLength"),ae.seq(qt(),this.staticAccountKeys.length,"staticAccountKeys"),qt("recentBlockhash"),ae.blob(r.length,"instructionsLength"),ae.blob(e.length,"serializedInstructions"),ae.blob(i.length,"addressTableLookupsLength"),ae.blob(s.length,"serializedAddressTableLookups")]),f=new Uint8Array(qu),w=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(b=>b.toBytes()),recentBlockhash:yr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},f);return f.slice(0,w)}serializeInstructions(){let t=0;const e=new Uint8Array(qu);for(const r of this.compiledInstructions){const s=Array();ki(s,r.accountKeyIndexes.length);const i=Array();ki(i,r.data.length);const u=ae.struct([ae.u8("programIdIndex"),ae.blob(s.length,"encodedAccountKeyIndexesLength"),ae.seq(ae.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),ae.blob(i.length,"encodedDataLength"),ae.blob(r.data.length,"data")]);t+=u.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(qu);for(const r of this.addressTableLookups){const s=Array();ki(s,r.writableIndexes.length);const i=Array();ki(i,r.readonlyIndexes.length);const u=ae.struct([qt("accountKey"),ae.blob(s.length,"encodedWritableIndexesLength"),ae.seq(ae.u8(),r.writableIndexes.length,"writableIndexes"),ae.blob(i.length,"encodedReadonlyIndexesLength"),ae.seq(ae.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=u.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=Xs(e),s=r&Sw;_n(r!==s,"Expected versioned message but received legacy message");const i=s;_n(i===0,`Expected versioned message with version 0 but found version ${i}`);const u={numRequiredSignatures:Xs(e),numReadonlySignedAccounts:Xs(e),numReadonlyUnsignedAccounts:Xs(e)},f=[],p=xi(e);for(let O=0;O<p;O++)f.push(new At(Ai(e,0,Xo)));const w=yr.encode(Ai(e,0,Xo)),b=xi(e),T=[];for(let O=0;O<b;O++){const P=Xs(e),N=xi(e),$=Ai(e,0,N),j=xi(e),F=new Uint8Array(Ai(e,0,j));T.push({programIdIndex:P,accountKeyIndexes:$,data:F})}const B=xi(e),M=[];for(let O=0;O<B;O++){const P=new At(Ai(e,0,Xo)),N=xi(e),$=Ai(e,0,N),j=xi(e),F=Ai(e,0,j);M.push({accountKey:P,writableIndexes:$,readonlyIndexes:F})}return new Hl({header:u,staticAccountKeys:f,recentBlockhash:w,compiledInstructions:T,addressTableLookups:M})}}const xw={deserializeMessageVersion(n){const t=n[0],e=t&Sw;return e===t?"legacy":e},deserialize:n=>{const t=xw.deserializeMessageVersion(n);if(t==="legacy")return so.from(n);if(t===0)return Hl.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Do=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const KD=zt.Buffer.alloc(jl).fill(0);class YS{constructor(t){this.keys=void 0,this.programId=void 0,this.data=zt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ns{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new YS(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let P=0;P<e.length;P++)if(e[P].programId===void 0)throw new Error(`Transaction instruction index ${P} has undefined program id`);const s=[],i=[];e.forEach(P=>{P.keys.forEach($=>{i.push({...$})});const N=P.programId.toString();s.includes(N)||s.push(N)}),s.forEach(P=>{i.push({pubkey:new At(P),isSigner:!1,isWritable:!1})});const u=[];i.forEach(P=>{const N=P.pubkey.toString(),$=u.findIndex(j=>j.pubkey.toString()===N);$>-1?(u[$].isWritable=u[$].isWritable||P.isWritable,u[$].isSigner=u[$].isSigner||P.isSigner):u.push(P)}),u.sort(function(P,N){if(P.isSigner!==N.isSigner)return P.isSigner?-1:1;if(P.isWritable!==N.isWritable)return P.isWritable?-1:1;const $={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return P.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",$)});const f=u.findIndex(P=>P.pubkey.equals(r));if(f>-1){const[P]=u.splice(f,1);P.isSigner=!0,P.isWritable=!0,u.unshift(P)}else u.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const P of this.signatures){const N=u.findIndex($=>$.pubkey.equals(P.publicKey));if(N>-1)u[N].isSigner||(u[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${P.publicKey.toString()}`)}let p=0,w=0,b=0;const T=[],B=[];u.forEach(({pubkey:P,isSigner:N,isWritable:$})=>{N?(T.push(P.toString()),p+=1,$||(w+=1)):(B.push(P.toString()),$||(b+=1))});const M=T.concat(B),O=e.map(P=>{const{data:N,programId:$}=P;return{programIdIndex:M.indexOf($.toString()),accounts:P.keys.map(j=>M.indexOf(j.pubkey.toString())),data:yr.encode(N)}});return O.forEach(P=>{_n(P.programIdIndex>=0),P.accounts.forEach(N=>_n(N>=0))}),new so({header:{numRequiredSignatures:p,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:b},accountKeys:M,recentBlockhash:t,instructions:O})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const s=r.toString();return e.has(s)?!1:(e.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const u=i.publicKey.toString();e.has(u)||(e.add(u),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const u=i.publicKey.toString();e.has(u)||(e.add(u),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(s=>{const i=sI(r,s.secretKey);this._addSignature(s.publicKey,ic(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){_n(e.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=zt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(r.missing||(r.missing=[])).push(i):DD(s,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,e);if(i){let u="Signature verification failed.";throw i.invalid&&(u+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),i.missing&&(u+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,r=[];ki(r,e.length);const s=r.length+e.length*64+t.length,i=zt.Buffer.alloc(s);return _n(e.length<256),zt.Buffer.from(r).copy(i,0),e.forEach(({signature:u},f)=>{u!==null&&(_n(u.length===64,"signature has invalid length"),zt.Buffer.from(u).copy(i,r.length+f*64))}),t.copy(i,r.length+e.length*64),_n(i.length<=qu,`Transaction too large: ${i.length} > ${qu}`),i}get keys(){return _n(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return _n(this.instructions.length===1),this.instructions[0].programId}get data(){return _n(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=xi(e);let s=[];for(let i=0;i<r;i++){const u=Ai(e,0,jl);s.push(yr.encode(zt.Buffer.from(u)))}return ns.populate(so.from(e),s)}static populate(t,e=[]){const r=new ns;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const u={signature:s==yr.encode(KD)?null:yr.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(u)}),t.instructions.forEach(s=>{const i=s.accounts.map(u=>{const f=t.accountKeys[u];return{pubkey:f,isSigner:r.signatures.some(p=>p.publicKey.toString()===f.toString())||t.isAccountSigner(u),isWritable:t.isAccountWritable(u)}});r.instructions.push(new YS({keys:i,programId:t.accountKeys[s.programIdIndex],data:yr.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}class Wl{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)_n(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(jl));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),e=Array();ki(e,this.signatures.length);const r=ae.struct([ae.blob(e.length,"encodedSignaturesLength"),ae.seq($D(),this.signatures.length,"signatures"),ae.blob(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const r=[],s=xi(e);for(let u=0;u<s;u++)r.push(new Uint8Array(Ai(e,0,jl)));const i=xw.deserialize(new Uint8Array(e));return new Wl(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=r.findIndex(u=>u.equals(s.publicKey));_n(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=sI(e,s.secretKey)}}addSignature(t,e){_n(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));_n(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}}const VD=160,GD=64,ZD=VD/GD,YD=1e3/ZD;new At("SysvarC1ock11111111111111111111111111111111");new At("SysvarEpochSchedu1e111111111111111111111111");new At("Sysvar1nstructions1111111111111111111111111");new At("SysvarRecentB1ockHashes11111111111111111111");new At("SysvarRent111111111111111111111111111111111");new At("SysvarRewards111111111111111111111111111111");new At("SysvarS1otHashes111111111111111111111111111");new At("SysvarS1otHistory11111111111111111111111111");new At("SysvarStakeHistory1111111111111111111111111");class QS extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let f;switch(t){case"send":f=`Transaction ${e} resulted in an error. 
${r}. `+i+u;break;case"simulate":f=`Simulation failed. 
Message: ${r}. 
`+i+u;break;default:f=`Unknown action '${(p=>p)(t)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class xt extends Error{constructor({code:t,message:e,data:r},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function Nu(n){return new Promise(t=>setTimeout(t,n))}const QD=ae.nu64("lamportsPerSignature"),lI=ae.struct([ae.u32("version"),ae.u32("state"),qt("authorizedPubkey"),qt("nonce"),ae.struct([QD],"feeCalculator")]);lI.span;class kw{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=lI.decode(ic(t),0);return new kw({authorizedPubkey:new At(e.authorizedPubkey),nonce:new At(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const JD=n=>{const t=n.decode.bind(n),e=n.encode.bind(n);return{decode:t,encode:e}},XD=n=>t=>{const e=ae.blob(n,t),{encode:r,decode:s}=JD(e),i=e;return i.decode=(u,f)=>{const p=s(u,f);return US.toBigIntLE(zt.Buffer.from(p))},i.encode=(u,f,p)=>{const w=US.toBufferLE(u,n);return r(w,f,p)},i},sc=XD(8);Object.freeze({Create:{index:0,layout:ae.struct([ae.u32("instruction"),ae.ns64("lamports"),ae.ns64("space"),qt("programId")])},Assign:{index:1,layout:ae.struct([ae.u32("instruction"),qt("programId")])},Transfer:{index:2,layout:ae.struct([ae.u32("instruction"),sc("lamports")])},CreateWithSeed:{index:3,layout:ae.struct([ae.u32("instruction"),qt("base"),Pu("seed"),ae.ns64("lamports"),ae.ns64("space"),qt("programId")])},AdvanceNonceAccount:{index:4,layout:ae.struct([ae.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ae.struct([ae.u32("instruction"),ae.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ae.struct([ae.u32("instruction"),qt("authorized")])},AuthorizeNonceAccount:{index:7,layout:ae.struct([ae.u32("instruction"),qt("authorized")])},Allocate:{index:8,layout:ae.struct([ae.u32("instruction"),ae.ns64("space")])},AllocateWithSeed:{index:9,layout:ae.struct([ae.u32("instruction"),qt("base"),Pu("seed"),ae.ns64("space"),qt("programId")])},AssignWithSeed:{index:10,layout:ae.struct([ae.u32("instruction"),qt("base"),Pu("seed"),qt("programId")])},TransferWithSeed:{index:11,layout:ae.struct([ae.u32("instruction"),sc("lamports"),Pu("seed"),qt("programId")])},UpgradeNonceAccount:{index:12,layout:ae.struct([ae.u32("instruction")])}});new At("11111111111111111111111111111111");new At("BPFLoader2111111111111111111111111111111111");function eU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ky,JS;function tU(){if(JS)return ky;JS=1;var n=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function e(r,s){var i,u,f,p,w,b,T;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return e(r.toJSON(),s);if(T=n.call(r),T==="[object Array]"){for(f="[",u=r.length-1,i=0;i<u;i++)f+=e(r[i],!0)+",";return u>-1&&(f+=e(r[i],!0)),f+"]"}else if(T==="[object Object]"){for(p=t(r).sort(),u=p.length,f="",i=0;i<u;)w=p[i],b=e(r[w],!1),b!==void 0&&(f&&(f+=","),f+=JSON.stringify(w)+":"+b),i++;return"{"+f+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return ky=function(r){var s=e(r,!1);if(s!==void 0)return""+s},ky}var nU=tU(),XS=eU(nU);const cl=32;function Ay(n){let t=0;for(;n>1;)n/=2,t++;return t}function rU(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class iU{constructor(t,e,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Ay(rU(t+cl+1))-Ay(cl)-1,r=this.getSlotsInEpoch(e),s=t-(r-cl);return[e,s]}else{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*cl:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Ay(cl)):this.slotsPerEpoch}}var sU=globalThis.fetch;class oU extends xD{constructor(t,e,r){const s=i=>{const u=ED(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(s,t,e,r),this.underlyingSocket=void 0}call(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function aU(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}const e2=56;class t2{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=aU(uU,t),r=t.length-e2;_n(r>=0,"lookup table is invalid"),_n(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=ae.struct([ae.seq(qt(),s,"addresses")]).decode(t.slice(e2));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new At(e.authority[0]):void 0,addresses:i.map(u=>new At(u))}}}const uU={index:1,layout:ae.struct([ae.u32("typeIndex"),sc("deactivationSlot"),ae.nu64("lastExtendedSlot"),ae.u8("lastExtendedStartIndex"),ae.u8(),ae.seq(qt(),ae.offset(ae.u8(),-1),"authority")])},cU=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function lU(n){const t=n.match(cU);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[e,r,s,i]=t,u=n.startsWith("https:")?"wss:":"ws:",f=s==null?null:parseInt(s.slice(1),10),p=f==null?"":`:${f+1}`;return`${u}//${r}${p}${i}`}const Bn=ff(bw(At),De(),n=>new At(n)),fI=Ew([De(),In("base64")]),Aw=ff(bw(zt.Buffer),fI,n=>zt.Buffer.from(n[0],"base64")),fU=30*1e3;function hU(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function hn(n){let t,e;if(typeof n=="string")t=n;else if(n){const{commitment:r,...s}=n;t=r,e=s}return{commitment:t,config:e}}function n2(n){return n.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function hI(n){return $r([Me({jsonrpc:In("2.0"),id:De(),result:n}),Me({jsonrpc:In("2.0"),id:De(),error:Me({code:vc(),message:De(),data:Tt(GP())})})])}const dU=hI(vc());function Ut(n){return ff(hI(n),dU,t=>"error"in t?t:{...t,result:He(t.result,n)})}function zn(n){return Ut(Me({context:Me({slot:pe()}),value:n}))}function _0(n){return Me({context:Me({slot:pe()}),value:n})}function Iy(n,t){return n===0?new Hl({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new At(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:yr.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new so(t)}const pU=Me({foundation:pe(),foundationTerm:pe(),initial:pe(),taper:pe(),terminal:pe()}),gU=Ut(Ge(Ye(Me({epoch:pe(),effectiveSlot:pe(),amount:pe(),postBalance:pe(),commission:Tt(Ye(pe()))})))),yU=Ge(Me({slot:pe(),prioritizationFee:pe()})),mU=Me({total:pe(),validator:pe(),foundation:pe(),epoch:pe()}),wU=Me({epoch:pe(),slotIndex:pe(),slotsInEpoch:pe(),absoluteSlot:pe(),blockHeight:Tt(pe()),transactionCount:Tt(pe())}),vU=Me({slotsPerEpoch:pe(),leaderScheduleSlotOffset:pe(),warmup:Is(),firstNormalEpoch:pe(),firstNormalSlot:pe()}),_U=ZA(De(),Ge(pe())),Xa=Ye($r([Me({}),De()])),bU=Me({err:Xa}),EU=In("receivedSignature"),SU=Me({"solana-core":De(),"feature-set":Tt(pe())}),xU=Me({program:De(),programId:Bn,parsed:vc()}),kU=Me({programId:Bn,accounts:Ge(Bn),data:De()}),r2=zn(Me({err:Ye($r([Me({}),De()])),logs:Ye(Ge(De())),accounts:Tt(Ye(Ge(Ye(Me({executable:Is(),owner:De(),lamports:pe(),data:Ge(De()),rentEpoch:Tt(pe())}))))),unitsConsumed:Tt(pe()),returnData:Tt(Ye(Me({programId:De(),data:Ew([De(),In("base64")])}))),innerInstructions:Tt(Ye(Ge(Me({index:pe(),instructions:Ge($r([xU,kU]))}))))})),AU=zn(Me({byIdentity:ZA(De(),Ge(pe())),range:Me({firstSlot:pe(),lastSlot:pe()})}));function IU(n,t,e,r,s,i){const u=e||sU;let f;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let p;return r&&(p=async(b,T)=>{const B=await new Promise((M,O)=>{try{r(b,T,(P,N)=>M([P,N]))}catch(P){O(P)}});return await u(...B)}),new wD(async(b,T)=>{const B={method:"POST",body:b,agent:f,headers:Object.assign({"Content-Type":"application/json"},t||{},Iz)};try{let M=5,O,P=500;for(;p?O=await p(n,B):O=await u(n,B),!(O.status!==429||s===!0||(M-=1,M===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${P}ms delay...`),await Nu(P),P*=2;const N=await O.text();O.ok?T(null,N):T(new Error(`${O.status} ${O.statusText}: ${N}`))}catch(M){M instanceof Error&&T(M)}},{})}function MU(n){return(t,e)=>new Promise((r,s)=>{n.request(t,e,(i,u)=>{if(i){s(i);return}r(u)})})}function RU(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);const s=t.map(i=>n.request(i.methodName,i.args));n.request(s,(i,u)=>{if(i){r(i);return}e(u)})})}const TU=Ut(pU),NU=Ut(mU),BU=Ut(yU),CU=Ut(wU),LU=Ut(vU),OU=Ut(_U),PU=Ut(pe()),DU=zn(Me({total:pe(),circulating:pe(),nonCirculating:pe(),nonCirculatingAccounts:Ge(Bn)})),Xm=Me({amount:De(),uiAmount:Ye(pe()),decimals:pe(),uiAmountString:Tt(De())}),UU=zn(Ge(Me({address:Bn,amount:De(),uiAmount:Ye(pe()),decimals:pe(),uiAmountString:Tt(De())}))),zU=zn(Ge(Me({pubkey:Bn,account:Me({executable:Is(),owner:Bn,lamports:pe(),data:Aw,rentEpoch:pe()})}))),e1=Me({program:De(),parsed:vc(),space:pe()}),FU=zn(Ge(Me({pubkey:Bn,account:Me({executable:Is(),owner:Bn,lamports:pe(),data:e1,rentEpoch:pe()})}))),$U=zn(Ge(Me({lamports:pe(),address:Bn}))),ql=Me({executable:Is(),owner:Bn,lamports:pe(),data:Aw,rentEpoch:pe()}),jU=Me({pubkey:Bn,account:ql}),HU=ff($r([bw(zt.Buffer),e1]),$r([fI,e1]),n=>Array.isArray(n)?He(n,Aw):n),t1=Me({executable:Is(),owner:Bn,lamports:pe(),data:HU,rentEpoch:pe()}),WU=Me({pubkey:Bn,account:t1}),qU=Me({state:$r([In("active"),In("inactive"),In("activating"),In("deactivating")]),active:pe(),inactive:pe()}),KU=Ut(Ge(Me({signature:De(),slot:pe(),err:Xa,memo:Ye(De()),blockTime:Tt(Ye(pe()))}))),VU=Ut(Ge(Me({signature:De(),slot:pe(),err:Xa,memo:Ye(De()),blockTime:Tt(Ye(pe()))}))),GU=Me({subscription:pe(),result:_0(ql)}),ZU=Me({pubkey:Bn,account:ql}),YU=Me({subscription:pe(),result:_0(ZU)}),QU=Me({parent:pe(),slot:pe(),root:pe()}),JU=Me({subscription:pe(),result:QU}),XU=$r([Me({type:$r([In("firstShredReceived"),In("completed"),In("optimisticConfirmation"),In("root")]),slot:pe(),timestamp:pe()}),Me({type:In("createdBank"),parent:pe(),slot:pe(),timestamp:pe()}),Me({type:In("frozen"),slot:pe(),timestamp:pe(),stats:Me({numTransactionEntries:pe(),numSuccessfulTransactions:pe(),numFailedTransactions:pe(),maxTransactionsPerEntry:pe()})}),Me({type:In("dead"),slot:pe(),timestamp:pe(),err:De()})]),ez=Me({subscription:pe(),result:XU}),tz=Me({subscription:pe(),result:_0($r([bU,EU]))}),nz=Me({subscription:pe(),result:pe()}),rz=Me({pubkey:De(),gossip:Ye(De()),tpu:Ye(De()),rpc:Ye(De()),version:Ye(De())}),i2=Me({votePubkey:De(),nodePubkey:De(),activatedStake:pe(),epochVoteAccount:Is(),epochCredits:Ge(Ew([pe(),pe(),pe()])),commission:pe(),lastVote:pe(),rootSlot:Ye(pe())}),iz=Ut(Me({current:Ge(i2),delinquent:Ge(i2)})),sz=$r([In("processed"),In("confirmed"),In("finalized")]),oz=Me({slot:pe(),confirmations:Ye(pe()),err:Xa,confirmationStatus:Tt(sz)}),az=zn(Ge(Ye(oz))),uz=Ut(pe()),dI=Me({accountKey:Bn,writableIndexes:Ge(pe()),readonlyIndexes:Ge(pe())}),Iw=Me({signatures:Ge(De()),message:Me({accountKeys:Ge(De()),header:Me({numRequiredSignatures:pe(),numReadonlySignedAccounts:pe(),numReadonlyUnsignedAccounts:pe()}),instructions:Ge(Me({accounts:Ge(pe()),data:De(),programIdIndex:pe()})),recentBlockhash:De(),addressTableLookups:Tt(Ge(dI))})}),pI=Me({pubkey:Bn,signer:Is(),writable:Is(),source:Tt($r([In("transaction"),In("lookupTable")]))}),gI=Me({accountKeys:Ge(pI),signatures:Ge(De())}),yI=Me({parsed:vc(),program:De(),programId:Bn}),mI=Me({accounts:Ge(Bn),data:De(),programId:Bn}),cz=$r([mI,yI]),lz=$r([Me({parsed:vc(),program:De(),programId:De()}),Me({accounts:Ge(De()),data:De(),programId:De()})]),wI=ff(cz,lz,n=>"accounts"in n?He(n,mI):He(n,yI)),vI=Me({signatures:Ge(De()),message:Me({accountKeys:Ge(pI),instructions:Ge(wI),recentBlockhash:De(),addressTableLookups:Tt(Ye(Ge(dI)))})}),Cd=Me({accountIndex:pe(),mint:De(),owner:Tt(De()),programId:Tt(De()),uiTokenAmount:Xm}),_I=Me({writable:Ge(Bn),readonly:Ge(Bn)}),b0=Me({err:Xa,fee:pe(),innerInstructions:Tt(Ye(Ge(Me({index:pe(),instructions:Ge(Me({accounts:Ge(pe()),data:De(),programIdIndex:pe()}))})))),preBalances:Ge(pe()),postBalances:Ge(pe()),logMessages:Tt(Ye(Ge(De()))),preTokenBalances:Tt(Ye(Ge(Cd))),postTokenBalances:Tt(Ye(Ge(Cd))),loadedAddresses:Tt(_I),computeUnitsConsumed:Tt(pe())}),Mw=Me({err:Xa,fee:pe(),innerInstructions:Tt(Ye(Ge(Me({index:pe(),instructions:Ge(wI)})))),preBalances:Ge(pe()),postBalances:Ge(pe()),logMessages:Tt(Ye(Ge(De()))),preTokenBalances:Tt(Ye(Ge(Cd))),postTokenBalances:Tt(Ye(Ge(Cd))),loadedAddresses:Tt(_I),computeUnitsConsumed:Tt(pe())}),_c=$r([In(0),In("legacy")]),eu=Me({pubkey:De(),lamports:pe(),postBalance:Ye(pe()),rewardType:Ye(De()),commission:Tt(Ye(pe()))}),fz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),transactions:Ge(Me({transaction:Iw,meta:Ye(b0),version:Tt(_c)})),rewards:Tt(Ge(eu)),blockTime:Ye(pe()),blockHeight:Ye(pe())}))),hz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),rewards:Tt(Ge(eu)),blockTime:Ye(pe()),blockHeight:Ye(pe())}))),dz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),transactions:Ge(Me({transaction:gI,meta:Ye(b0),version:Tt(_c)})),rewards:Tt(Ge(eu)),blockTime:Ye(pe()),blockHeight:Ye(pe())}))),pz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),transactions:Ge(Me({transaction:vI,meta:Ye(Mw),version:Tt(_c)})),rewards:Tt(Ge(eu)),blockTime:Ye(pe()),blockHeight:Ye(pe())}))),gz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),transactions:Ge(Me({transaction:gI,meta:Ye(Mw),version:Tt(_c)})),rewards:Tt(Ge(eu)),blockTime:Ye(pe()),blockHeight:Ye(pe())}))),yz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),rewards:Tt(Ge(eu)),blockTime:Ye(pe()),blockHeight:Ye(pe())}))),mz=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),transactions:Ge(Me({transaction:Iw,meta:Ye(b0)})),rewards:Tt(Ge(eu)),blockTime:Ye(pe())}))),s2=Ut(Ye(Me({blockhash:De(),previousBlockhash:De(),parentSlot:pe(),signatures:Ge(De()),blockTime:Ye(pe())}))),My=Ut(Ye(Me({slot:pe(),meta:Ye(b0),blockTime:Tt(Ye(pe())),transaction:Iw,version:Tt(_c)}))),jh=Ut(Ye(Me({slot:pe(),transaction:vI,meta:Ye(Mw),blockTime:Tt(Ye(pe())),version:Tt(_c)}))),wz=zn(Me({blockhash:De(),lastValidBlockHeight:pe()})),vz=zn(Is()),_z=Me({slot:pe(),numTransactions:pe(),numSlots:pe(),samplePeriodSecs:pe()}),bz=Ut(Ge(_z)),Ez=zn(Ye(Me({feeCalculator:Me({lamportsPerSignature:pe()})}))),Sz=Ut(De()),xz=Ut(De()),kz=Me({err:Xa,logs:Ge(De()),signature:De()}),Az=Me({result:_0(kz),subscription:pe()}),Iz={"solana-client":"js/1.0.0-maintenance"};class bI{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async b=>{const{commitment:T,config:B}=hn(b),M=this._buildArgs([],T,void 0,B),O=XS(M);return w[O]=w[O]??(async()=>{try{const P=await this._rpcRequest("getBlockHeight",M),N=He(P,Ut(pe()));if("error"in N)throw new xt(N.error,"failed to get block height information");return N.result}finally{delete w[O]}})(),await w[O]}})();let r,s,i,u,f,p;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,u=e.fetchMiddleware,f=e.disableRetryOnRateLimit,p=e.httpAgent),this._rpcEndpoint=hU(t),this._rpcWsEndpoint=r||lU(t),this._rpcClient=IU(t,s,i,u,f,p),this._rpcRequest=MU(this._rpcClient),this._rpcBatchRequest=RU(this._rpcClient),this._rpcWebSocket=new oU(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgs([t.toBase58()],r,void 0,s),u=await this._rpcRequest("getBalance",i),f=He(u,zn(pe()));if("error"in f)throw new xt(f.error,`failed to get balance for ${t.toBase58()}`);return f.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=He(e,Ut(Ye(pe())));if("error"in r)throw new xt(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=He(t,Ut(pe()));if("error"in e)throw new xt(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=He(t,PU);if("error"in e)throw new xt(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),s=He(r,DU);if("error"in s)throw new xt(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",r),i=He(s,zn(Xm));if("error"in i)throw new xt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",r),i=He(s,zn(Xm));if("error"in i)throw new xt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){const{commitment:s,config:i}=hn(r);let u=[t.toBase58()];"mint"in e?u.push({mint:e.mint.toBase58()}):u.push({programId:e.programId.toBase58()});const f=this._buildArgs(u,s,"base64",i),p=await this._rpcRequest("getTokenAccountsByOwner",f),w=He(p,zU);if("error"in w)throw new xt(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,e,r){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",i),f=He(u,FU);if("error"in f)throw new xt(f.error,`failed to get token accounts owned by account ${t.toBase58()}`);return f.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",r),i=He(s,$U);if("error"in i)throw new xt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",r),i=He(s,UU);if("error"in i)throw new xt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgs([t.toBase58()],r,"base64",s),u=await this._rpcRequest("getAccountInfo",i),f=He(u,zn(Ye(ql)));if("error"in f)throw new xt(f.error,`failed to get info about account ${t.toBase58()}`);return f.result}async getParsedAccountInfo(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),u=await this._rpcRequest("getAccountInfo",i),f=He(u,zn(Ye(t1)));if("error"in f)throw new xt(f.error,`failed to get info about account ${t.toBase58()}`);return f.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:s}=hn(e),i=t.map(w=>w.toBase58()),u=this._buildArgs([i],r,"jsonParsed",s),f=await this._rpcRequest("getMultipleAccounts",u),p=He(f,zn(Ge(Ye(t1))));if("error"in p)throw new xt(p.error,`failed to get info for accounts ${i}`);return p.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:s}=hn(e),i=t.map(w=>w.toBase58()),u=this._buildArgs([i],r,"base64",s),f=await this._rpcRequest("getMultipleAccounts",u),p=He(f,zn(Ge(Ye(ql))));if("error"in p)throw new xt(p.error,`failed to get info for accounts ${i}`);return p.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:s,config:i}=hn(e),u=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),f=await this._rpcRequest("getStakeActivation",u),p=He(f,Ut(qU));if("error"in p)throw new xt(p.error,`failed to get Stake Activation ${t.toBase58()}`);return p.result}async getProgramAccounts(t,e){const{commitment:r,config:s}=hn(e),{encoding:i,...u}=s||{},f=this._buildArgs([t.toBase58()],r,i||"base64",{...u,...u.filters?{filters:n2(u.filters)}:null}),p=await this._rpcRequest("getProgramAccounts",f),w=Ge(jU),b=u.withContext===!0?He(p,zn(w)):He(p,Ut(w));if("error"in b)throw new xt(b.error,`failed to get accounts owned by program ${t.toBase58()}`);return b.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),u=await this._rpcRequest("getProgramAccounts",i),f=He(u,Ut(Ge(WU)));if("error"in f)throw new xt(f.error,`failed to get accounts owned by program ${t.toBase58()}`);return f.result}async confirmTransaction(t,e){var i;let r;if(typeof t=="string")r=t;else{const u=t;if((i=u.abortSignal)!=null&&i.aborted)return Promise.reject(u.abortSignal.reason);r=u.signature}let s;try{s=yr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return _n(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,s,i=!1;const u=new Promise((p,w)=>{try{r=this.onSignature(e,(T,B)=>{r=void 0;const M={context:B,value:T};p({__type:Do.PROCESSED,response:M})},t);const b=new Promise(T=>{r==null?T():s=this._onSubscriptionStateChange(r,B=>{B==="subscribed"&&T()})});(async()=>{if(await b,i)return;const T=await this.getSignatureStatus(e);if(i||T==null)return;const{context:B,value:M}=T;if(M!=null)if(M!=null&&M.err)w(M.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(M.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(M.confirmationStatus==="processed"||M.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,p({__type:Do.PROCESSED,response:{context:B,value:M}})}})()}catch(b){w(b)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:s}}){let i=!1;const u=new Promise(T=>{const B=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let M=await B();if(!i){for(;M<=r;)if(await Nu(1e3),i||(M=await B(),i))return;T({__type:Do.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),w=this.getCancellationPromise(e);let b;try{const T=await Promise.race([w,p,u]);if(T.__type===Do.PROCESSED)b=T.response;else throw new aI(s)}finally{i=!0,f()}return b}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:u}}){let f=!1;const p=new Promise(M=>{let O=i,P=null;const N=async()=>{try{const{context:$,value:j}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return P=$.slot,j==null?void 0:j.nonce}catch{return O}};(async()=>{if(O=await N(),!f)for(;;){if(i!==O){M({__type:Do.NONCE_INVALID,slotInWhichNonceDidAdvance:P});return}if(await Nu(2e3),f||(O=await N(),f))return}})()}),{abortConfirmation:w,confirmationPromise:b}=this.getTransactionConfirmationPromise({commitment:t,signature:u}),T=this.getCancellationPromise(e);let B;try{const M=await Promise.race([T,b,p]);if(M.__type===Do.PROCESSED)B=M.response;else{let O;for(;;){const P=await this.getSignatureStatus(u);if(P==null)break;if(P.context.slot<(M.slotInWhichNonceDidAdvance??r)){await Nu(400);continue}O=P;break}if(O!=null&&O.value){const P=t||"finalized",{confirmationStatus:N}=O.value;switch(P){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new yl(u);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new yl(u);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new yl(u);break;default:}B={context:O.context,value:{err:O.value.err}}}else throw new yl(u)}}finally{f=!0,w()}return B}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const s=new Promise(p=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>p({__type:Do.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:i,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let f;try{const p=await Promise.race([u,s]);if(p.__type===Do.PROCESSED)f=p.response;else throw new uI(e,p.timeoutMs/1e3)}finally{clearTimeout(r),i()}return f}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=He(t,Ut(Ge(rz)));if("error"in e)throw new xt(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),s=He(r,iz);if("error"in s)throw new xt(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:r}=hn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlot",s),u=He(i,Ut(pe()));if("error"in u)throw new xt(u.error,"failed to get slot");return u.result}async getSlotLeader(t){const{commitment:e,config:r}=hn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlotLeader",s),u=He(i,Ut(De()));if("error"in u)throw new xt(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(t,e){const r=[t,e],s=await this._rpcRequest("getSlotLeaders",r),i=He(s,Ut(Ge(Bn)));if("error"in i)throw new xt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:r,value:s}=await this.getSignatureStatuses([t],e);_n(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const s=await this._rpcRequest("getSignatureStatuses",r),i=He(s,az);if("error"in i)throw new xt(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:r}=hn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getTransactionCount",s),u=He(i,Ut(pe()));if("error"in u)throw new xt(u.error,"failed to get transaction count");return u.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),s=He(r,TU);if("error"in s)throw new xt(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,r){const{commitment:s,config:i}=hn(r),u=this._buildArgs([t.map(w=>w.toBase58())],s,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),f=await this._rpcRequest("getInflationReward",u),p=He(f,gU);if("error"in p)throw new xt(p.error,"failed to get inflation reward");return p.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=He(t,NU);if("error"in e)throw new xt(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:r}=hn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getEpochInfo",s),u=He(i,CU);if("error"in u)throw new xt(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=He(t,LU);if("error"in e)throw new xt(e.error,"failed to get epoch schedule");const r=e.result;return new iU(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=He(t,OU);if("error"in e)throw new xt(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=He(s,uz);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=He(e,bz);if("error"in r)throw new xt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=He(s,Ez);if("error"in i)throw new xt(i.error,"failed to get fee calculator");const{context:u,value:f}=i.result;return{context:u,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(t,e){const r=ic(t.serialize()).toString("base64"),s=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",s),u=He(i,zn(Ye(pe())));if("error"in u)throw new xt(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(t){var u;const e=(u=t==null?void 0:t.lockedWritableAccounts)==null?void 0:u.map(f=>f.toBase58()),r=e!=null&&e.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=He(s,BU);if("error"in i)throw new xt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=hn(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),u=He(i,wz);if("error"in u)throw new xt(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgs([t],r,void 0,s),u=await this._rpcRequest("isBlockhashValid",i),f=He(u,vz);if("error"in f)throw new xt(f.error,"failed to determine if the blockhash `"+t+"`is valid");return f.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=He(t,Ut(SU));if("error"in e)throw new xt(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=He(t,Ut(De()));if("error"in e)throw new xt(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),u=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const f=He(u,dz);if("error"in f)throw f.error;return f.result}case"none":{const f=He(u,hz);if("error"in f)throw f.error;return f.result}default:{const f=He(u,fz);if("error"in f)throw f.error;const{result:p}=f;return p?{...p,transactions:p.transactions.map(({transaction:w,meta:b,version:T})=>({meta:b,transaction:{...w,message:Iy(T,w.message)},version:T}))}:null}}}catch(f){throw new xt(f,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),u=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const f=He(u,gz);if("error"in f)throw f.error;return f.result}case"none":{const f=He(u,yz);if("error"in f)throw f.error;return f.result}default:{const f=He(u,pz);if("error"in f)throw f.error;return f.result}}}catch(f){throw new xt(f,"failed to get block")}}async getBlockProduction(t){let e,r;if(typeof t=="string")r=t;else if(t){const{commitment:f,...p}=t;r=f,e=p}const s=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",s),u=He(i,AU);if("error"in u)throw new xt(u.error,"failed to get block production information");return u.result}async getTransaction(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),u=await this._rpcRequest("getTransaction",i),f=He(u,My);if("error"in f)throw new xt(f.error,"failed to get transaction");const p=f.result;return p&&{...p,transaction:{...p.transaction,message:Iy(p.version,p.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:r,config:s}=hn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),u=await this._rpcRequest("getTransaction",i),f=He(u,jh);if("error"in f)throw new xt(f.error,"failed to get transaction");return f.result}async getParsedTransactions(t,e){const{commitment:r,config:s}=hn(e),i=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(p=>{const w=He(p,jh);if("error"in w)throw new xt(w.error,"failed to get transactions");return w.result})}async getTransactions(t,e){const{commitment:r,config:s}=hn(e),i=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(p=>{const w=He(p,My);if("error"in w)throw new xt(w.error,"failed to get transactions");const b=w.result;return b&&{...b,transaction:{...b.transaction,message:Iy(b.version,b.transaction.message)}}})}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getBlock",r),i=He(s,mz);if("error"in i)throw new xt(i.error,"failed to get confirmed block");const u=i.result;if(!u)throw new Error("Confirmed block "+t+" not found");const f={...u,transactions:u.transactions.map(({transaction:p,meta:w})=>{const b=new so(p.message);return{meta:w,transaction:{...p,message:b}}})};return{...f,transactions:f.transactions.map(({transaction:p,meta:w})=>({meta:w,transaction:ns.populate(p.message,p.signatures)}))}}async getBlocks(t,e,r){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",s),u=He(i,Ut(Ge(pe())));if("error"in u)throw new xt(u.error,"failed to get blocks");return u.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=He(s,s2);if("error"in i)throw new xt(i.error,"failed to get block");const u=i.result;if(!u)throw new Error("Block "+t+" not found");return u}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=He(s,s2);if("error"in i)throw new xt(i.error,"failed to get confirmed block");const u=i.result;if(!u)throw new Error("Confirmed block "+t+" not found");return u}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getTransaction",r),i=He(s,My);if("error"in i)throw new xt(i.error,"failed to get transaction");const u=i.result;if(!u)return u;const f=new so(u.transaction.message),p=u.transaction.signatures;return{...u,transaction:ns.populate(f,p)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=He(s,jh);if("error"in i)throw new xt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],e,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(u=>{const f=He(u,jh);if("error"in f)throw new xt(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(t,e,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const p=await this.getConfirmedBlockSignatures(e,"finalized");p.signatures.length>0&&(s.until=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}let u=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>u));)try{const p=await this.getConfirmedBlockSignatures(r);p.signatures.length>0&&(s.before=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(p=>p.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),u=He(i,KU);if("error"in u)throw new xt(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),u=He(i,VU);if("error"in u)throw new xt(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new t2({key:t,state:t2.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=kw.fromAccountData(s.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=He(r,Sz);if("error"in s)throw new xt(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Nu(100);const r=Date.now()-this._blockhashInfo.lastFetch>=fU;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Nu(YD/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=hn(t),s=this._buildArgs([],e,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),u=He(i,zn(pe()));if("error"in u)throw new xt(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(t,e,r){if("message"in t){const P=t.serialize(),N=zt.Buffer.from(P).toString("base64");if(Array.isArray(e)||r!==void 0)throw new Error("Invalid arguments");const $=e||{};$.encoding="base64","commitment"in $||($.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&($.innerInstructions=e.innerInstructions);const j=[N,$],F=await this._rpcRequest("simulateTransaction",j),Y=He(F,r2);if("error"in Y)throw new Error("failed to simulate transaction: "+Y.error.message);return Y.result}let s;if(t instanceof ns){let O=t;s=new ns,s.feePayer=O.feePayer,s.instructions=t.instructions,s.nonceInfo=O.nonceInfo,s.signatures=O.signatures}else s=ns.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let O=this._disableBlockhashCaching;for(;;){const P=await this._blockhashWithExpiryBlockHeight(O);if(s.lastValidBlockHeight=P.lastValidBlockHeight,s.recentBlockhash=P.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const N=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else O=!0}}const u=s._compile(),f=u.serialize(),w=s._serialize(f).toString("base64"),b={encoding:"base64",commitment:this.commitment};if(r){const O=(Array.isArray(r)?r:u.nonProgramIds()).map(P=>P.toBase58());b.accounts={encoding:"base64",addresses:O}}i&&(b.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(b.innerInstructions=e.innerInstructions);const T=[w,b],B=await this._rpcRequest("simulateTransaction",T),M=He(B,r2);if("error"in M){let O;if("data"in M.error&&(O=M.error.data.logs,O&&Array.isArray(O))){const P=`
    `,N=P+O.join(P);console.error(M.error.message,N)}throw new QS({action:"simulate",signature:"",transactionMessage:M.error.message,logs:O})}return M.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const u=t.serialize();return await this.sendRawTransaction(u,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let u=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(u);if(t.lastValidBlockHeight=f.lastValidBlockHeight,t.recentBlockhash=f.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const p=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(p))u=!0;else{this._blockhashInfo.transactionSignatures.push(p);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=ic(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const u=[t,r],f=await this._rpcRequest("sendTransaction",u),p=He(f,xz);if("error"in p){let w;throw"data"in p.error&&(w=p.error.data.logs),new QS({action:s?"send":"simulate",signature:"",transactionMessage:p.error.message,logs:w})}return p.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:"pending"})})}_setSubscription(t,e){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(u=>{try{u(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:u}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const f=await this._rpcWebSocket.call(u,i);this._setSubscription(r,{...s,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=s.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:i,error:f}),!e())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:u}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[i])}catch(f){if(f instanceof Error&&console.error(`${u} error:`,f.message),!e())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:r}=He(t,GU);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,s=XS([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const u=this._subscriptionsByHash[s];_n(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),u.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:s,config:i}=hn(r),u=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=He(t,YU);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,s){const{commitment:i,config:u}=hn(r),f=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",u||(s?{filters:n2(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=He(t,Az);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=He(t,JU);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=He(t,ez);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,s){const i=e||this._commitment;if(i||r||s){let u={};r&&(u.encoding=r),i&&(u.commitment=i),s&&(u=Object.assign(u,s)),t.push(u)}return t}_buildArgsAtLeastConfirmed(t,e,r,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,s)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=He(t,tz);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(u,f)=>{if(u.type==="status"){e(u.result,f);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},u=this._buildArgs([t],s,void 0,i),f=this._makeSubscription({callback:(p,w)=>{e(p,w);try{this.removeSignatureListener(f)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return f}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=He(t,nz);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:ae.struct([ae.u32("instruction"),sc("recentSlot"),ae.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ae.struct([ae.u32("instruction")])},ExtendLookupTable:{index:2,layout:ae.struct([ae.u32("instruction"),sc(),ae.seq(qt(),ae.offset(ae.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ae.struct([ae.u32("instruction")])},CloseLookupTable:{index:4,layout:ae.struct([ae.u32("instruction")])}});new At("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ae.struct([ae.u8("instruction"),ae.u32("units"),ae.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ae.struct([ae.u8("instruction"),ae.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ae.struct([ae.u8("instruction"),ae.u32("units")])},SetComputeUnitPrice:{index:3,layout:ae.struct([ae.u8("instruction"),sc("microLamports")])}});new At("ComputeBudget111111111111111111111111111111");ae.struct([ae.u8("numSignatures"),ae.u8("padding"),ae.u16("signatureOffset"),ae.u16("signatureInstructionIndex"),ae.u16("publicKeyOffset"),ae.u16("publicKeyInstructionIndex"),ae.u16("messageDataOffset"),ae.u16("messageDataSize"),ae.u16("messageInstructionIndex")]);new At("Ed25519SigVerify111111111111111111111111111");PD.utils.isValidPrivateKey;ae.struct([ae.u8("numSignatures"),ae.u16("signatureOffset"),ae.u8("signatureInstructionIndex"),ae.u16("ethAddressOffset"),ae.u8("ethAddressInstructionIndex"),ae.u16("messageDataOffset"),ae.u16("messageDataSize"),ae.u8("messageInstructionIndex"),ae.blob(20,"ethAddress"),ae.blob(64,"signature"),ae.u8("recoveryId")]);new At("KeccakSecp256k11111111111111111111111111111");var EI;new At("StakeConfig11111111111111111111111111111111");class SI{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}EI=SI;SI.default=new EI(0,0,At.default);Object.freeze({Initialize:{index:0,layout:ae.struct([ae.u32("instruction"),jD(),HD()])},Authorize:{index:1,layout:ae.struct([ae.u32("instruction"),qt("newAuthorized"),ae.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ae.struct([ae.u32("instruction")])},Split:{index:3,layout:ae.struct([ae.u32("instruction"),ae.ns64("lamports")])},Withdraw:{index:4,layout:ae.struct([ae.u32("instruction"),ae.ns64("lamports")])},Deactivate:{index:5,layout:ae.struct([ae.u32("instruction")])},Merge:{index:7,layout:ae.struct([ae.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ae.struct([ae.u32("instruction"),qt("newAuthorized"),ae.u32("stakeAuthorizationType"),Pu("authoritySeed"),qt("authorityOwner")])}});new At("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ae.struct([ae.u32("instruction"),WD()])},Authorize:{index:1,layout:ae.struct([ae.u32("instruction"),qt("newAuthorized"),ae.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ae.struct([ae.u32("instruction"),ae.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ae.struct([ae.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ae.struct([ae.u32("instruction"),qD()])}});new At("Vote111111111111111111111111111111111111111");new At("Va1idator1nfo111111111111111111111111111111");Me({name:De(),website:Tt(De()),details:Tt(De()),iconUrl:Tt(De()),keybaseUsername:Tt(De())});new At("Vote111111111111111111111111111111111111111");ae.struct([qt("nodePubkey"),qt("authorizedWithdrawer"),ae.u8("commission"),ae.nu64(),ae.seq(ae.struct([ae.nu64("slot"),ae.u32("confirmationCount")]),ae.offset(ae.u32(),-8),"votes"),ae.u8("rootSlotValid"),ae.nu64("rootSlot"),ae.nu64(),ae.seq(ae.struct([ae.nu64("epoch"),qt("authorizedVoter")]),ae.offset(ae.u32(),-8),"authorizedVoters"),ae.struct([ae.seq(ae.struct([qt("authorizedPubkey"),ae.nu64("epochOfLastAuthorizedSwitch"),ae.nu64("targetEpoch")]),32,"buf"),ae.nu64("idx"),ae.u8("isEmpty")],"priorVoters"),ae.nu64(),ae.seq(ae.struct([ae.nu64("epoch"),ae.nu64("credits"),ae.nu64("prevCredits")]),ae.offset(ae.u32(),-8),"epochCredits"),ae.struct([ae.nu64("slot"),ae.nu64("timestamp")],"lastTimestamp")]);const Mz="https://api.testnet.sonic.game",Rz={preflightCommitment:"processed"};Qn.programId;const Tz=n=>{const t=new bI(Mz,Rz.preflightCommitment);return new kd(t,n,{commitment:"confirmed"})};class Ry{constructor(t){Ht(this,"label");this.label=t}}const xI=ce.createContext(void 0),Nz=({children:n})=>{const[t,e]=ce.useState(null),[r,s]=ce.useState("waiting"),[i,u]=ce.useState(null),[f,p]=ce.useState(null),[w,b]=ce.useState(null),T=new Ry(ri.WHITE),[B,M]=ce.useState({board:Array(8).fill(null).map(()=>Array(8).fill(null)),current_turn:T,moveCount:0});ce.useEffect(()=>{const{solana:N}=window;if(!N){alert("Solana object not found");return}b(Tz(window.solana))},[]),ce.useEffect(()=>(rn.connect(),rn.on("roomCreated",({roomId:N,playerColor:$,gameState:j})=>{e(N),p(new Ry($)),M(j),s("waiting")}),rn.on("gameJoined",({roomId:N,playerColor:$,gameState:j})=>{console.log("Joined room:",N),e(N),p(new Ry($)),M(j)}),rn.on("gameStart",({gameState:N})=>{console.log("Game starting"),M(N),s("playing")}),rn.on("moveMade",({gameState:N})=>{M(N)}),rn.on("playerDisconnected",({player:N})=>{u(`${N} player disconnected`),s("waiting")}),rn.on("error",N=>{u(N)}),()=>{rn.close()}),[]);const O=()=>{rn.emit("createRoom")},P=N=>{rn.emit("joinRoom",N)};return kt.jsx(xI.Provider,{value:{roomId:t,playerColor:f,gameStatus:r,state:B,error:i,createRoom:O,joinRoom:P,provider:w},children:n})},Bz=()=>{const n=ce.useContext(xI);if(!n)throw new Error("useSocket must be used within a SocketProvider");return n},Cz=()=>{const[n,t]=ce.useState({gameType:"checkers"}),{createRoom:e,roomId:r}=Bz(),s=u=>{t(f=>({...f,gameType:u.target.value}))},i=async u=>{u.preventDefault();try{e(),console.log(r)}catch(f){console.error("Failed to create game:",f)}};return kt.jsx("div",{className:"flex flex-col items-center justify-center h-full ",children:kt.jsxs("div",{className:"w-fit gap-[4rem]",children:[kt.jsx("p",{style:{fontFamily:'"Kaushan Script", cursive'},className:"text-[4rem]",children:"Create Sonic Zone!"}),kt.jsxs("div",{className:"flex flex-col gap-2 bg-white w-full p-3",children:[kt.jsx("label",{className:"text-black font-semibold",children:"Select Game Type:"}),kt.jsx("select",{className:"px-3 py-2 border rounded text-black",value:n.gameType,onChange:s,children:kt.jsx("option",{value:"checkers",children:"Checkers"})}),kt.jsx("button",{className:"px-4 py-2 bg-gray-800 text-[1.2rem] text-white rounded font-semibold cursor-pointer",onClick:i,children:"Create Game"})]})]})})},Lz=()=>{const[n,t]=ce.useState(""),e=r=>{console.log("Joining room:",r),rn==null||rn.emit("joinRoom",r)};return kt.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:kt.jsxs("div",{className:"w-fit gap-[4rem]",children:[kt.jsx("p",{style:{fontFamily:'"Kaushan Script", cursive'},className:"text-[4rem]",children:"Join Sonic Zone!"}),kt.jsxs("div",{className:"flex flex-col gap-2 bg-white w-full p-3 ",children:[kt.jsx("input",{type:"text",placeholder:"Room ID",className:"px-2 py-2 border text-[1.2rem] text-gray-800 text-center rounded focus:outline-none border-gray-800",value:n,onChange:r=>t(r.target.value)}),kt.jsx("button",{onClick:()=>n&&e(n),className:"px-4 py-2 bg-gray-800 text-[1.2rem] text-white rounded font-semibold cursor-pointer",children:"Enter"})]})]})})},kI={setVisible(n){console.error(AI("call","setVisible"))},visible:!1};Object.defineProperty(kI,"visible",{get(){return console.error(AI("read","visible")),!1}});function AI(n,t){return`You have tried to  ${n} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const II=ce.createContext(kI);function MI(){return ce.useContext(II)}const RI=ce.createContext({});function Oz(){return ce.useContext(RI)}const Pz=({children:n,endpoint:t,config:e={commitment:"confirmed"}})=>{const r=ce.useMemo(()=>new bI(t,e),[t,e]);return Ne.createElement(RI.Provider,{value:{connection:r}},n)};var Ty={exports:{}},o2;function Dz(){return o2||(o2=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(p,w,b){this.fn=p,this.context=w,this.once=b||!1}function i(p,w,b,T,B){if(typeof b!="function")throw new TypeError("The listener must be a function");var M=new s(b,T||p,B),O=e?e+w:w;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],M]:p._events[O].push(M):(p._events[O]=M,p._eventsCount++),p}function u(p,w){--p._eventsCount===0?p._events=new r:delete p._events[w]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var w=[],b,T;if(this._eventsCount===0)return w;for(T in b=this._events)t.call(b,T)&&w.push(e?T.slice(1):T);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(b)):w},f.prototype.listeners=function(w){var b=e?e+w:w,T=this._events[b];if(!T)return[];if(T.fn)return[T.fn];for(var B=0,M=T.length,O=new Array(M);B<M;B++)O[B]=T[B].fn;return O},f.prototype.listenerCount=function(w){var b=e?e+w:w,T=this._events[b];return T?T.fn?1:T.length:0},f.prototype.emit=function(w,b,T,B,M,O){var P=e?e+w:w;if(!this._events[P])return!1;var N=this._events[P],$=arguments.length,j,F;if(N.fn){switch(N.once&&this.removeListener(w,N.fn,void 0,!0),$){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,b),!0;case 3:return N.fn.call(N.context,b,T),!0;case 4:return N.fn.call(N.context,b,T,B),!0;case 5:return N.fn.call(N.context,b,T,B,M),!0;case 6:return N.fn.call(N.context,b,T,B,M,O),!0}for(F=1,j=new Array($-1);F<$;F++)j[F-1]=arguments[F];N.fn.apply(N.context,j)}else{var Y=N.length,J;for(F=0;F<Y;F++)switch(N[F].once&&this.removeListener(w,N[F].fn,void 0,!0),$){case 1:N[F].fn.call(N[F].context);break;case 2:N[F].fn.call(N[F].context,b);break;case 3:N[F].fn.call(N[F].context,b,T);break;case 4:N[F].fn.call(N[F].context,b,T,B);break;default:if(!j)for(J=1,j=new Array($-1);J<$;J++)j[J-1]=arguments[J];N[F].fn.apply(N[F].context,j)}}return!0},f.prototype.on=function(w,b,T){return i(this,w,b,T,!1)},f.prototype.once=function(w,b,T){return i(this,w,b,T,!0)},f.prototype.removeListener=function(w,b,T,B){var M=e?e+w:w;if(!this._events[M])return this;if(!b)return u(this,M),this;var O=this._events[M];if(O.fn)O.fn===b&&(!B||O.once)&&(!T||O.context===T)&&u(this,M);else{for(var P=0,N=[],$=O.length;P<$;P++)(O[P].fn!==b||B&&!O[P].once||T&&O[P].context!==T)&&N.push(O[P]);N.length?this._events[M]=N.length===1?N[0]:N:u(this,M)}return this},f.prototype.removeAllListeners=function(w){var b;return w?(b=e?e+w:w,this._events[b]&&u(this,b)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,n.exports=f}(Ty)),Ty.exports}var Uz=Dz();const zz=ss(Uz);class mr extends Error{constructor(t,e){super(t),this.error=e}}class ea extends mr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Fz extends mr{constructor(){super(...arguments),this.name="WalletLoadError"}}class Du extends mr{constructor(){super(...arguments),this.name="WalletConfigError"}}class Wo extends mr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class E0 extends mr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class TI extends mr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Na extends mr{constructor(){super(...arguments),this.name="WalletAccountError"}}class Kl extends mr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Vn extends mr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class qo extends mr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Fi extends mr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Rw extends mr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class a2 extends mr{constructor(){super(...arguments),this.name="WalletSignInError"}}var $t;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})($t||($t={}));class NI extends zz{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){const s=this.publicKey;if(!s)throw new Vn;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function BI(n){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(n())for(const i of t)i()}const r=setInterval(e,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function u2(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),t=n.includes("iphone")||n.includes("ipad"),e=n.includes("safari");return t&&e}function Ko(n){return"version"in n}class $z extends NI{async sendTransaction(t,e,r={}){let s=!0;try{if(Ko(t)){if(!this.supportedTransactionVersions)throw new qo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new qo(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,r)}catch(i){throw i instanceof Fi?(s=!1,i):new qo(i==null?void 0:i.message,i)}}else try{const{signers:i,...u}=r;t=await this.prepareTransaction(t,e,u),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const f=t.serialize();return await e.sendRawTransaction(f,u)}catch(i){throw i instanceof Fi?(s=!1,i):new qo(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(Ko(r)){if(!this.supportedTransactionVersions)throw new Fi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Fi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const e=[];for(const r of t)e.push(await this.signTransaction(r));return e}}class Tw extends $z{}class jz extends Tw{}const eo="solana:signAndSendTransaction",Ny="solana:signIn",Bu="solana:signMessage",or="solana:signTransaction",Nw="standard:connect",n1="standard:disconnect",Bw="standard:events";function Hz(n){return Nw in n.features&&Bw in n.features&&(eo in n.features||or in n.features)}class c2 extends mr{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Wz=[],S0={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){es("call","select")},connect(){return Promise.reject(es("call","connect"))},disconnect(){return Promise.reject(es("call","disconnect"))},sendTransaction(){return Promise.reject(es("call","sendTransaction"))},signTransaction(){return Promise.reject(es("call","signTransaction"))},signAllTransactions(){return Promise.reject(es("call","signAllTransactions"))},signMessage(){return Promise.reject(es("call","signMessage"))},signIn(){return Promise.reject(es("call","signIn"))}};Object.defineProperty(S0,"wallets",{get(){return es("read","wallets"),Wz}});Object.defineProperty(S0,"wallet",{get(){return es("read","wallet"),null}});Object.defineProperty(S0,"publicKey",{get(){return es("read","publicKey"),null}});function es(n,t){const e=new Error(`You have tried to ${n} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(e),e}const CI=ce.createContext(S0);function LI(){return ce.useContext(CI)}function qz(n,t){const e=ce.useState(()=>{try{const i=localStorage.getItem(n);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),r=e[0],s=ce.useRef(!0);return ce.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,n]),e}function By(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const r1="solana:mainnet",OI="solana:devnet",PI="solana:testnet",Kz="solana:localnet",Vz="https://api.mainnet-beta.solana.com";function Gz(n){return n.includes(Vz)?r1:/\bdevnet\b/i.test(n)?OI:/\btestnet\b/i.test(n)?PI:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?Kz:r1}function Zz(n){let t=`${n.domain} wants you to sign in with your Solana account:
`;t+=`${n.address}`,n.statement&&(t+=`

${n.statement}`);const e=[];if(n.uri&&e.push(`URI: ${n.uri}`),n.version&&e.push(`Version: ${n.version}`),n.chainId&&e.push(`Chain ID: ${n.chainId}`),n.nonce&&e.push(`Nonce: ${n.nonce}`),n.issuedAt&&e.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&e.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&e.push(`Not Before: ${n.notBefore}`),n.requestId&&e.push(`Request ID: ${n.requestId}`),n.resources){e.push("Resources:");for(const r of n.resources)e.push(`- ${r}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const oo={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class ao extends Error{constructor(...t){const[e,r,s]=t;super(r),this.code=e,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class DI extends Error{constructor(...t){const[e,r,s,i]=t;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function qn(n,t,e,r){function s(i){return i instanceof e?i:new e(function(u){u(i)})}return new(e||(e=Promise))(function(i,u){function f(b){try{w(r.next(b))}catch(T){u(T)}}function p(b){try{w(r.throw(b))}catch(T){u(T)}}function w(b){b.done?i(b.value):s(b.value).then(f,p)}w((r=r.apply(n,[])).next())})}function Cy(n,t){return qn(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),s=new Uint8Array(e.byteLength+r.byteLength);return s.set(new Uint8Array(e),0),s.set(new Uint8Array(r),e.byteLength),s})}function Yz(n){return window.btoa(n)}function Qz(n){return Zz(n)}function Jz(n){return Yz(Qz(n))}const Xz="solana:signTransactions",l2="solana:cloneAuthorization";function eF(n,t){return new Proxy({},{get(e,r){return e[r]==null&&(e[r]=function(s){return qn(this,void 0,void 0,function*(){const{method:i,params:u}=tF(r,s,n),f=yield t(i,u);return i==="authorize"&&u.sign_in_payload&&!f.sign_in_result&&(f.sign_in_result=yield rF(u.sign_in_payload,f,t)),nF(r,f,n)})}),e[r]},defineProperty(){return!1},deleteProperty(){return!1}})}function tF(n,t,e){let r=t,s=n.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:i}=r;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:u}=r;if(i)switch(e){case"legacy":{s="reauthorize",r={auth_token:i,identity:u};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function nF(n,t,e){switch(n){case"getCapabilities":{const r=t;switch(e){case"legacy":{const s=[Xz];return r.supports_clone_authorization===!0&&s.push(l2),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(l2)})}}}return t}function rF(n,t,e){var r;return qn(this,void 0,void 0,function*(){const s=(r=n.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,u=Jz(Object.assign(Object.assign({},n),{domain:s,address:i})),f=yield e("sign_messages",{addresses:[i],payloads:[u]});return{address:i,signed_message:u,signature:f.signed_payloads[0].slice(u.length)}})}const Ba=4;function iF(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Ba);return new DataView(t).setUint32(0,n,!1),new Uint8Array(t)}const i1=12,UI=65;function sF(n,t,e){return qn(this,void 0,void 0,function*(){const r=iF(t),s=new Uint8Array(i1);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(FI(r,s),e,new TextEncoder().encode(n)),u=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return u.set(new Uint8Array(r),0),u.set(new Uint8Array(s),r.byteLength),u.set(new Uint8Array(i),r.byteLength+s.byteLength),u})}function zI(n,t){return qn(this,void 0,void 0,function*(){const e=n.slice(0,Ba),r=n.slice(Ba,Ba+i1),s=n.slice(Ba+i1),i=yield crypto.subtle.decrypt(FI(e,r),t,s);return oF().decode(i)})}function FI(n,t){return{additionalData:n,iv:t,name:"AES-GCM",tagLength:128}}let Ly;function oF(){return Ly===void 0&&(Ly=new TextDecoder("utf-8")),Ly}function aF(){return qn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Oy(){return qn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function uF(n,t){return qn(this,void 0,void 0,function*(){const e=JSON.stringify(n),r=n.id;return sF(e,r,t)})}function cF(n,t){return qn(this,void 0,void 0,function*(){const e=yield zI(n,t),r=JSON.parse(e);if(Object.hasOwnProperty.call(r,"error"))throw new DI(r.id,r.error.code,r.error.message);return r})}function lF(n,t,e){return qn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",n.slice(0,UI),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},e,256),u=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},u,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function fF(n,t){return qn(this,void 0,void 0,function*(){const e=yield zI(n,t),r=JSON.parse(e);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new ao(oo.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}function hF(){return $I(49152+Math.floor(Math.random()*16384))}function $I(n){if(n<49152||n>65535)throw new ao(oo.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function dF(n){let t="";const e=new Uint8Array(n),r=e.byteLength;for(let s=0;s<r;s++)t+=String.fromCharCode(e[s]);return window.btoa(t)}function pF(n){return n.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const gF="solana-wallet";function f2(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function yF(n,t){let e=null;if(t){try{e=new URL(t)}catch{}if((e==null?void 0:e.protocol)!=="https:")throw new ao(oo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${gF}:/`));const r=n.startsWith("/")?n:[...f2(e.pathname),...f2(n)].join("/");return new URL(r,e)}function mF(n,t,e,r=["v1"]){return qn(this,void 0,void 0,function*(){const s=$I(t),i=yield crypto.subtle.exportKey("raw",n),u=dF(i),f=yF("v1/associate/local",e);return f.searchParams.set("association",pF(u)),f.searchParams.set("port",`${s}`),r.forEach(p=>{f.searchParams.set("v",p)}),f})}const Ld={Firefox:0,Other:1};function wF(){return navigator.userAgent.indexOf("Firefox/")!==-1?Ld.Firefox:Ld.Other}function vF(){return new Promise((n,t)=>{function e(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){e(),n()}window.addEventListener("blur",r);const s=setTimeout(()=>{e(),t()},2e3)})}let ll=null;function _F(n){ll==null&&(ll=document.createElement("iframe"),ll.style.display="none",document.body.appendChild(ll)),ll.contentWindow.location.href=n.toString()}function bF(n){return qn(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const t=wF();switch(t){case Ld.Firefox:_F(n);break;case Ld.Other:{const e=vF();window.location.assign(n),yield e;break}default:}}catch{throw new ao(oo.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function EF(n,t){return qn(this,void 0,void 0,function*(){const e=hF(),r=yield mF(n,e,t);return yield bF(r),e})}const h2={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},SF="com.solana.mobilewalletadapter.v1";function xF(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ao(oo.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function kF(n){let t;try{t=new URL(n)}catch{throw new ao(oo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new ao(oo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function d2(n){return new DataView(n).getUint32(0,!1)}function AF(n,t){return qn(this,void 0,void 0,function*(){xF();const e=yield aF(),s=`ws://localhost:${yield EF(e.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const u=(()=>{const b=[...h2.retryDelayScheduleMs];return()=>b.length>1?b.shift():b[0]})();let f=1,p=0,w={__type:"disconnected"};return new Promise((b,T)=>{let B;const M={},O=()=>qn(this,void 0,void 0,function*(){if(w.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${w.__type}\`.`);return}B.removeEventListener("open",O);const{associationKeypair:J}=w,X=yield Oy();B.send(yield Cy(X.publicKey,J.privateKey)),w={__type:"hello_req_sent",associationPublicKey:J.publicKey,ecdhPrivateKey:X.privateKey}}),P=J=>{J.wasClean?w={__type:"disconnected"}:T(new ao(oo.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${J.code}: ${J.reason}).`,{closeEvent:J})),j()},N=J=>qn(this,void 0,void 0,function*(){j(),Date.now()-i>=h2.timeoutMs?T(new ao(oo.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(X=>{const te=u();F=window.setTimeout(X,te)}),Y())}),$=J=>qn(this,void 0,void 0,function*(){const X=yield J.data.arrayBuffer();switch(w.__type){case"connecting":if(X.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const te=yield Oy();B.send(yield Cy(te.publicKey,e.privateKey)),w={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:te.privateKey};break;case"connected":try{const re=X.slice(0,Ba),W=d2(re);if(W!==p+1)throw new Error("Encrypted message has invalid sequence number");p=W;const q=yield cF(X,w.sharedSecret),K=M[q.id];delete M[q.id],K.resolve(q.result)}catch(re){if(re instanceof DI){const W=M[re.jsonRpcMessageId];delete M[re.jsonRpcMessageId],W.reject(re)}else throw re}break;case"hello_req_sent":{if(X.byteLength===0){const V=yield Oy();B.send(yield Cy(V.publicKey,e.privateKey)),w={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:V.privateKey};break}const re=yield lF(X,w.associationPublicKey,w.ecdhPrivateKey),W=X.slice(UI),q=W.byteLength!==0?yield qn(this,void 0,void 0,function*(){const V=W.slice(0,Ba),S=d2(V);if(S!==p+1)throw new Error("Encrypted message has invalid sequence number");return p=S,fF(W,re)}):{protocol_version:"legacy"};w={__type:"connected",sharedSecret:re,sessionProperties:q};const K=eF(q.protocol_version,(V,S)=>qn(this,void 0,void 0,function*(){const a=f++;return B.send(yield uF({id:a,jsonrpc:"2.0",method:V,params:S??{}},re)),new Promise((h,m)=>{M[a]={resolve(E){switch(V){case"authorize":case"reauthorize":{const{wallet_uri_base:A}=E;if(A!=null)try{kF(A)}catch(I){m(I);return}break}}h(E)},reject:m}})}));try{b(yield n(K))}catch(V){T(V)}finally{j(),B.close()}break}}});let j,F;const Y=()=>{j&&j(),w={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),B=new WebSocket(s,[SF]),B.addEventListener("open",O),B.addEventListener("close",P),B.addEventListener("error",N),B.addEventListener("message",$),j=()=>{window.clearTimeout(F),B.removeEventListener("open",O),B.removeEventListener("close",P),B.removeEventListener("error",N),B.removeEventListener("message",$)}};Y()})})}var Py,p2;function IF(){if(p2)return Py;p2=1;function n(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),u=i.charCodeAt(0);if(e[u]!==255)throw new TypeError(i+" is ambiguous");e[u]=s}var f=t.length,p=t.charAt(0),w=Math.log(f)/Math.log(256),b=Math.log(256)/Math.log(f);function T(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var P=0,N=0,$=0,j=O.length;$!==j&&O[$]===0;)$++,P++;for(var F=(j-$)*b+1>>>0,Y=new Uint8Array(F);$!==j;){for(var J=O[$],X=0,te=F-1;(J!==0||X<N)&&te!==-1;te--,X++)J+=256*Y[te]>>>0,Y[te]=J%f>>>0,J=J/f>>>0;if(J!==0)throw new Error("Non-zero carry");N=X,$++}for(var re=F-N;re!==F&&Y[re]===0;)re++;for(var W=p.repeat(P);re<F;++re)W+=t.charAt(Y[re]);return W}function B(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;for(var P=0,N=0,$=0;O[P]===p;)N++,P++;for(var j=(O.length-P)*w+1>>>0,F=new Uint8Array(j);O[P];){var Y=O.charCodeAt(P);if(Y>255)return;var J=e[Y];if(J===255)return;for(var X=0,te=j-1;(J!==0||X<$)&&te!==-1;te--,X++)J+=f*F[te]>>>0,F[te]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");$=X,P++}for(var re=j-$;re!==j&&F[re]===0;)re++;for(var W=new Uint8Array(N+(j-re)),q=N;re!==j;)W[q++]=F[re++];return W}function M(O){var P=B(O);if(P)return P;throw new Error("Non-base"+f+" character")}return{encode:T,decodeUnsafe:B,decode:M}}return Py=n,Py}var Dy,g2;function MF(){return g2||(g2=1,Dy=IF()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Dy}var RF=MF();const jI=ss(RF);function Uy(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(e[r[s]]=n[r[s]]);return e}function Hh(n,t,e,r){function s(i){return i instanceof e?i:new e(function(u){u(i)})}return new(e||(e=Promise))(function(i,u){function f(b){try{w(r.next(b))}catch(T){u(T)}}function p(b){try{w(r.throw(b))}catch(T){u(T)}}function w(b){b.done?i(b.value):s(b.value).then(f,p)}w((r=r.apply(n,[])).next())})}function HI(n){return window.btoa(String.fromCharCode.call(null,...n))}function zy(n){return new Uint8Array(window.atob(n).split("").map(t=>t.charCodeAt(0)))}function y2(n){const t="version"in n?n.serialize():n.serialize({requireAllSignatures:!1,verifySignatures:!1});return HI(t)}function TF(n){const e=n[0]*jl+1;return xw.deserializeMessageVersion(n.slice(e,n.length))==="legacy"?ns.from(n):Wl.deserialize(n)}function NF(n,t){return Hh(this,void 0,void 0,function*(){return yield AF(r=>{const s=new Proxy({},{get(i,u){if(i[u]==null)switch(u){case"signAndSendTransactions":i[u]=function(f){var{minContextSlot:p,commitment:w,skipPreflight:b,maxRetries:T,waitForCommitmentToSendNextTransaction:B,transactions:M}=f,O=Uy(f,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Hh(this,void 0,void 0,function*(){const P=M.map(y2),N={min_context_slot:p,commitment:w,skip_preflight:b,max_retries:T,wait_for_commitment_to_send_next_transaction:B},{signatures:$}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},O),Object.values(N).some(F=>F!=null)?{options:N}:null),{payloads:P}));return $.map(zy).map(jI.encode)})};break;case"signMessages":i[u]=function(f){var{payloads:p}=f,w=Uy(f,["payloads"]);return Hh(this,void 0,void 0,function*(){const b=p.map(HI),{signed_payloads:T}=yield r.signMessages(Object.assign(Object.assign({},w),{payloads:b}));return T.map(zy)})};break;case"signTransactions":i[u]=function(f){var{transactions:p}=f,w=Uy(f,["transactions"]);return Hh(this,void 0,void 0,function*(){const b=p.map(y2),{signed_payloads:T}=yield r.signTransactions(Object.assign(Object.assign({},w),{payloads:b}));return T.map(zy).map(TF)})};break;default:{i[u]=r[u];break}}return i[u]},defineProperty(){return!1},deleteProperty(){return!1}});return n(s)},t)})}var Ru={},Fy,m2;function BF(){return m2||(m2=1,Fy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Fy}var $y={},Uo={},w2;function tu(){if(w2)return Uo;w2=1;let n;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Uo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Uo.getSymbolTotalCodewords=function(r){return t[r]},Uo.getBCHDigit=function(e){let r=0;for(;e!==0;)r++,e>>>=1;return r},Uo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Uo.isKanjiModeEnabled=function(){return typeof n<"u"},Uo.toSJIS=function(r){return n(r)},Uo}var jy={},v2;function Cw(){return v2||(v2=1,function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,s){if(n.isValid(r))return r;try{return t(r)}catch{return s}}}(jy)),jy}var Hy,_2;function CF(){if(_2)return Hy;_2=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},Hy=n,Hy}var Wy,b2;function LF(){if(b2)return Wy;b2=1;function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return n.prototype.set=function(t,e,r,s){const i=t*this.size+e;this.data[i]=r,s&&(this.reservedBit[i]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},Wy=n,Wy}var qy={},E2;function OF(){return E2||(E2=1,function(n){const t=tu().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),u=i===145?26:Math.ceil((i-13)/(2*s-2))*2,f=[i-7];for(let p=1;p<s-1;p++)f[p]=f[p-1]-u;return f.push(6),f.reverse()},n.getPositions=function(r){const s=[],i=n.getRowColCoords(r),u=i.length;for(let f=0;f<u;f++)for(let p=0;p<u;p++)f===0&&p===0||f===0&&p===u-1||f===u-1&&p===0||s.push([i[f],i[p]]);return s}}(qy)),qy}var Ky={},S2;function PF(){if(S2)return Ky;S2=1;const n=tu().getSymbolSize,t=7;return Ky.getPositions=function(r){const s=n(r);return[[0,0],[s-t,0],[0,s-t]]},Ky}var Vy={},x2;function DF(){return x2||(x2=1,function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const i=s.size;let u=0,f=0,p=0,w=null,b=null;for(let T=0;T<i;T++){f=p=0,w=b=null;for(let B=0;B<i;B++){let M=s.get(T,B);M===w?f++:(f>=5&&(u+=t.N1+(f-5)),w=M,f=1),M=s.get(B,T),M===b?p++:(p>=5&&(u+=t.N1+(p-5)),b=M,p=1)}f>=5&&(u+=t.N1+(f-5)),p>=5&&(u+=t.N1+(p-5))}return u},n.getPenaltyN2=function(s){const i=s.size;let u=0;for(let f=0;f<i-1;f++)for(let p=0;p<i-1;p++){const w=s.get(f,p)+s.get(f,p+1)+s.get(f+1,p)+s.get(f+1,p+1);(w===4||w===0)&&u++}return u*t.N2},n.getPenaltyN3=function(s){const i=s.size;let u=0,f=0,p=0;for(let w=0;w<i;w++){f=p=0;for(let b=0;b<i;b++)f=f<<1&2047|s.get(w,b),b>=10&&(f===1488||f===93)&&u++,p=p<<1&2047|s.get(b,w),b>=10&&(p===1488||p===93)&&u++}return u*t.N3},n.getPenaltyN4=function(s){let i=0;const u=s.data.length;for(let p=0;p<u;p++)i+=s.data[p];return Math.abs(Math.ceil(i*100/u/5)-10)*t.N4};function e(r,s,i){switch(r){case n.Patterns.PATTERN000:return(s+i)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return i%3===0;case n.Patterns.PATTERN011:return(s+i)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case n.Patterns.PATTERN101:return s*i%2+s*i%3===0;case n.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case n.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(s,i){const u=i.size;for(let f=0;f<u;f++)for(let p=0;p<u;p++)i.isReserved(p,f)||i.xor(p,f,e(s,p,f))},n.getBestMask=function(s,i){const u=Object.keys(n.Patterns).length;let f=0,p=1/0;for(let w=0;w<u;w++){i(w),n.applyMask(w,s);const b=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(w,s),b<p&&(p=b,f=w)}return f}}(Vy)),Vy}var Wh={},k2;function WI(){if(k2)return Wh;k2=1;const n=Cw(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Wh.getBlocksCount=function(s,i){switch(i){case n.L:return t[(s-1)*4+0];case n.M:return t[(s-1)*4+1];case n.Q:return t[(s-1)*4+2];case n.H:return t[(s-1)*4+3];default:return}},Wh.getTotalCodewordsCount=function(s,i){switch(i){case n.L:return e[(s-1)*4+0];case n.M:return e[(s-1)*4+1];case n.Q:return e[(s-1)*4+2];case n.H:return e[(s-1)*4+3];default:return}},Wh}var Gy={},fl={},A2;function UF(){if(A2)return fl;A2=1;const n=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)n[s]=r,t[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)n[s]=n[s-255]}(),fl.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},fl.exp=function(r){return n[r]},fl.mul=function(r,s){return r===0||s===0?0:n[t[r]+t[s]]},fl}var I2;function zF(){return I2||(I2=1,function(n){const t=UF();n.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let u=0;u<r.length;u++)for(let f=0;f<s.length;f++)i[u+f]^=t.mul(r[u],s[f]);return i},n.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const u=i[0];for(let p=0;p<s.length;p++)i[p]^=t.mul(s[p],u);let f=0;for(;f<i.length&&i[f]===0;)f++;i=i.slice(f)}return i},n.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=n.mul(s,new Uint8Array([1,t.exp(i)]));return s}}(Gy)),Gy}var Zy,M2;function FF(){if(M2)return Zy;M2=1;const n=zF();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=n.mod(s,this.genPoly),u=this.degree-i.length;if(u>0){const f=new Uint8Array(this.degree);return f.set(i,u),f}return i},Zy=t,Zy}var Yy={},Qy={},Jy={},R2;function qI(){return R2||(R2=1,Jy.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Jy}var ps={},T2;function KI(){if(T2)return ps;T2=1;const n="[0-9]+",t="[A-Z $%*+\\-./:]+";let e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";e=e.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+e+`)(?:.|[\r
]))+`;ps.KANJI=new RegExp(e,"g"),ps.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ps.BYTE=new RegExp(r,"g"),ps.NUMERIC=new RegExp(n,"g"),ps.ALPHANUMERIC=new RegExp(t,"g");const s=new RegExp("^"+e+"$"),i=new RegExp("^"+n+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ps.testKanji=function(p){return s.test(p)},ps.testNumeric=function(p){return i.test(p)},ps.testAlphanumeric=function(p){return u.test(p)},ps}var N2;function nu(){return N2||(N2=1,function(n){const t=qI(),e=KI();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,u){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?i.ccBits[0]:u<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return e.testNumeric(i)?n.NUMERIC:e.testAlphanumeric(i)?n.ALPHANUMERIC:e.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(i,u){if(n.isValid(i))return i;try{return r(i)}catch{return u}}}(Qy)),Qy}var B2;function $F(){return B2||(B2=1,function(n){const t=tu(),e=WI(),r=Cw(),s=nu(),i=qI(),u=7973,f=t.getBCHDigit(u);function p(B,M,O){for(let P=1;P<=40;P++)if(M<=n.getCapacity(P,O,B))return P}function w(B,M){return s.getCharCountIndicator(B,M)+4}function b(B,M){let O=0;return B.forEach(function(P){const N=w(P.mode,M);O+=N+P.getBitsLength()}),O}function T(B,M){for(let O=1;O<=40;O++)if(b(B,O)<=n.getCapacity(O,M,s.MIXED))return O}n.from=function(M,O){return i.isValid(M)?parseInt(M,10):O},n.getCapacity=function(M,O,P){if(!i.isValid(M))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=s.BYTE);const N=t.getSymbolTotalCodewords(M),$=e.getTotalCodewordsCount(M,O),j=(N-$)*8;if(P===s.MIXED)return j;const F=j-w(P,M);switch(P){case s.NUMERIC:return Math.floor(F/10*3);case s.ALPHANUMERIC:return Math.floor(F/11*2);case s.KANJI:return Math.floor(F/13);case s.BYTE:default:return Math.floor(F/8)}},n.getBestVersionForData=function(M,O){let P;const N=r.from(O,r.M);if(Array.isArray(M)){if(M.length>1)return T(M,N);if(M.length===0)return 1;P=M[0]}else P=M;return p(P.mode,P.getLength(),N)},n.getEncodedBits=function(M){if(!i.isValid(M)||M<7)throw new Error("Invalid QR Code version");let O=M<<12;for(;t.getBCHDigit(O)-f>=0;)O^=u<<t.getBCHDigit(O)-f;return M<<12|O}}(Yy)),Yy}var Xy={},C2;function jF(){if(C2)return Xy;C2=1;const n=tu(),t=1335,e=21522,r=n.getBCHDigit(t);return Xy.getEncodedBits=function(i,u){const f=i.bit<<3|u;let p=f<<10;for(;n.getBCHDigit(p)-r>=0;)p^=t<<n.getBCHDigit(p)-r;return(f<<10|p)^e},Xy}var em={},tm,L2;function HF(){if(L2)return tm;L2=1;const n=nu();function t(e){this.mode=n.NUMERIC,this.data=e.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s,i,u;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),u=parseInt(i,10),r.put(u,10);const f=this.data.length-s;f>0&&(i=this.data.substr(s),u=parseInt(i,10),r.put(u,f*3+1))},tm=t,tm}var nm,O2;function WF(){if(O2)return nm;O2=1;const n=nu(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(r){this.mode=n.ALPHANUMERIC,this.data=r}return e.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let u=t.indexOf(this.data[i])*45;u+=t.indexOf(this.data[i+1]),s.put(u,11)}this.data.length%2&&s.put(t.indexOf(this.data[i]),6)},nm=e,nm}var rm,P2;function qF(){if(P2)return rm;P2=1;const n=nu();function t(e){this.mode=n.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let r=0,s=this.data.length;r<s;r++)e.put(this.data[r],8)},rm=t,rm}var im,D2;function KF(){if(D2)return im;D2=1;const n=nu(),t=tu();function e(r){this.mode=n.KANJI,this.data=r}return e.getBitsLength=function(s){return s*13},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=t.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},im=e,im}var sm={exports:{}},U2;function VF(){return U2||(U2=1,function(n){var t={single_source_shortest_paths:function(e,r,s){var i={},u={};u[r]=0;var f=t.PriorityQueue.make();f.push(r,0);for(var p,w,b,T,B,M,O,P,N;!f.empty();){p=f.pop(),w=p.value,T=p.cost,B=e[w]||{};for(b in B)B.hasOwnProperty(b)&&(M=B[b],O=T+M,P=u[b],N=typeof u[b]>"u",(N||P>O)&&(u[b]=O,f.push(b,O),i[b]=w))}if(typeof s<"u"&&typeof u[s]>"u"){var $=["Could not find a path from ",r," to ",s,"."].join("");throw new Error($)}return i},extract_shortest_path_from_predecessor_list:function(e,r){for(var s=[],i=r;i;)s.push(i),e[i],i=e[i];return s.reverse(),s},find_path:function(e,r,s){var i=t.single_source_shortest_paths(e,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(e){var r=t.PriorityQueue,s={},i;e=e||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=e.sorter||r.default_sorter,s},default_sorter:function(e,r){return e.cost-r.cost},push:function(e,r){var s={value:e,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=t}(sm)),sm.exports}var z2;function GF(){return z2||(z2=1,function(n){const t=nu(),e=HF(),r=WF(),s=qF(),i=KF(),u=KI(),f=tu(),p=VF();function w($){return unescape(encodeURIComponent($)).length}function b($,j,F){const Y=[];let J;for(;(J=$.exec(F))!==null;)Y.push({data:J[0],index:J.index,mode:j,length:J[0].length});return Y}function T($){const j=b(u.NUMERIC,t.NUMERIC,$),F=b(u.ALPHANUMERIC,t.ALPHANUMERIC,$);let Y,J;return f.isKanjiModeEnabled()?(Y=b(u.BYTE,t.BYTE,$),J=b(u.KANJI,t.KANJI,$)):(Y=b(u.BYTE_KANJI,t.BYTE,$),J=[]),j.concat(F,Y,J).sort(function(te,re){return te.index-re.index}).map(function(te){return{data:te.data,mode:te.mode,length:te.length}})}function B($,j){switch(j){case t.NUMERIC:return e.getBitsLength($);case t.ALPHANUMERIC:return r.getBitsLength($);case t.KANJI:return i.getBitsLength($);case t.BYTE:return s.getBitsLength($)}}function M($){return $.reduce(function(j,F){const Y=j.length-1>=0?j[j.length-1]:null;return Y&&Y.mode===F.mode?(j[j.length-1].data+=F.data,j):(j.push(F),j)},[])}function O($){const j=[];for(let F=0;F<$.length;F++){const Y=$[F];switch(Y.mode){case t.NUMERIC:j.push([Y,{data:Y.data,mode:t.ALPHANUMERIC,length:Y.length},{data:Y.data,mode:t.BYTE,length:Y.length}]);break;case t.ALPHANUMERIC:j.push([Y,{data:Y.data,mode:t.BYTE,length:Y.length}]);break;case t.KANJI:j.push([Y,{data:Y.data,mode:t.BYTE,length:w(Y.data)}]);break;case t.BYTE:j.push([{data:Y.data,mode:t.BYTE,length:w(Y.data)}])}}return j}function P($,j){const F={},Y={start:{}};let J=["start"];for(let X=0;X<$.length;X++){const te=$[X],re=[];for(let W=0;W<te.length;W++){const q=te[W],K=""+X+W;re.push(K),F[K]={node:q,lastCount:0},Y[K]={};for(let V=0;V<J.length;V++){const S=J[V];F[S]&&F[S].node.mode===q.mode?(Y[S][K]=B(F[S].lastCount+q.length,q.mode)-B(F[S].lastCount,q.mode),F[S].lastCount+=q.length):(F[S]&&(F[S].lastCount=q.length),Y[S][K]=B(q.length,q.mode)+4+t.getCharCountIndicator(q.mode,j))}}J=re}for(let X=0;X<J.length;X++)Y[J[X]].end=0;return{map:Y,table:F}}function N($,j){let F;const Y=t.getBestModeForData($);if(F=t.from(j,Y),F!==t.BYTE&&F.bit<Y.bit)throw new Error('"'+$+'" cannot be encoded with mode '+t.toString(F)+`.
 Suggested mode is: `+t.toString(Y));switch(F===t.KANJI&&!f.isKanjiModeEnabled()&&(F=t.BYTE),F){case t.NUMERIC:return new e($);case t.ALPHANUMERIC:return new r($);case t.KANJI:return new i($);case t.BYTE:return new s($)}}n.fromArray=function(j){return j.reduce(function(F,Y){return typeof Y=="string"?F.push(N(Y,null)):Y.data&&F.push(N(Y.data,Y.mode)),F},[])},n.fromString=function(j,F){const Y=T(j,f.isKanjiModeEnabled()),J=O(Y),X=P(J,F),te=p.find_path(X.map,"start","end"),re=[];for(let W=1;W<te.length-1;W++)re.push(X.table[te[W]].node);return n.fromArray(M(re))},n.rawSplit=function(j){return n.fromArray(T(j,f.isKanjiModeEnabled()))}}(em)),em}var F2;function ZF(){if(F2)return $y;F2=1;const n=tu(),t=Cw(),e=CF(),r=LF(),s=OF(),i=PF(),u=DF(),f=WI(),p=FF(),w=$F(),b=jF(),T=nu(),B=GF();function M(X,te){const re=X.size,W=i.getPositions(te);for(let q=0;q<W.length;q++){const K=W[q][0],V=W[q][1];for(let S=-1;S<=7;S++)if(!(K+S<=-1||re<=K+S))for(let a=-1;a<=7;a++)V+a<=-1||re<=V+a||(S>=0&&S<=6&&(a===0||a===6)||a>=0&&a<=6&&(S===0||S===6)||S>=2&&S<=4&&a>=2&&a<=4?X.set(K+S,V+a,!0,!0):X.set(K+S,V+a,!1,!0))}}function O(X){const te=X.size;for(let re=8;re<te-8;re++){const W=re%2===0;X.set(re,6,W,!0),X.set(6,re,W,!0)}}function P(X,te){const re=s.getPositions(te);for(let W=0;W<re.length;W++){const q=re[W][0],K=re[W][1];for(let V=-2;V<=2;V++)for(let S=-2;S<=2;S++)V===-2||V===2||S===-2||S===2||V===0&&S===0?X.set(q+V,K+S,!0,!0):X.set(q+V,K+S,!1,!0)}}function N(X,te){const re=X.size,W=w.getEncodedBits(te);let q,K,V;for(let S=0;S<18;S++)q=Math.floor(S/3),K=S%3+re-8-3,V=(W>>S&1)===1,X.set(q,K,V,!0),X.set(K,q,V,!0)}function $(X,te,re){const W=X.size,q=b.getEncodedBits(te,re);let K,V;for(K=0;K<15;K++)V=(q>>K&1)===1,K<6?X.set(K,8,V,!0):K<8?X.set(K+1,8,V,!0):X.set(W-15+K,8,V,!0),K<8?X.set(8,W-K-1,V,!0):K<9?X.set(8,15-K-1+1,V,!0):X.set(8,15-K-1,V,!0);X.set(W-8,8,1,!0)}function j(X,te){const re=X.size;let W=-1,q=re-1,K=7,V=0;for(let S=re-1;S>0;S-=2)for(S===6&&S--;;){for(let a=0;a<2;a++)if(!X.isReserved(q,S-a)){let h=!1;V<te.length&&(h=(te[V]>>>K&1)===1),X.set(q,S-a,h),K--,K===-1&&(V++,K=7)}if(q+=W,q<0||re<=q){q-=W,W=-W;break}}}function F(X,te,re){const W=new e;re.forEach(function(a){W.put(a.mode.bit,4),W.put(a.getLength(),T.getCharCountIndicator(a.mode,X)),a.write(W)});const q=n.getSymbolTotalCodewords(X),K=f.getTotalCodewordsCount(X,te),V=(q-K)*8;for(W.getLengthInBits()+4<=V&&W.put(0,4);W.getLengthInBits()%8!==0;)W.putBit(0);const S=(V-W.getLengthInBits())/8;for(let a=0;a<S;a++)W.put(a%2?17:236,8);return Y(W,X,te)}function Y(X,te,re){const W=n.getSymbolTotalCodewords(te),q=f.getTotalCodewordsCount(te,re),K=W-q,V=f.getBlocksCount(te,re),S=W%V,a=V-S,h=Math.floor(W/V),m=Math.floor(K/V),E=m+1,A=h-m,I=new p(A);let k=0;const g=new Array(V),c=new Array(V);let d=0;const R=new Uint8Array(X.buffer);for(let fe=0;fe<V;fe++){const Ue=fe<a?m:E;g[fe]=R.slice(k,k+Ue),c[fe]=I.encode(g[fe]),k+=Ue,d=Math.max(d,Ue)}const D=new Uint8Array(W);let H=0,ee,oe;for(ee=0;ee<d;ee++)for(oe=0;oe<V;oe++)ee<g[oe].length&&(D[H++]=g[oe][ee]);for(ee=0;ee<A;ee++)for(oe=0;oe<V;oe++)D[H++]=c[oe][ee];return D}function J(X,te,re,W){let q;if(Array.isArray(X))q=B.fromArray(X);else if(typeof X=="string"){let h=te;if(!h){const m=B.rawSplit(X);h=w.getBestVersionForData(m,re)}q=B.fromString(X,h||40)}else throw new Error("Invalid data");const K=w.getBestVersionForData(q,re);if(!K)throw new Error("The amount of data is too big to be stored in a QR Code");if(!te)te=K;else if(te<K)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+K+`.
`);const V=F(te,re,q),S=n.getSymbolSize(te),a=new r(S);return M(a,te),O(a),P(a,te),$(a,re,0),te>=7&&N(a,te),j(a,V),isNaN(W)&&(W=u.getBestMask(a,$.bind(null,a,re))),u.applyMask(W,a),$(a,re,W),{modules:a,version:te,errorCorrectionLevel:re,maskPattern:W,segments:q}}return $y.create=function(te,re){if(typeof te>"u"||te==="")throw new Error("No input text");let W=t.M,q,K;return typeof re<"u"&&(W=t.from(re.errorCorrectionLevel,t.M),q=w.from(re.version),K=u.from(re.maskPattern),re.toSJISFunc&&n.setToSJISFunction(re.toSJISFunc)),J(te,q,W,K)},$y}var om={},am={},$2;function VI(){return $2||($2=1,function(n){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let r=e.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+e);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:i,scale:i?4:u,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},n.getImageWidth=function(r,s){const i=n.getScale(r,s);return Math.floor((r+s.margin*2)*i)},n.qrToImageData=function(r,s,i){const u=s.modules.size,f=s.modules.data,p=n.getScale(u,i),w=Math.floor((u+i.margin*2)*p),b=i.margin*p,T=[i.color.light,i.color.dark];for(let B=0;B<w;B++)for(let M=0;M<w;M++){let O=(B*w+M)*4,P=i.color.light;if(B>=b&&M>=b&&B<w-b&&M<w-b){const N=Math.floor((B-b)/p),$=Math.floor((M-b)/p);P=T[f[N*u+$]?1:0]}r[O++]=P.r,r[O++]=P.g,r[O++]=P.b,r[O]=P.a}}}(am)),am}var j2;function YF(){return j2||(j2=1,function(n){const t=VI();function e(s,i,u){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=u,i.width=u,i.style.height=u+"px",i.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,u,f){let p=f,w=u;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),u||(w=r()),p=t.getOptions(p);const b=t.getImageWidth(i.modules.size,p),T=w.getContext("2d"),B=T.createImageData(b,b);return t.qrToImageData(B.data,i,p),e(T,w,b),T.putImageData(B,0,0),w},n.renderToDataURL=function(i,u,f){let p=f;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),p||(p={});const w=n.render(i,u,p),b=p.type||"image/png",T=p.rendererOpts||{};return w.toDataURL(b,T.quality)}}(om)),om}var um={},H2;function QF(){if(H2)return um;H2=1;const n=VI();function t(s,i){const u=s.a/255,f=i+'="'+s.hex+'"';return u<1?f+" "+i+'-opacity="'+u.toFixed(2).slice(1)+'"':f}function e(s,i,u){let f=s+i;return typeof u<"u"&&(f+=" "+u),f}function r(s,i,u){let f="",p=0,w=!1,b=0;for(let T=0;T<s.length;T++){const B=Math.floor(T%i),M=Math.floor(T/i);!B&&!w&&(w=!0),s[T]?(b++,T>0&&B>0&&s[T-1]||(f+=w?e("M",B+u,.5+M+u):e("m",p,0),p=0,w=!1),B+1<i&&s[T+1]||(f+=e("h",b),b=0)):p++}return f}return um.render=function(i,u,f){const p=n.getOptions(u),w=i.modules.size,b=i.modules.data,T=w+p.margin*2,B=p.color.light.a?"<path "+t(p.color.light,"fill")+' d="M0 0h'+T+"v"+T+'H0z"/>':"",M="<path "+t(p.color.dark,"stroke")+' d="'+r(b,w,p.margin)+'"/>',O='viewBox="0 0 '+T+" "+T+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+O+' shape-rendering="crispEdges">'+B+M+`</svg>
`;return typeof f=="function"&&f(null,N),N},um}var W2;function JF(){if(W2)return Ru;W2=1;const n=BF(),t=ZF(),e=YF(),r=QF();function s(i,u,f,p,w){const b=[].slice.call(arguments,1),T=b.length,B=typeof b[T-1]=="function";if(!B&&!n())throw new Error("Callback required as last argument");if(B){if(T<2)throw new Error("Too few arguments provided");T===2?(w=f,f=u,u=p=void 0):T===3&&(u.getContext&&typeof w>"u"?(w=p,p=void 0):(w=p,p=f,f=u,u=void 0))}else{if(T<1)throw new Error("Too few arguments provided");return T===1?(f=u,u=p=void 0):T===2&&!u.getContext&&(p=f,f=u,u=void 0),new Promise(function(M,O){try{const P=t.create(f,p);M(i(P,u,p))}catch(P){O(P)}})}try{const M=t.create(f,p);w(null,i(M,u,p))}catch(M){w(M)}}return Ru.create=t.create,Ru.toCanvas=s.bind(null,e.render),Ru.toDataURL=s.bind(null,e.renderToDataURL),Ru.toString=s.bind(null,function(i,u,f){return r.render(i,f)}),Ru}JF();function Xt(n,t,e,r){function s(i){return i instanceof e?i:new e(function(u){u(i)})}return new(e||(e=Promise))(function(i,u){function f(b){try{w(r.next(b))}catch(T){u(T)}}function p(b){try{w(r.throw(b))}catch(T){u(T)}}function w(b){b.done?i(b.value):s(b.value).then(f,p)}w((r=r.apply(n,[])).next())})}function ad(n){return new Uint8Array(window.atob(n).split("").map(t=>t.charCodeAt(0)))}function XF(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const zo="Mobile Wallet Adapter",e7=64;function t7(n){const t=ad(n);return new At(t)}function q2(n){return"version"in n}function n7(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class r7 extends jz{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=zo,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=XF()?$t.Loadable:$t.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(e=t.chain)!==null&&e!==void 0?e:n7(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==$t.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=t7(this._selectedAddress)}catch(t){throw new Kl(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==$t.Installed&&this.emit("readyStateChange",this._readyState=$t.Installed)}runWithGuard(t){return Xt(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Xt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Xt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){if(this._readyState!==$t.Installed&&this._readyState!==$t.Loadable)throw new ea;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new Wo(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return Xt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){if(this._readyState!==$t.Installed&&this._readyState!==$t.Loadable)throw new ea;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new Wo(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return Xt(this,void 0,void 0,function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact(r=>Xt(this,void 0,void 0,function*(){const s=yield r.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(s),this.handleAuthorizationResult(s)]),s}))}catch(e){throw new Wo(e instanceof Error&&e.message||"Unknown error",e)}})}handleAuthorizationResult(t){var e;return Xt(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((e=this._authorizationResult)===null||e===void 0?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((s,i)=>s.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){const s=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));s!==this._selectedAddress&&(this._selectedAddress=s,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return Xt(this,void 0,void 0,function*(){try{const r=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new E0(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return Xt(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return Xt(this,void 0,void 0,function*(){const r=(e=this._authorizationResult)===null||e===void 0?void 0:e.wallet_uri_base,s=r?{baseUri:r}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,u=this._connectionGeneration;try{return yield NF(t,Object.assign(Object.assign({},s),i))}catch(f){throw this._connectionGeneration!==u&&(yield new Promise(()=>{})),f instanceof Error&&f.name==="SolanaMobileWalletAdapterError"&&f.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),f}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Vn;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return Xt(this,void 0,void 0,function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(r=>Xt(this,void 0,void 0,function*(){return yield this.performReauthorization(r,e),yield r.signTransactions({transactions:t})}))}catch(r){throw new Fi(r==null?void 0:r.message,r)}})}sendTransaction(t,e,r){return Xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){const{authToken:s}=this.assertIsAuthorized(),i=r==null?void 0:r.minContextSlot;try{return yield this.transact(u=>Xt(this,void 0,void 0,function*(){function f(){let T;switch(e.commitment){case"confirmed":case"finalized":case"processed":T=e.commitment;break;default:T="finalized"}let B;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":B=r.preflightCommitment;break;case void 0:B=T;break;default:B="finalized"}return(B==="finalized"?2:B==="confirmed"?1:0)<(T==="finalized"?2:T==="confirmed"?1:0)?B:T}const[p,w,b]=yield Promise.all([u.getCapabilities(),this.performReauthorization(u,s),q2(t)?null:Xt(this,void 0,void 0,function*(){var T;if(t.feePayer||(t.feePayer=(T=this.publicKey)!==null&&T!==void 0?T:void 0),t.recentBlockhash==null){const{blockhash:B}=yield e.getLatestBlockhash({commitment:f()});t.recentBlockhash=B}})]);if(p.supports_sign_and_send_transactions)return(yield u.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[T]=yield u.signTransactions({transactions:[t]});if(q2(T))return yield e.sendTransaction(T);{const B=T.serialize();return yield e.sendRawTransaction(B,Object.assign(Object.assign({},r),{preflightCommitment:f()}))}}}))}catch(u){throw new qo(u==null?void 0:u.message,u)}}))})}signTransaction(t){return Xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){const[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return Xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return Xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){const{authToken:e,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(s=>Xt(this,void 0,void 0,function*(){yield this.performReauthorization(s,e);const[i]=yield s.signMessages({addresses:[r],payloads:[t]});return i.slice(-e7)}))}catch(s){throw new Rw(s==null?void 0:s.message,s)}}))})}signIn(t){return Xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>Xt(this,void 0,void 0,function*(){var e,r;if(this._readyState!==$t.Installed&&this._readyState!==$t.Loadable)throw new ea;this._connecting=!0;try{const s=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:window.location.host}));if(!s.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=s.sign_in_result.address;return{account:Object.assign(Object.assign({},(r=s.accounts.find(f=>f.address==i))!==null&&r!==void 0?r:{address:i}),{publicKey:ad(i)}),signedMessage:ad(s.sign_in_result.signed_message),signature:ad(s.sign_in_result.signature)}}catch(s){throw new Wo(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}}function i7(){return{select(n){return Xt(this,void 0,void 0,function*(){return n[0]})}}}const cm="SolanaMobileWalletAdapterDefaultAuthorizationCache";function s7(){let n;try{n=window.localStorage}catch{}return{clear(){return Xt(this,void 0,void 0,function*(){if(n)try{n.removeItem(cm)}catch{}})},get(){return Xt(this,void 0,void 0,function*(){if(n)try{return JSON.parse(n.getItem(cm))||void 0}catch{}})},set(t){return Xt(this,void 0,void 0,function*(){if(n)try{n.setItem(cm,JSON.stringify(t))}catch{}})}}}function o7(n){return Xt(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(n.url)})}function a7(){return o7}var u7=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},c7=function(n,t,e,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,e):s?s.value=e:t.set(n,e),e},ud;function l7(n){const t=({register:e})=>e(n);try{window.dispatchEvent(new f7(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}class f7 extends Event{get detail(){return u7(this,ud,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),ud.set(this,void 0),c7(this,ud,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ud=new WeakMap;function h7(n,t){if(n===t)return!0;const e=n.length;if(e!==t.length)return!1;for(let r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}var bt=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},jn=function(n,t,e,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,e):s?s.value=e:t.set(n,e),e},gr,ii,Ca,La,ba,ml,Od,en,Pd,s1,cd,o1,Sl,a1,K2,V2,G2,Z2;class d7 extends NI{get name(){return bt(this,en,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return bt(this,en,"f").icon}get readyState(){return bt(this,Pd,"f")}get publicKey(){return bt(this,Ca,"f")}get connecting(){return bt(this,La,"f")}get supportedTransactionVersions(){return bt(this,Od,"f")}get wallet(){return bt(this,en,"f")}get standard(){return!0}constructor({wallet:t}){super(),gr.add(this),ii.set(this,void 0),Ca.set(this,void 0),La.set(this,void 0),ba.set(this,void 0),ml.set(this,void 0),Od.set(this,void 0),en.set(this,void 0),Pd.set(this,typeof window>"u"||typeof document>"u"?$t.Unsupported:$t.Installed),a1.set(this,e=>{if("accounts"in e){const r=bt(this,en,"f").accounts[0];bt(this,ii,"f")&&!bt(this,ba,"f")&&r!==bt(this,ii,"f")&&(r?bt(this,gr,"m",cd).call(this,r):(this.emit("error",new E0),bt(this,gr,"m",o1).call(this)))}"features"in e&&bt(this,gr,"m",Sl).call(this)}),jn(this,en,t,"f"),jn(this,ii,null,"f"),jn(this,Ca,null,"f"),jn(this,La,!1,"f"),jn(this,ba,!1,"f"),jn(this,ml,bt(this,en,"f").features[Bw].on("change",bt(this,a1,"f")),"f"),bt(this,gr,"m",Sl).call(this)}destroy(){jn(this,ii,null,"f"),jn(this,Ca,null,"f"),jn(this,La,!1,"f"),jn(this,ba,!1,"f");const t=bt(this,ml,"f");t&&(jn(this,ml,null,"f"),t())}async autoConnect(){return bt(this,gr,"m",s1).call(this,{silent:!0})}async connect(){return bt(this,gr,"m",s1).call(this)}async disconnect(){if(n1 in bt(this,en,"f").features)try{jn(this,ba,!0,"f"),await bt(this,en,"f").features[n1].disconnect()}catch(t){this.emit("error",new TI(t==null?void 0:t.message,t))}finally{jn(this,ba,!1,"f")}bt(this,gr,"m",o1).call(this)}async sendTransaction(t,e,r={}){try{const s=bt(this,ii,"f");if(!s)throw new Vn;let i;if(eo in bt(this,en,"f").features)if(s.features.includes(eo))i=eo;else if(or in bt(this,en,"f").features&&s.features.includes(or))i=or;else throw new Na;else if(or in bt(this,en,"f").features){if(!s.features.includes(or))throw new Na;i=or}else throw new Du;const u=Gz(e.rpcEndpoint);if(!s.chains.includes(u))throw new qo;try{const{signers:f,...p}=r;let w;if(Ko(t)?(f!=null&&f.length&&t.sign(f),w=t.serialize()):(t=await this.prepareTransaction(t,e,p),f!=null&&f.length&&t.partialSign(...f),w=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===eo){const[b]=await bt(this,en,"f").features[eo].signAndSendTransaction({account:s,chain:u,transaction:w,options:{preflightCommitment:By(p.preflightCommitment||e.commitment),skipPreflight:p.skipPreflight,maxRetries:p.maxRetries,minContextSlot:p.minContextSlot}});return jI.encode(b.signature)}else{const[b]=await bt(this,en,"f").features[or].signTransaction({account:s,chain:u,transaction:w,options:{preflightCommitment:By(p.preflightCommitment||e.commitment),minContextSlot:p.minContextSlot}});return await e.sendRawTransaction(b.signedTransaction,{...p,preflightCommitment:By(p.preflightCommitment||e.commitment)})}}catch(f){throw f instanceof mr?f:new qo(f==null?void 0:f.message,f)}}catch(s){throw this.emit("error",s),s}}}ii=new WeakMap,Ca=new WeakMap,La=new WeakMap,ba=new WeakMap,ml=new WeakMap,Od=new WeakMap,en=new WeakMap,Pd=new WeakMap,a1=new WeakMap,gr=new WeakSet,s1=async function(t){try{if(this.connected||this.connecting)return;if(bt(this,Pd,"f")!==$t.Installed)throw new ea;if(jn(this,La,!0,"f"),!bt(this,en,"f").accounts.length)try{await bt(this,en,"f").features[Nw].connect(t)}catch(r){throw new Wo(r==null?void 0:r.message,r)}const e=bt(this,en,"f").accounts[0];if(!e)throw new Na;bt(this,gr,"m",cd).call(this,e)}catch(e){throw this.emit("error",e),e}finally{jn(this,La,!1,"f")}},cd=function(t){let e;try{e=new At(t.address)}catch(r){throw new Kl(r==null?void 0:r.message,r)}jn(this,ii,t,"f"),jn(this,Ca,e,"f"),bt(this,gr,"m",Sl).call(this),this.emit("connect",e)},o1=function(){jn(this,ii,null,"f"),jn(this,Ca,null,"f"),bt(this,gr,"m",Sl).call(this),this.emit("disconnect")},Sl=function(){var e,r;const t=eo in bt(this,en,"f").features?bt(this,en,"f").features[eo].supportedTransactionVersions:bt(this,en,"f").features[or].supportedTransactionVersions;jn(this,Od,h7(t,["legacy"])?null:new Set(t),"f"),or in bt(this,en,"f").features&&((e=bt(this,ii,"f"))!=null&&e.features.includes(or))?(this.signTransaction=bt(this,gr,"m",K2),this.signAllTransactions=bt(this,gr,"m",V2)):(delete this.signTransaction,delete this.signAllTransactions),Bu in bt(this,en,"f").features&&((r=bt(this,ii,"f"))!=null&&r.features.includes(Bu))?this.signMessage=bt(this,gr,"m",G2):delete this.signMessage,Ny in bt(this,en,"f").features?this.signIn=bt(this,gr,"m",Z2):delete this.signIn},K2=async function(t){try{const e=bt(this,ii,"f");if(!e)throw new Vn;if(!(or in bt(this,en,"f").features))throw new Du;if(!e.features.includes(or))throw new Na;try{const s=(await bt(this,en,"f").features[or].signTransaction({account:e,transaction:Ko(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ko(t)?Wl.deserialize(s):ns.from(s)}catch(r){throw r instanceof mr?r:new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},V2=async function(t){try{const e=bt(this,ii,"f");if(!e)throw new Vn;if(!(or in bt(this,en,"f").features))throw new Du;if(!e.features.includes(or))throw new Na;try{const r=await bt(this,en,"f").features[or].signTransaction(...t.map(s=>({account:e,transaction:Ko(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const u=r[i].signedTransaction;return Ko(s)?Wl.deserialize(u):ns.from(u)})}catch(r){throw new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},G2=async function(t){try{const e=bt(this,ii,"f");if(!e)throw new Vn;if(!(Bu in bt(this,en,"f").features))throw new Du;if(!e.features.includes(Bu))throw new Na;try{return(await bt(this,en,"f").features[Bu].signMessage({account:e,message:t}))[0].signature}catch(r){throw new Rw(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}},Z2=async function(t={}){try{if(!(Ny in bt(this,en,"f").features))throw new Du;let e;try{[e]=await bt(this,en,"f").features[Ny].signIn(t)}catch(r){throw new a2(r==null?void 0:r.message,r)}if(!e)throw new a2;return bt(this,gr,"m",cd).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const p7=Hz;var g7=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},y7=function(n,t,e,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,e):s?s.value=e:t.set(n,e),e},ld;let Ei;const x0=new Set;function m7(n){xl=void 0,x0.add(n)}function w7(n){xl=void 0,x0.delete(n)}const Uu={};function v7(){if(Ei||(Ei=Object.freeze({register:Y2,get:_7,on:b7}),typeof window>"u"))return Ei;const n=Object.freeze({register:Y2});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(n))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new E7(n))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Ei}function Y2(...n){var t;return n=n.filter(e=>!x0.has(e)),n.length?(n.forEach(e=>m7(e)),(t=Uu.register)==null||t.forEach(e=>u1(()=>e(...n))),function(){var r;n.forEach(s=>w7(s)),(r=Uu.unregister)==null||r.forEach(s=>u1(()=>s(...n)))}):()=>{}}let xl;function _7(){return xl||(xl=[...x0]),xl}function b7(n,t){var e;return(e=Uu[n])!=null&&e.push(t)||(Uu[n]=[t]),function(){var s;Uu[n]=(s=Uu[n])==null?void 0:s.filter(i=>t!==i)}}function u1(n){try{n()}catch(t){console.error(t)}}class E7 extends Event{get detail(){return g7(this,ld,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),ld.set(this,void 0),y7(this,ld,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ld=new WeakMap;function S7(){if(Ei||(Ei=v7(),typeof window>"u"))return Ei;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),Ei;const{register:t}=Ei,e=(...r)=>r.forEach(s=>u1(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),Ei}return e(...n),Ei}function x7(n){const t=Q2(()=>new Set),{get:e,on:r}=Q2(()=>S7()),[s,i]=ce.useState(()=>J2(e()));ce.useEffect(()=>{const f=[r("register",(...p)=>i(w=>[...w,...J2(p)])),r("unregister",(...p)=>i(w=>w.filter(b=>p.some(T=>T===b.wallet))))];return()=>f.forEach(p=>p())},[r]);const u=k7(s);return ce.useEffect(()=>{if(!u)return;const f=new Set(s);new Set(u.filter(w=>!f.has(w))).forEach(w=>w.destroy())},[u,s]),ce.useEffect(()=>()=>s.forEach(f=>f.destroy()),[]),ce.useMemo(()=>[...s,...n.filter(({name:f})=>s.some(p=>p.name===f)?(t.has(f)||(t.add(f),console.warn(`${f} was registered as a Standard Wallet. The Wallet Adapter for ${f} can be removed from your app.`)),!1):!0)],[s,n,t])}function Q2(n){const t=ce.useRef(void 0);return t.current===void 0&&(t.current={value:n()}),t.current.value}function k7(n){const t=ce.useRef(void 0);return ce.useEffect(()=>{t.current=n}),t.current}function J2(n){return n.filter(p7).map(t=>new d7({wallet:t}))}var Ku;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(Ku||(Ku={}));function A7(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function I7({adapters:n,userAgentString:t}){return n.some(e=>e.name!==zo&&e.readyState===$t.Installed)?Ku.DESKTOP_WEB:t&&/android/i.test(t)&&!A7(t)?Ku.MOBILE_WEB:Ku.DESKTOP_WEB}function M7(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function R7({children:n,wallets:t,adapter:e,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:u,onSelectWallet:f}){const p=ce.useRef(!1),[w,b]=ce.useState(!1),T=ce.useRef(!1),[B,M]=ce.useState(!1),[O,P]=ce.useState(()=>(e==null?void 0:e.publicKey)??null),[N,$]=ce.useState(()=>(e==null?void 0:e.connected)??!1),j=ce.useRef(u);ce.useEffect(()=>(j.current=u,()=>{j.current=void 0}),[u]);const F=ce.useRef((h,m)=>(r.current||(j.current?j.current(h,m):(console.error(h,m),h instanceof ea&&typeof window<"u"&&m&&window.open(m.url,"_blank"))),h)),[Y,J]=ce.useState(()=>t.map(h=>({adapter:h,readyState:h.readyState})).filter(({readyState:h})=>h!==$t.Unsupported));ce.useEffect(()=>{J(m=>t.map((E,A)=>{const I=m[A];return I&&I.adapter===E&&I.readyState===E.readyState?I:{adapter:E,readyState:E.readyState}}).filter(({readyState:E})=>E!==$t.Unsupported));function h(m){J(E=>{const A=E.findIndex(({adapter:k})=>k===this);if(A===-1)return E;const{adapter:I}=E[A];return[...E.slice(0,A),{adapter:I,readyState:m},...E.slice(A+1)].filter(({readyState:k})=>k!==$t.Unsupported)})}return t.forEach(m=>m.on("readyStateChange",h,m)),()=>{t.forEach(m=>m.off("readyStateChange",h,m))}},[e,t]);const X=ce.useMemo(()=>Y.find(h=>h.adapter===e)??null,[e,Y]);ce.useEffect(()=>{if(!e)return;const h=A=>{P(A),p.current=!1,b(!1),$(!0),T.current=!1,M(!1)},m=()=>{r.current||(P(null),p.current=!1,b(!1),$(!1),T.current=!1,M(!1))},E=A=>{F.current(A,e)};return e.on("connect",h),e.on("disconnect",m),e.on("error",E),()=>{e.off("connect",h),e.off("disconnect",m),e.off("error",E),m()}},[e,r]);const te=ce.useRef(!1);ce.useEffect(()=>()=>{te.current=!1},[e]),ce.useEffect(()=>{te.current||p.current||N||!s||!((X==null?void 0:X.readyState)===$t.Installed||(X==null?void 0:X.readyState)===$t.Loadable)||(p.current=!0,b(!0),te.current=!0,async function(){try{await s()}catch{i()}finally{b(!1),p.current=!1}}())},[N,s,i,X]);const re=ce.useCallback(async(h,m,E)=>{if(!e)throw F.current(new c2);if(!N)throw F.current(new Vn,e);return await e.sendTransaction(h,m,E)},[e,N]),W=ce.useMemo(()=>e&&"signTransaction"in e?async h=>{if(!N)throw F.current(new Vn,e);return await e.signTransaction(h)}:void 0,[e,N]),q=ce.useMemo(()=>e&&"signAllTransactions"in e?async h=>{if(!N)throw F.current(new Vn,e);return await e.signAllTransactions(h)}:void 0,[e,N]),K=ce.useMemo(()=>e&&"signMessage"in e?async h=>{if(!N)throw F.current(new Vn,e);return await e.signMessage(h)}:void 0,[e,N]),V=ce.useMemo(()=>e&&"signIn"in e?async h=>await e.signIn(h):void 0,[e]),S=ce.useCallback(async()=>{if(p.current||T.current||X!=null&&X.adapter.connected)return;if(!X)throw F.current(new c2);const{adapter:h,readyState:m}=X;if(!(m===$t.Installed||m===$t.Loadable))throw F.current(new ea,h);p.current=!0,b(!0);try{await h.connect()}catch(E){throw i(),E}finally{b(!1),p.current=!1}},[i,X]),a=ce.useCallback(async()=>{if(!T.current&&e){T.current=!0,M(!0);try{await e.disconnect()}finally{M(!1),T.current=!1}}},[e]);return Ne.createElement(CI.Provider,{value:{autoConnect:!!s,wallets:Y,wallet:X,publicKey:O,connected:N,connecting:w,disconnecting:B,select:f,connect:S,disconnect:a,sendTransaction:re,signTransaction:W,signAllTransactions:q,signMessage:K,signIn:V}},n)}let lm;function T7(){var n;return lm===void 0&&(lm=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),lm}function qh(n){const t=T7();return I7({adapters:n,userAgentString:t})===Ku.MOBILE_WEB}function N7(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function B7({children:n,wallets:t,autoConnect:e,localStorageKey:r="walletName",onError:s}){const{connection:i}=Oz(),u=x7(t),f=ce.useMemo(()=>{if(!qh(u))return null;const j=u.find(F=>F.name===zo);return j||new r7({addressSelector:i7(),appIdentity:{uri:N7()},authorizationResultCache:s7(),cluster:M7(i==null?void 0:i.rpcEndpoint),onWalletNotFound:a7()})},[u,i==null?void 0:i.rpcEndpoint]),p=ce.useMemo(()=>f==null||u.indexOf(f)!==-1?u:[f,...u],[u,f]),[w,b]=qz(r,qh(u)?zo:null),T=ce.useMemo(()=>p.find(j=>j.name===w)??null,[p,w]),B=ce.useCallback(j=>{w!==j&&(T&&T.name!==zo&&T.disconnect(),b(j))},[T,b,w]);ce.useEffect(()=>{if(!T)return;function j(){P.current||w===zo&&qh(u)||b(null)}return T.on("disconnect",j),()=>{T.off("disconnect",j)}},[T,u,b,w]);const M=ce.useRef(!1),O=ce.useMemo(()=>{if(!(!e||!T))return async()=>{(e===!0||await e(T))&&(M.current?await T.connect():await T.autoConnect())}},[e,T]),P=ce.useRef(!1);ce.useEffect(()=>{if(w===zo&&qh(u)){P.current=!1;return}function j(){P.current=!0}return window.addEventListener("beforeunload",j),()=>{window.removeEventListener("beforeunload",j)}},[u,w]);const N=ce.useCallback(()=>{T&&T.name!==zo&&B(null)},[T,B]),$=ce.useCallback(j=>{M.current=!0,B(j)},[B]);return Ne.createElement(R7,{wallets:p,adapter:T,isUnloadingRef:P,onAutoConnectRequest:O,onConnectError:N,onError:s,onSelectWallet:$},n)}function C7({onSelectWallet:n}){const{connect:t,connected:e,connecting:r,disconnect:s,disconnecting:i,publicKey:u,select:f,wallet:p,wallets:w}=LI();let b;r?b="connecting":e?b="connected":i?b="disconnecting":p?b="has-wallet":b="no-wallet";const T=ce.useCallback(()=>{t().catch(()=>{})},[t]),B=ce.useCallback(()=>{s().catch(()=>{})},[s]),M=ce.useCallback(()=>{n({onSelectWallet:f,wallets:w})},[n,f,w]);return{buttonState:b,onConnect:b==="has-wallet"?T:void 0,onDisconnect:b!=="disconnecting"&&b!=="no-wallet"?B:void 0,onSelectWallet:M,publicKey:u??void 0,walletIcon:p==null?void 0:p.adapter.icon,walletName:p==null?void 0:p.adapter.name}}const GI=n=>Ne.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&Ne.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&Ne.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),ZI=({wallet:n,...t})=>n&&Ne.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...t});function L7({walletIcon:n,walletName:t,...e}){return Ne.createElement(GI,{...e,className:"wallet-adapter-button-trigger",startIcon:n&&t?Ne.createElement(ZI,{wallet:{adapter:{icon:n,name:t}}}):void 0})}function O7({children:n,labels:t,...e}){const{setVisible:r}=MI(),{buttonState:s,onConnect:i,onDisconnect:u,publicKey:f,walletIcon:p,walletName:w}=C7({onSelectWallet(){r(!0)}}),[b,T]=ce.useState(!1),[B,M]=ce.useState(!1),O=ce.useRef(null);ce.useEffect(()=>{const N=$=>{const j=O.current;!j||j.contains($.target)||M(!1)};return document.addEventListener("mousedown",N),document.addEventListener("touchstart",N),()=>{document.removeEventListener("mousedown",N),document.removeEventListener("touchstart",N)}},[]);const P=ce.useMemo(()=>{if(n)return n;if(f){const N=f.toBase58();return N.slice(0,4)+".."+N.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,n,t,f]);return Ne.createElement("div",{className:"wallet-adapter-dropdown"},Ne.createElement(L7,{...e,"aria-expanded":B,style:{pointerEvents:B?"none":"auto",...e.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":M(!0);break}},walletIcon:p,walletName:w},P),Ne.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${B&&"wallet-adapter-dropdown-list-active"}`,ref:O,role:"menu"},f?Ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(f.toBase58()),T(!0),setTimeout(()=>T(!1),400)},role:"menuitem"},b?t.copied:t["copy-address"]):null,Ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),M(!1)},role:"menuitem"},t["change-wallet"]),u?Ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{u(),M(!1)},role:"menuitem"},t.disconnect):null))}const X2=({id:n,children:t,expanded:e=!1})=>{const r=ce.useRef(null),s=ce.useRef(!0),i="height 250ms ease-out",u=()=>{const p=r.current;p&&requestAnimationFrame(()=>{p.style.height=p.scrollHeight+"px"})},f=()=>{const p=r.current;p&&requestAnimationFrame(()=>{p.style.height=p.offsetHeight+"px",p.style.overflow="hidden",requestAnimationFrame(()=>{p.style.height="0"})})};return ce.useLayoutEffect(()=>{e?u():f()},[e]),ce.useLayoutEffect(()=>{const p=r.current;if(!p)return;function w(){p&&(p.style.overflow=e?"initial":"hidden",e&&(p.style.height="auto"))}function b(T){p&&T.target===p&&T.propertyName==="height"&&w()}return s.current&&(w(),s.current=!1),p.addEventListener("transitionend",b),()=>p.removeEventListener("transitionend",b)},[e]),Ne.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},fm=({handleClick:n,tabIndex:t,wallet:e})=>Ne.createElement("li",null,Ne.createElement(GI,{onClick:n,startIcon:Ne.createElement(ZI,{wallet:e}),tabIndex:t},e.adapter.name,e.readyState===$t.Installed&&Ne.createElement("span",null,"Detected"))),P7=()=>Ne.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ne.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Ne.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Ne.createElement("g",{clipPath:"url(#clip0_880_5115)"},Ne.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Ne.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Ne.createElement("defs",null,Ne.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Ne.createElement("stop",{stopColor:"#9945FF"}),Ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ne.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Ne.createElement("stop",{stopColor:"#9945FF"}),Ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ne.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Ne.createElement("stop",{stopColor:"#9945FF"}),Ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ne.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Ne.createElement("stop",{stopColor:"#9945FF"}),Ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Ne.createElement("clipPath",{id:"clip0_880_5115"},Ne.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),D7=({className:n="",container:t="body"})=>{const e=ce.useRef(null),{wallets:r,select:s}=LI(),{setVisible:i}=MI(),[u,f]=ce.useState(!1),[p,w]=ce.useState(!1),[b,T]=ce.useState(null),[B,M]=ce.useMemo(()=>{const F=[],Y=[];for(const J of r)J.readyState===$t.Installed?F.push(J):Y.push(J);return F.length?[F,Y]:[Y,[]]},[r]),O=ce.useCallback(()=>{w(!1),setTimeout(()=>i(!1),150)},[i]),P=ce.useCallback(F=>{F.preventDefault(),O()},[O]),N=ce.useCallback((F,Y)=>{s(Y),P(F)},[s,P]),$=ce.useCallback(()=>f(!u),[u]),j=ce.useCallback(F=>{const Y=e.current;if(!Y)return;const J=Y.querySelectorAll("button"),X=J[0],te=J[J.length-1];F.shiftKey?document.activeElement===X&&(te.focus(),F.preventDefault()):document.activeElement===te&&(X.focus(),F.preventDefault())},[e]);return ce.useLayoutEffect(()=>{const F=J=>{J.key==="Escape"?O():J.key==="Tab"&&j(J)},{overflow:Y}=window.getComputedStyle(document.body);return setTimeout(()=>w(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",F,!1),()=>{document.body.style.overflow=Y,window.removeEventListener("keydown",F,!1)}},[O,j]),ce.useLayoutEffect(()=>T(document.querySelector(t)),[t]),b&&h4.createPortal(Ne.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${p&&"wallet-adapter-modal-fade-in"} ${n}`,ref:e,role:"dialog"},Ne.createElement("div",{className:"wallet-adapter-modal-container"},Ne.createElement("div",{className:"wallet-adapter-modal-wrapper"},Ne.createElement("button",{onClick:P,className:"wallet-adapter-modal-button-close"},Ne.createElement("svg",{width:"14",height:"14"},Ne.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),B.length?Ne.createElement(Ne.Fragment,null,Ne.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Ne.createElement("ul",{className:"wallet-adapter-modal-list"},B.map(F=>Ne.createElement(fm,{key:F.adapter.name,handleClick:Y=>N(Y,F.adapter.name),wallet:F})),M.length?Ne.createElement(X2,{expanded:u,id:"wallet-adapter-modal-collapse"},M.map(F=>Ne.createElement(fm,{key:F.adapter.name,handleClick:Y=>N(Y,F.adapter.name),tabIndex:u?0:-1,wallet:F}))):null),M.length?Ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:$,tabIndex:0},Ne.createElement("span",null,u?"Less ":"More ","options"),Ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${u?"wallet-adapter-modal-list-more-icon-rotate":""}`},Ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Ne.createElement(Ne.Fragment,null,Ne.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Ne.createElement("div",{className:"wallet-adapter-modal-middle"},Ne.createElement(P7,null)),M.length?Ne.createElement(Ne.Fragment,null,Ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:$,tabIndex:0},Ne.createElement("span",null,u?"Hide ":"Already have a wallet? View ","options"),Ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${u?"wallet-adapter-modal-list-more-icon-rotate":""}`},Ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Ne.createElement(X2,{expanded:u,id:"wallet-adapter-modal-collapse"},Ne.createElement("ul",{className:"wallet-adapter-modal-list"},M.map(F=>Ne.createElement(fm,{key:F.adapter.name,handleClick:Y=>N(Y,F.adapter.name),tabIndex:u?0:-1,wallet:F}))))):null))),Ne.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:P})),b)},U7=({children:n,...t})=>{const[e,r]=ce.useState(!1);return Ne.createElement(II.Provider,{value:{visible:e,setVisible:r}},n,e&&Ne.createElement(D7,{...t}))},z7={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function F7(n){return Ne.createElement(O7,{...n,labels:z7})}const $7=()=>kt.jsxs("nav",{className:"flex justify-between items-center py-4 px-10 bg-transparent text-white fixed top-0 left-0 right-0 z-50",children:[kt.jsx("p",{style:{fontFamily:'"Kaushan Script", cursive'},className:"text-[2rem] font-600",children:"SZ"}),kt.jsxs("ul",{className:"flex gap-8",children:[kt.jsx(wl,{to:"/join-game",className:"hover:text-gray-500 font-700",children:"Join Game"}),kt.jsx(wl,{to:"/create-game",className:"hover:text-gray-500 font-700",children:"Create Game"}),kt.jsx(wl,{to:"/claim-rewards",className:"hover:text-gray-500 font-700",children:"Claim Rewards"})]}),kt.jsx(F7,{})]});function j7(){return kt.jsxs("div",{className:'gap-4 bg-purple-900 h-screen bg-[url("../src/assets/bg.jpeg")] bg-black bg-blend-multiply w-full bg-cover bg-center bg-no-repeat',children:[kt.jsx($7,{}),kt.jsxs(BT,{children:[kt.jsx(dl,{path:"/",element:kt.jsx(mb,{})}),kt.jsx(dl,{path:"/create-game",element:kt.jsx(Cz,{})}),kt.jsx(dl,{path:"join-game",element:kt.jsx(Lz,{})}),kt.jsx(dl,{path:"/claim-rewards",element:kt.jsx(mb,{})})]})]})}const H7="modulepreload",W7=function(n){return"/"+n},ex={},YI=function(t,e,r){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(e.map(p=>{if(p=W7(p),p in ex)return;ex[p]=!0;const w=p.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":H7,w||(T.as="script"),T.crossOrigin="",T.href=p,f&&T.setAttribute("nonce",f),document.head.appendChild(T),w)return new Promise((B,M)=>{T.addEventListener("load",B),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&i(f.reason);return t().catch(i)})},q7="Nightly";class K7 extends Tw{constructor(){super(),this.name=q7,this.url="https://nightly.app",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQ4IDk2Qzc0LjUwOTcgOTYgOTYgNzQuNTA5NyA5NiA0OEM5NiAyMS40OTAzIDc0LjUwOTcgMCA0OCAwQzIxLjQ5MDMgMCAwIDIxLjQ5MDMgMCA0OEMwIDc0LjUwOTcgMjEuNDkwMyA5NiA0OCA5NloiIGZpbGw9IiM2RDczRjgiLz4KPHBhdGggZD0iTTQ4IDg1LjYzNTZDNDggODUuNjM1NiA1Mi40NTMzIDg1LjYzNTYgNTUuNDQgODIuNTg2N0M1OC45MTU1IDc5LjI4MDEgNTcuMzUxMSA3NS40MzEyIDYyLjI3NTUgNzEuNDMxMkM2Ni45ODY2IDY3LjY0NDUgNzIuOTI0NCA3MC4zMzc5IDcyLjkyNDQgNzAuMzM3OUM3Ny4wMjIyIDYyLjEyNDUgNzQuNzkxMSA1Mi41NjkgNzQuNzkxMSA1Mi41NjlDODEuNzY4OCAzNC4yNTc5IDc1Ljk2NDQgMjEuMTU1NyA3NC40NDQ0IDE3LjM2MDFDNjkuNDQ4OCAyNC4zMzc5IDYzLjE5MTEgMjkuMTczNCA1NS43OTU1IDMyLjQwOUM1My4yMjY2IDMxLjcwNjggNTAuNTk1NSAzMS4zMzM0IDQ4IDMxLjM2MDFDNDUuNDEzMyAzMS4zMzM0IDQyLjc3MzMgMzEuNzA2OCA0MC4yMDQ0IDMyLjQwOUMzMi44MTc3IDI5LjE2NDUgMjYuNTUxMSAyNC4zMzc5IDIxLjU1NTUgMTcuMzYwMUMyMC4wMzU1IDIxLjE1NTcgMTQuMjMxMSAzNC4yNTc5IDIxLjIwODkgNTIuNTY5QzIxLjIwODkgNTIuNTY5IDE4Ljk3NzggNjIuMTI0NSAyMy4wNzU1IDcwLjMzNzlDMjMuMDc1NSA3MC4zMzc5IDI5LjAxMzMgNjcuNjQ0NSAzMy43MjQ0IDcxLjQzMTJDMzguNjU3NyA3NS40MzEyIDM3LjA4NDQgNzkuMjgwMSA0MC41NiA4Mi41ODY3QzQzLjU0NjYgODUuNjM1NiA0OCA4NS42MzU2IDQ4IDg1LjYzNTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDIuNDc5OSA2NS4yOThDNDIuMjkzMyA1OS4yMTggMzYuMzAyMSA1Ny4yNjI0IDMyLjIxMzMgNTkuODIyNEMzMi4yMTMzIDU5LjgyMjQgMzIuODUzMyA2Mi40MzU4IDM1LjgzOTkgNjMuNzUxM0MzOC4yNzU1IDY0LjgyNjkgMzkuMzI0NCA2My4zODY5IDQyLjQ3OTkgNjUuMjk4WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNMjIuNDk3NyAyMy4wOTM1QzIwLjA4ODggMzEuNTQ2OCAyMS4xMjg4IDQyLjI0MDIgMjQuOTMzMyA1MC4wMjY5QzI4LjgyNjYgNDcuMjcxMyAzMi45MTU1IDQzLjAxMzUgMzUuMDkzMyAzOC41MDY5QzI5Ljk2NDQgMzQuNzExMyAyNS42NjIyIDMxLjEwMjQgMjIuNDk3NyAyMy4wOTM1WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNNTMuNTE5OSA2NS4yOThDNTMuNzA2NiA1OS4yMTggNTkuNjk3NyA1Ny4yNjI0IDYzLjc4NjYgNTkuODIyNEM2My43ODY2IDU5LjgyMjQgNjMuMTQ2NiA2Mi40MzU4IDYwLjE1OTkgNjMuNzUxM0M1Ny43MjQzIDY0LjgyNjkgNTYuNjc1NSA2My4zODY5IDUzLjUxOTkgNjUuMjk4WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNNzMuNTAyMiAyMy4wOTM1Qzc1LjkxMTEgMzEuNTQ2OCA3NC44NzExIDQyLjI0MDIgNzEuMDY2NiA1MC4wMjY5QzY3LjE3MzMgNDcuMjcxMyA2My4wODQ0IDQzLjAxMzUgNjAuOTA2NiAzOC41MDY5QzY2LjAzNTUgMzQuNzExMyA3MC4zMzc3IDMxLjEwMjQgNzMuNTAyMiAyMy4wOTM1WiIgZmlsbD0iIzdCODFGOSIvPgo8cGF0aCBkPSJNNDcuOTk5OSA4NS4zMDY5QzUwLjE0MDQgODUuMzA2OSA1MS44NzU1IDgzLjc3ODcgNTEuODc1NSA4MS44OTM2QzUxLjg3NTUgODAuMDA4NCA1MC4xNDA0IDc4LjQ4MDIgNDcuOTk5OSA3OC40ODAyQzQ1Ljg1OTUgNzguNDgwMiA0NC4xMjQ0IDgwLjAwODQgNDQuMTI0NCA4MS44OTM2QzQ0LjEyNDQgODMuNzc4NyA0NS44NTk1IDg1LjMwNjkgNDcuOTk5OSA4NS4zMDY5WiIgZmlsbD0iIzdCODFGOSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?$t.Unsupported:$t.NotDetected,this._connecting=!1,this._publicKey=null,this._wallet=null,this._readyState!==$t.Unsupported&&BI(()=>{var t;return(t=window==null?void 0:window.nightly)!=null&&t.solana?(this._readyState=$t.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get connecting(){return this._connecting}get readyState(){return this._readyState}get publicKey(){return this._publicKey}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==$t.Installed)throw new ea;this._connecting=!0;const t=window.nightly.solana;try{await t.connect()}catch(r){throw new Wo(r==null?void 0:r.message,r)}if(t.publicKey.toString()==="11111111111111111111111111111111")throw new Na;let e;try{e=new At(t.publicKey.toBytes())}catch(r){throw new Kl(r==null?void 0:r.message,r)}this._wallet=t,this._publicKey=e,this.emit("connect",e)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch{this.emit("error",new E0)}}this.emit("disconnect")}async signTransaction(t){try{const e=this._wallet;if(!e)throw new Vn;try{return await e.signTransaction(t)}catch(r){throw new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new Vn;try{return await e.signAllTransactions(t)}catch(r){throw new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new Vn;try{return e.signMessage(new TextDecoder().decode(t))}catch(r){throw new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}const V7="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var an=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},G7=function(n,t,e,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,e):s?s.value=e:t.set(n,e),e},fd,Oa,c1,l1,f1,Cr,h1,QI,JI,d1,p1,g1,y1,m1;class Z7{constructor(){fd.add(this),Oa.set(this,{}),c1.set(this,"1.0.0"),l1.set(this,"MetaMask"),f1.set(this,V7),Cr.set(this,null),h1.set(this,(t,e)=>{var r;return(r=an(this,Oa,"f")[t])!=null&&r.push(e)||(an(this,Oa,"f")[t]=[e]),()=>an(this,fd,"m",JI).call(this,t,e)}),d1.set(this,async()=>{if(!an(this,Cr,"f")){let t;try{t=(await YI(async()=>{const{default:e}=await import("./index-Bh5KyVj2.js");return{default:e}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}G7(this,Cr,new t,"f"),an(this,Cr,"f").on("standard_change",e=>an(this,fd,"m",QI).call(this,"change",e))}return this.accounts.length||await an(this,Cr,"f").connect(),{accounts:this.accounts}}),p1.set(this,async()=>{an(this,Cr,"f")&&await an(this,Cr,"f").disconnect()}),g1.set(this,async(...t)=>{if(!an(this,Cr,"f"))throw new Vn;return await an(this,Cr,"f").standardSignAndSendTransaction(...t)}),y1.set(this,async(...t)=>{if(!an(this,Cr,"f"))throw new Vn;return await an(this,Cr,"f").standardSignTransaction(...t)}),m1.set(this,async(...t)=>{if(!an(this,Cr,"f"))throw new Vn;return await an(this,Cr,"f").standardSignMessage(...t)})}get version(){return an(this,c1,"f")}get name(){return an(this,l1,"f")}get icon(){return an(this,f1,"f")}get chains(){return[r1,OI,PI]}get features(){return{[Nw]:{version:"1.0.0",connect:an(this,d1,"f")},[n1]:{version:"1.0.0",disconnect:an(this,p1,"f")},[Bw]:{version:"1.0.0",on:an(this,h1,"f")},[eo]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:an(this,g1,"f")},[or]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:an(this,y1,"f")},[Bu]:{version:"1.0.0",signMessage:an(this,m1,"f")}}}get accounts(){return an(this,Cr,"f")?an(this,Cr,"f").standardAccounts:[]}}Oa=new WeakMap,c1=new WeakMap,l1=new WeakMap,f1=new WeakMap,Cr=new WeakMap,h1=new WeakMap,d1=new WeakMap,p1=new WeakMap,g1=new WeakMap,y1=new WeakMap,m1=new WeakMap,fd=new WeakSet,QI=function(t,...e){var r;(r=an(this,Oa,"f")[t])==null||r.forEach(s=>s.apply(null,e))},JI=function(t,e){var r;an(this,Oa,"f")[t]=(r=an(this,Oa,"f")[t])==null?void 0:r.filter(s=>e!==s)};let tx=!1;function Y7(){tx||(l7(new Z7),tx=!0)}async function Q7(){const n="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:n,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function e(r){var i,u;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((u=s.data.data)==null?void 0:u.id)===n?(window.removeEventListener("message",e),s.data.data.error||Y7()):t())}window.addEventListener("message",e),window.setTimeout(()=>window.removeEventListener("message",e),5e3),t()}const J7="Solflare";class X7 extends Tw{constructor(t={}){super(),this.name=J7,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?$t.Unsupported:$t.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new E0),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const r=this._publicKey;if(r){try{e=new At(e.toBytes())}catch(s){this.emit("error",new Kl(s==null?void 0:s.message,s));return}r.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==$t.Unsupported&&(BI(()=>{var e;return(e=window.solflare)!=null&&e.isSolflare||window.SolflareApp?(this._readyState=$t.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),Q7())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===$t.Loadable&&u2()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==$t.Loadable&&this._readyState!==$t.Installed)throw new ea;if(this.readyState===$t.Loadable&&u2()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let t;try{t=(await YI(async()=>{const{default:s}=await import("./index-CV1lwoGo.js");return{default:s}},[])).default}catch(s){throw new Fz(s==null?void 0:s.message,s)}let e;try{e=new t({network:this._config.network})}catch(s){throw new Du(s==null?void 0:s.message,s)}if(this._connecting=!0,!e.connected)try{await e.connect()}catch(s){throw new Wo(s==null?void 0:s.message,s)}if(!e.publicKey)throw new Wo;let r;try{r=new At(e.publicKey.toBytes())}catch(s){throw new Kl(s==null?void 0:s.message,s)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new TI(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,r={}){try{const s=this._wallet;if(!s)throw new Vn;try{const{signers:i,...u}=r;return Ko(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,u),i!=null&&i.length&&t.partialSign(...i)),u.preflightCommitment=u.preflightCommitment||e.commitment,await s.signAndSendTransaction(t,u)}catch(i){throw i instanceof mr?i:new qo(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new Vn;try{return await e.signTransaction(t)||t}catch(r){throw new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new Vn;try{return await e.signAllTransactions(t)||t}catch(r){throw new Fi(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new Vn;try{return await e.signMessage(t,"utf8")}catch(r){throw new Rw(r==null?void 0:r.message,r)}}catch(e){throw this.emit("error",e),e}}}const e$=({children:n})=>{const t="https://api.testnet.sonic.game",e=ce.useMemo(()=>[new K7,new X7],[]);return kt.jsx(Pz,{endpoint:t,children:kt.jsx(B7,{wallets:e,autoConnect:!0,children:kt.jsx(U7,{children:n})})})};WR.createRoot(document.getElementById("root")).render(kt.jsx(ce.StrictMode,{children:kt.jsx(n4,{children:kt.jsx(Nz,{children:kt.jsx(e$,{children:kt.jsx(j7,{})})})})}));export{tI as E,At as P,eo as S,ns as T,Wl as V,or as a,jI as b,Bu as c};
